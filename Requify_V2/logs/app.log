2025-05-18 19:46:44 [INFO] PyTorch version 2.6.0 available.
2025-05-18 19:46:54 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=5, dry_run=False, skip_hash_check=False)
2025-05-18 19:46:54 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 19:46:54 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 19:46:54 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 19:46:54 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 19:46:54 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 19:46:54 [INFO] [Hash_Deduplication] Found SHA256 hash match: _01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 19:46:54 [INFO] [Hash_Deduplication] File _01_input/raw/fighter_jet_unique_reordered.pdf is a duplicate of _01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 19:46:54 [INFO] [Pipeline_Controller] ‚ùå Document fighter_jet_unique_reordered.pdf is an exact duplicate of _01_input/raw/fighter_jet_unique_reordered.pdf (by hash). Aborting further processing.
2025-05-18 19:46:54 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 19:46:54 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 19:46:54 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 19:46:54 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 19:46:54 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:00:16 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:02:15 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:02:15 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:02:15 [INFO] [Pipeline_Runner] === Running Pipeline Test with Hardcoded File ===
2025-05-18 20:02:15 [INFO] [Pipeline_Runner] Running pipeline on test file: _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:15 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 20:02:15 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:15 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:15 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 20:02:15 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:16 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:16 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:16 [INFO] [Hash_Deduplication] File hash check completed in 0.09 seconds. File is unique.
2025-05-18 20:02:16 [INFO] [Pipeline_Controller] ‚úÖ Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 20:02:16 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:16 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 20:02:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:16 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:02:16 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:02:22 [INFO] Token counters updated: 2557 input, 369 output
2025-05-18 20:02:22 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:02:22 [INFO] [PDF_Parsing] Extracted 1755 chars from page 1
2025-05-18 20:02:22 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 20:02:22 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 20:02:23 [INFO] Token counters updated: 3136 input, 461 output
2025-05-18 20:02:24 [INFO] Token counters updated: 3360 input, 470 output
2025-05-18 20:02:24 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Document
2025-05-18 20:02:24 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Document"
2025-05-18 20:02:24 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:02:24 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:24 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:02:24 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:24 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:02:24 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:02:25 [INFO] Token counters updated: 4170 input, 610 output
2025-05-18 20:02:25 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:02:25 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 20:02:25 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:02:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:25 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:25 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Document
2025-05-18 20:02:25 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:02:25 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:02:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:02:25 [INFO] [Pipeline_Controller] ‚úÖ Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:02:25 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:02:25 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:02:25 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:02:25 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:02:25 [INFO] Use pytorch device_name: mps
2025-05-18 20:02:25 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:02:31 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Not creating index: documents has only 2 rows, minimum 256 required
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Duplicate check completed in 0.03s: 1 new, 0 dup, 0 updates
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Not creating index: documents has only 2 rows, minimum 256 required
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 20:02:31 [INFO] [Save_To_LanceDB] Processing completed in 5.98 seconds
2025-05-18 20:02:31 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 20:02:31 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:31 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:02:31 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 20:02:31 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 20:02:31 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:31 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1757 characters using simplified LLM approach
2025-05-18 20:02:31 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 20:02:31 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1757 characters
2025-05-18 20:02:39 [INFO] Token counters updated: 4736 input, 1016 output
2025-05-18 20:02:39 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 20:02:39 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 20:02:39 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 20:02:39 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 375/761/580.7
2025-05-18 20:02:39 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 93/190/144.7
2025-05-18 20:02:39 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 20:02:39 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 20:02:39 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 20:02:39 [INFO] Use pytorch device_name: mps
2025-05-18 20:02:39 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:02:45 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] üìä Found 8 existing chunks to compare against
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  is similar to fighter_jet_unique_reordered.pdf_chunk_2  (similarity: 0.9321)
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_2  (similarity: 0.9562)
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_3  (similarity: 0.9549)
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 0 new chunks, 0 duplicate chunks, and 3 similar chunks (total: 3 chunks) in 0.03s
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 20:02:45 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 20:02:45 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 20:02:45 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 3
2025-05-18 20:02:45 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 0
2025-05-18 20:02:45 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 20:02:45 [INFO] [Integrated_Chunking] üìä Deduplication results: 0 new chunks, 0 duplicates, 3 updates
2025-05-18 20:02:45 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 20:02:45 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 20:02:45 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 11 rows, minimum 256 required
2025-05-18 20:02:45 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 13.68 seconds
2025-05-18 20:02:45 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 20:02:45 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 20:02:45 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:45 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:45 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:45 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 20:02:45 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 20:02:45 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:45 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 29.28 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:02:45 [INFO] [Pipeline_Runner] === Pipeline Test Completed Successfully ===
2025-05-18 20:02:45 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:02:46 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:02:46 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:46 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:02:46 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:02:46 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:02:46 [INFO] [Pipeline_Runner] 2025-05-18 20:02:46 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:02:46 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:02:46 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:02:46 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (1 documents) ===
1. fighter_jet_rocket_launcher_spec_2_combined: 1 pages

=== Document Relationships ===
No document relationships found

=== Deduplication Statistics ===
Total chunks in database: 3
Documents with chunks: 1

=== Chunk Counts by Document ===
fighter_jet_rocket_launcher_spec_2.pdf: 3 chunks
2025-05-18 20:02:46 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:02:46 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:03:37 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:03:37 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:03:37 [INFO] [Pipeline_Runner] === Document Processing Pipeline Runner ===
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] === Available Input Files ===
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 1. Fighter_Jet_Engine_Detailed_Requirements.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 2. Fighter_Jet_Engine_Detailed_Requirements_1 copy.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 3. Fighter_Jet_Engine_Detailed_Requirements_1.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 4. SYSTEM REQUIREMENTS ALQ-172 & Low Band Jammer - AC130.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 5. fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 6. fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 7. fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 8. fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 9. fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 10. fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 11. fighter_jet_unique_original.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 12. fighter_jet_unique_reordered.pdf
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 13. file-sample_1MB.docx
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 14. high-level_requirements.txt
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 15. high-level_requirements_V2.txt
2025-05-18 20:03:39 [INFO] [Pipeline_Runner] 16. top_requirements.txt
2025-05-18 20:03:40 [INFO] [Pipeline_Runner] === Available Pipeline Steps ===
2025-05-18 20:03:40 [INFO] [Pipeline_Runner] 1. Hash-based duplicate check only
2025-05-18 20:03:40 [INFO] [Pipeline_Runner] 2. Parse document only
2025-05-18 20:03:40 [INFO] [Pipeline_Runner] 3. Parse + Check for duplicates (no DB save)
2025-05-18 20:03:40 [INFO] [Pipeline_Runner] 4. Parse + Save to LanceDB (no chunking)
2025-05-18 20:03:40 [INFO] [Pipeline_Runner] 5. Parse + Save to LanceDB + Chunk document
2025-05-18 20:03:40 [INFO] [Pipeline_Runner] 6. Complete pipeline (extract requirements)
2025-05-18 20:03:43 [INFO] [Pipeline_Runner] === Pipeline Run Settings ===
2025-05-18 20:03:43 [INFO] [Pipeline_Runner] Input file: _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:03:43 [INFO] [Pipeline_Runner] Maximum step: 5 - Parse + Save to LanceDB + Chunk document
2025-05-18 20:03:43 [INFO] [Pipeline_Runner] === Starting Pipeline ===
2025-05-18 20:03:43 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=5, dry_run=False, skip_hash_check=False)
2025-05-18 20:03:43 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:03:43 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:03:43 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 20:03:43 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:03:43 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:03:43 [INFO] [Hash_Deduplication] Found SHA256 hash match: _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:03:43 [INFO] [Hash_Deduplication] File _01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:03:43 [INFO] [Pipeline_Controller] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of _01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 20:03:43 [INFO] [Pipeline_Runner] === Pipeline Completed Successfully ===
2025-05-18 20:03:43 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:03:43 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:03:43 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:03:43 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:03:43 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:03:43 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:03:43 [INFO] [Pipeline_Runner] 2025-05-18 20:03:43 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:03:43 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:03:43 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:03:43 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (2 documents) ===
1. fighter_jet_rocket_launcher_spec_2_combined: 1 pages
2. fighter_jet_rocket_launcher_spec_combined: 1 pages

=== Document Relationships ===
No document relationships found

=== Deduplication Statistics ===
Total chunks in database: 8
Documents with chunks: 2

=== Chunk Counts by Document ===
fighter_jet_rocket_launcher_spec.pdf: 5 chunks
fighter_jet_rocket_launcher_spec_2.pdf: 3 chunks
2025-05-18 20:03:43 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:03:43 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:04:09 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:04:09 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:04:09 [INFO] [Pipeline_Runner] === Document Processing Pipeline Runner ===
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] === Available Input Files ===
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 1. Fighter_Jet_Engine_Detailed_Requirements.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 2. Fighter_Jet_Engine_Detailed_Requirements_1 copy.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 3. Fighter_Jet_Engine_Detailed_Requirements_1.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 4. SYSTEM REQUIREMENTS ALQ-172 & Low Band Jammer - AC130.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 5. fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 6. fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 7. fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 8. fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 9. fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 10. fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 11. fighter_jet_unique_original.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 12. fighter_jet_unique_reordered.pdf
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 13. file-sample_1MB.docx
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 14. high-level_requirements.txt
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 15. high-level_requirements_V2.txt
2025-05-18 20:04:17 [INFO] [Pipeline_Runner] 16. top_requirements.txt
2025-05-18 20:04:23 [INFO] [Pipeline_Runner] === Available Pipeline Steps ===
2025-05-18 20:04:23 [INFO] [Pipeline_Runner] 1. Hash-based duplicate check only
2025-05-18 20:04:23 [INFO] [Pipeline_Runner] 2. Parse document only
2025-05-18 20:04:23 [INFO] [Pipeline_Runner] 3. Parse + Check for duplicates (no DB save)
2025-05-18 20:04:23 [INFO] [Pipeline_Runner] 4. Parse + Save to LanceDB (no chunking)
2025-05-18 20:04:23 [INFO] [Pipeline_Runner] 5. Parse + Save to LanceDB + Chunk document
2025-05-18 20:04:23 [INFO] [Pipeline_Runner] 6. Complete pipeline (extract requirements)
2025-05-18 20:04:31 [INFO] [Pipeline_Runner] === Pipeline Run Settings ===
2025-05-18 20:04:31 [INFO] [Pipeline_Runner] Input file: _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:31 [INFO] [Pipeline_Runner] Maximum step: 6 - Complete pipeline (extract requirements)
2025-05-18 20:04:31 [INFO] [Pipeline_Runner] === Starting Pipeline ===
2025-05-18 20:04:31 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 20:04:31 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:31 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:31 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 20:04:31 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:04:31 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:04:31 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:31 [INFO] [Hash_Deduplication] File hash check completed in 0.02 seconds. File is unique.
2025-05-18 20:04:31 [INFO] [Pipeline_Controller] ‚úÖ Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 20:04:31 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:31 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:31 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 20:04:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:31 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:31 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:04:32 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 20:04:32 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:04:32 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:04:32 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:04:32 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:04:32 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:04:32 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:04:34 [INFO] Token counters updated: 2557 input, 354 output
2025-05-18 20:04:34 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:04:34 [INFO] [PDF_Parsing] Extracted 1568 chars from page 1
2025-05-18 20:04:34 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 20:04:34 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 20:04:35 [INFO] Token counters updated: 3140 input, 461 output
2025-05-18 20:04:36 [INFO] Token counters updated: 3366 input, 470 output
2025-05-18 20:04:36 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:04:36 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 20:04:36 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:04:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:36 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:04:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:36 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:04:36 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:04:37 [INFO] Token counters updated: 4160 input, 594 output
2025-05-18 20:04:37 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:04:37 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, Hydra70, APKWS, CRV7, Zuni...
2025-05-18 20:04:37 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:04:37 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:37 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:37 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:04:37 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:04:37 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:04:37 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:04:37 [INFO] [Pipeline_Controller] ‚úÖ Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:04:37 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:04:37 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:04:37 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:04:37 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:04:37 [INFO] Use pytorch device_name: mps
2025-05-18 20:04:37 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:04:42 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Not creating index: documents has only 3 rows, minimum 256 required
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Not creating index: documents has only 3 rows, minimum 256 required
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 20:04:42 [INFO] [Save_To_LanceDB] Processing completed in 5.41 seconds
2025-05-18 20:04:42 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 20:04:42 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:04:42 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:04:42 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 20:04:42 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 20:04:42 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:42 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:04:42 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:04:42 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:04:42 [INFO] [Context_Chunking] Retrieved 3 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:04:42 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 20:04:42 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 20:04:49 [INFO] Token counters updated: 5287 input, 946 output
2025-05-18 20:04:49 [INFO] [Context_Chunking] Context-aware chunking produced 3 chunks
2025-05-18 20:04:49 [INFO] [Context_Chunking] Created 3 initial chunks
2025-05-18 20:04:51 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:04:51 [WARNING] [Context_Chunking] Could not find exact position for chunk 1, using approximate position
2025-05-18 20:04:52 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 20:04:52 [ERROR] [Pipeline_Controller] ‚ùå Error during document chunking: module '_00_utils' has no attribute 'generate_timestamp'
2025-05-18 20:04:52 [ERROR] [Pipeline_Runner] === Pipeline Failed ===
2025-05-18 20:04:52 [ERROR] [Pipeline_Runner] Check the logs for more information.
2025-05-18 20:09:38 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:09:38 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:09:38 [INFO] [Pipeline_Runner] === Running Pipeline Test with Hardcoded File ===
2025-05-18 20:09:38 [INFO] [Pipeline_Runner] Running pipeline on test file: _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:09:38 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 20:09:38 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:09:38 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:09:38 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 20:09:38 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:09:38 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:09:38 [INFO] [Hash_Deduplication] Found SHA256 hash match: _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:09:38 [INFO] [Hash_Deduplication] File _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf is a duplicate of _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:09:38 [INFO] [Pipeline_Controller] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf is an exact duplicate of _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf (by hash). Aborting further processing.
2025-05-18 20:09:38 [INFO] [Pipeline_Runner] === Pipeline Test Completed Successfully ===
2025-05-18 20:09:38 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:09:39 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:09:39 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:09:39 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:09:39 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:09:39 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:09:39 [INFO] [Pipeline_Runner] 2025-05-18 20:09:39 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:09:39 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:09:39 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:09:39 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (2 documents) ===
1. fighter_jet_rocket_launcher_spec_2_changed_values_combined: 1 pages
2. fighter_jet_rocket_launcher_spec_2_combined: 1 pages

=== Document Relationships ===
No document relationships found

=== Deduplication Statistics ===
Total chunks in database: 3
Documents with chunks: 1

=== Chunk Counts by Document ===
fighter_jet_rocket_launcher_spec_2.pdf: 3 chunks
2025-05-18 20:09:39 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:09:39 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:09:53 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:09:53 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:09:53 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_unique_original.pdf up to step 5 (Parse + Save to LanceDB + Chunk document)
2025-05-18 20:09:53 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=5, dry_run=False, skip_hash_check=False)
2025-05-18 20:09:53 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 20:09:53 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:09:53 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 20:09:53 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:09:53 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:09:53 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:09:53 [INFO] [Hash_Deduplication] File hash check completed in 0.02 seconds. File is unique.
2025-05-18 20:09:53 [INFO] [Pipeline_Controller] ‚úÖ Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 20:09:53 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 20:09:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:53 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 20:09:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 20:09:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 20:09:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:53 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:09:53 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:09:56 [INFO] Token counters updated: 2557 input, 403 output
2025-05-18 20:09:56 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:09:56 [INFO] [PDF_Parsing] Extracted 1939 chars from page 1
2025-05-18 20:09:56 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 20:09:56 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 20:09:57 [INFO] Token counters updated: 3121 input, 505 output
2025-05-18 20:09:58 [INFO] Token counters updated: 3342 input, 514 output
2025-05-18 20:09:58 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:09:58 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 20:09:58 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:09:58 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:58 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:09:58 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:58 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:09:58 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:09:59 [INFO] Token counters updated: 4186 input, 629 output
2025-05-18 20:09:59 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:09:59 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 20:09:59 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:09:59 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:59 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 20:09:59 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:09:59 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:09:59 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 20:09:59 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:09:59 [INFO] [Pipeline_Controller] ‚úÖ Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:09:59 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:09:59 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:09:59 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:09:59 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:09:59 [INFO] Use pytorch device_name: mps
2025-05-18 20:09:59 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:10:24 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:10:24 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:10:24 [INFO] [Pipeline_Runner] === Document Processing Pipeline Runner ===
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] === Available Input Files ===
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 1. Fighter_Jet_Engine_Detailed_Requirements.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 2. Fighter_Jet_Engine_Detailed_Requirements_1 copy.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 3. Fighter_Jet_Engine_Detailed_Requirements_1.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 4. SYSTEM REQUIREMENTS ALQ-172 & Low Band Jammer - AC130.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 5. fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 6. fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 7. fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 8. fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 9. fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 10. fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 11. fighter_jet_unique_original.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 12. fighter_jet_unique_reordered.pdf
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 13. file-sample_1MB.docx
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 14. high-level_requirements.txt
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 15. high-level_requirements_V2.txt
2025-05-18 20:10:31 [INFO] [Pipeline_Runner] 16. top_requirements.txt
2025-05-18 20:10:32 [INFO] [Pipeline_Runner] === Available Pipeline Steps ===
2025-05-18 20:10:32 [INFO] [Pipeline_Runner] 1. Hash-based duplicate check only
2025-05-18 20:10:32 [INFO] [Pipeline_Runner] 2. Parse document only
2025-05-18 20:10:32 [INFO] [Pipeline_Runner] 3. Parse + Check for duplicates (no DB save)
2025-05-18 20:10:32 [INFO] [Pipeline_Runner] 4. Parse + Save to LanceDB (no chunking)
2025-05-18 20:10:32 [INFO] [Pipeline_Runner] 5. Parse + Save to LanceDB + Chunk document
2025-05-18 20:10:32 [INFO] [Pipeline_Runner] 6. Complete pipeline (extract requirements)
2025-05-18 20:10:36 [INFO] [Pipeline_Runner] === Pipeline Run Settings ===
2025-05-18 20:10:36 [INFO] [Pipeline_Runner] Input file: _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:10:36 [INFO] [Pipeline_Runner] Maximum step: 5 - Parse + Save to LanceDB + Chunk document
2025-05-18 20:10:36 [INFO] [Pipeline_Runner] === Starting Pipeline ===
2025-05-18 20:10:36 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=5, dry_run=False, skip_hash_check=False)
2025-05-18 20:10:36 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:10:36 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:10:36 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 20:10:36 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:10:36 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:10:36 [INFO] [Hash_Deduplication] Found SHA256 hash match: _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:10:36 [INFO] [Hash_Deduplication] File _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf is a duplicate of _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:10:36 [INFO] [Pipeline_Controller] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf is an exact duplicate of _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf (by hash). Aborting further processing.
2025-05-18 20:10:36 [INFO] [Pipeline_Runner] === Pipeline Completed Successfully ===
2025-05-18 20:10:36 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:10:36 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:10:36 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:10:36 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:10:36 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:10:36 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:10:36 [INFO] [Pipeline_Runner] 2025-05-18 20:10:36 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:10:36 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:10:36 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:10:36 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (1 documents) ===
1. fighter_jet_rocket_launcher_spec_2_changed_values_combined: 1 pages

=== Document Relationships ===
No document relationships found
No chunks found for documents matching 'fighter_jet_rocket_launcher_spec_2_changed_values'
2025-05-18 20:10:36 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:10:36 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 20:10:58 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 20:10:58 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 20:11:04 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:11:04 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:11:04 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_unique_original.pdf up to step 3 (Parse + Check for duplicates (no DB save))
2025-05-18 20:11:04 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=3, dry_run=False, skip_hash_check=False)
2025-05-18 20:11:04 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 20:11:04 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:11:04 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 20:11:04 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:11:04 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:11:04 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 20:11:04 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:11:04 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 20:11:04 [INFO] [Pipeline_Controller] ‚úÖ Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 20:11:04 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 20:11:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:04 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 20:11:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 20:11:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 20:11:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:04 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:11:04 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:11:05 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:11:06 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:11:06 [INFO] [Pipeline_Runner] === Document Processing Pipeline Runner ===
2025-05-18 20:11:07 [INFO] Token counters updated: 2557 input, 375 output
2025-05-18 20:11:07 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:11:07 [INFO] [PDF_Parsing] Extracted 1724 chars from page 1
2025-05-18 20:11:07 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 20:11:07 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 20:11:08 [INFO] Token counters updated: 3156 input, 466 output
2025-05-18 20:11:08 [INFO] Token counters updated: 3376 input, 475 output
2025-05-18 20:11:08 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 20:11:08 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 20:11:08 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:11:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:08 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:11:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:08 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:11:08 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:11:09 [INFO] Token counters updated: 4192 input, 604 output
2025-05-18 20:11:09 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:11:09 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 20:11:09 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:11:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:09 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 20:11:09 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 20:11:09 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:11:09 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 20:11:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:11:09 [INFO] [Pipeline_Controller] ‚úÖ Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:11:09 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original.pdf
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original.pdf
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:11:09 [ERROR] [Docs_Deduplication] Error searching for page 1: list index out of range
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original.pdf is completely new (all 1 pages are new)
2025-05-18 20:11:09 [INFO] [Pipeline_Controller] ‚úÖ Deduplication check results for fighter_jet_unique_original.pdf:
2025-05-18 20:11:09 [INFO] [Pipeline_Controller]    - New pages: 1
2025-05-18 20:11:09 [INFO] [Pipeline_Controller]    - Duplicate pages: 0
2025-05-18 20:11:09 [INFO] [Pipeline_Controller]    - Pages to update: 0
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:11:09 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:11:09 [ERROR] [Pipeline_Controller] ‚ùå Deduplication check failed: cannot access local variable 'np' where it is not associated with a value
2025-05-18 20:11:09 [ERROR] [Pipeline_Runner] Pipeline failed. Check the logs for more information.
2025-05-18 20:12:41 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:12:41 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:12:41 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_unique_original.pdf up to step 2 (Parse document only)
2025-05-18 20:12:41 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=2, dry_run=False, skip_hash_check=False)
2025-05-18 20:12:41 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 20:12:41 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:12:41 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 20:12:41 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:41 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:41 [INFO] [Hash_Deduplication] Found SHA256 hash match: _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:12:41 [INFO] [Hash_Deduplication] File _01_input/raw/fighter_jet_unique_original.pdf is a duplicate of _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:12:41 [INFO] [Pipeline_Controller] ‚ùå Document fighter_jet_unique_original.pdf is an exact duplicate of _01_input/raw/fighter_jet_unique_original.pdf (by hash). Aborting further processing.
2025-05-18 20:12:41 [INFO] [Pipeline_Runner] Pipeline completed successfully.
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 20:12:46 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 20:12:46 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 20:12:49 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:12:49 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:12:49 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_unique_original.pdf up to step 3 (Parse + Check for duplicates (no DB save))
2025-05-18 20:12:49 [INFO] [Pipeline_Controller] üöÄ Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=3, dry_run=False, skip_hash_check=False)
2025-05-18 20:12:49 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 20:12:49 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:12:49 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 20:12:49 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:49 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:49 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 20:12:49 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:12:49 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 20:12:49 [INFO] [Pipeline_Controller] ‚úÖ Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 20:12:49 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 20:12:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:49 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 20:12:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 20:12:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 20:12:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:49 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:12:49 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:12:52 [INFO] Token counters updated: 2557 input, 407 output
2025-05-18 20:12:52 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:12:52 [INFO] [PDF_Parsing] Extracted 1932 chars from page 1
2025-05-18 20:12:52 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 20:12:52 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 20:12:53 [INFO] Token counters updated: 3124 input, 517 output
2025-05-18 20:12:53 [INFO] Token counters updated: 3353 input, 526 output
2025-05-18 20:12:53 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specification Guide
2025-05-18 20:12:53 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specification Guide"
2025-05-18 20:12:53 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:12:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:53 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:12:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:53 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:12:53 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:12:55 [INFO] Token counters updated: 4200 input, 654 output
2025-05-18 20:12:55 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:12:55 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 20:12:55 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:12:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:55 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 20:12:55 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specification Guide
2025-05-18 20:12:55 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:12:55 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 20:12:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:12:55 [INFO] [Pipeline_Controller] ‚úÖ Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:12:55 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original.pdf
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original.pdf
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:12:55 [ERROR] [Docs_Deduplication] Error searching for page 1: list index out of range
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original.pdf is completely new (all 1 pages are new)
2025-05-18 20:12:55 [INFO] [Pipeline_Controller] ‚úÖ Deduplication check results for fighter_jet_unique_original.pdf:
2025-05-18 20:12:55 [INFO] [Pipeline_Controller]    - New pages: 1
2025-05-18 20:12:55 [INFO] [Pipeline_Controller]    - Duplicate pages: 0
2025-05-18 20:12:55 [INFO] [Pipeline_Controller]    - Pages to update: 0
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:12:55 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:12:55 [ERROR] [Pipeline_Controller] ‚ùå Deduplication check failed: cannot access local variable 'np' where it is not associated with a value
2025-05-18 20:12:55 [ERROR] [Pipeline_Runner] Pipeline failed. Check the logs for more information.
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 20:14:16 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 20:14:16 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 20:14:20 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:14:21 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:14:21 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_unique_original.pdf up to step 2 (Parse document only)
2025-05-18 20:14:21 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=2, dry_run=False, skip_hash_check=False)
2025-05-18 20:14:21 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 20:14:21 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:14:21 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 20:14:21 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:21 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:21 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 20:14:21 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 20:14:21 [INFO] [Hash_Deduplication] File hash check completed in 0.05 seconds. File is unique.
2025-05-18 20:14:21 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 20:14:21 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 20:14:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:21 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 20:14:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 20:14:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 20:14:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:21 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:14:21 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:14:23 [INFO] Token counters updated: 2557 input, 365 output
2025-05-18 20:14:23 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:14:23 [INFO] [PDF_Parsing] Extracted 1680 chars from page 1
2025-05-18 20:14:23 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 20:14:23 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 20:14:24 [INFO] Token counters updated: 3159 input, 482 output
2025-05-18 20:14:25 [INFO] Token counters updated: 3395 input, 491 output
2025-05-18 20:14:25 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:14:25 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 20:14:25 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:14:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:25 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:14:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:25 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:14:25 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:14:26 [INFO] Token counters updated: 4201 input, 605 output
2025-05-18 20:14:26 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:14:26 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 20:14:26 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:14:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:26 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 20:14:26 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:14:26 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:14:26 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 20:14:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:26 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 20:14:26 [INFO] [Pipeline_Controller] Pipeline completed at step 2 (Parse only) for fighter_jet_unique_original.pdf
2025-05-18 20:14:26 [INFO] [Pipeline_Runner] Pipeline completed successfully.
2025-05-18 20:14:27 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:14:27 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:14:27 [INFO] [Pipeline_Runner] === Document Processing Pipeline Runner ===
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] === Database Setup ===
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] Setting up database tables...
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] Table 'documents' already exists in LanceDB. Verifying schema...
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ Schema for table 'documents' matches defined schema. No action needed.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] Table 'document_chunks' already exists in LanceDB. Verifying schema...
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ Schema for table 'document_chunks' matches defined schema. No action needed.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] Table 'requirements' already exists in LanceDB. Verifying schema...
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ Schema for table 'requirements' matches defined schema. No action needed.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] Table 'file_hashes' already exists in LanceDB. Verifying schema...
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ Schema for table 'file_hashes' matches defined schema. No action needed.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 20:14:38 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] Database setup completed.
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] === Available Input Files ===
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 1. Fighter_Jet_Engine_Detailed_Requirements.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 2. Fighter_Jet_Engine_Detailed_Requirements_1 copy.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 3. Fighter_Jet_Engine_Detailed_Requirements_1.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 4. SYSTEM REQUIREMENTS ALQ-172 & Low Band Jammer - AC130.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 5. fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 6. fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 7. fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 8. fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 9. fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 10. fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 11. fighter_jet_unique_original.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 12. fighter_jet_unique_reordered.pdf
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 13. file-sample_1MB.docx
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 14. high-level_requirements.txt
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 15. high-level_requirements_V2.txt
2025-05-18 20:14:38 [INFO] [Pipeline_Runner] 16. top_requirements.txt
2025-05-18 20:14:52 [INFO] [Pipeline_Runner] === Available Pipeline Steps ===
2025-05-18 20:14:52 [INFO] [Pipeline_Runner] 1. Hash-based duplicate check only
2025-05-18 20:14:52 [INFO] [Pipeline_Runner] 2. Parse document only
2025-05-18 20:14:52 [INFO] [Pipeline_Runner] 3. Parse + Check for duplicates (no DB save)
2025-05-18 20:14:52 [INFO] [Pipeline_Runner] 4. Parse + Save to LanceDB (no chunking)
2025-05-18 20:14:52 [INFO] [Pipeline_Runner] 5. Parse + Save to LanceDB + Chunk document
2025-05-18 20:14:52 [INFO] [Pipeline_Runner] 6. Complete pipeline (extract requirements)
2025-05-18 20:14:55 [INFO] [Pipeline_Runner] === Pipeline Run Settings ===
2025-05-18 20:14:55 [INFO] [Pipeline_Runner] Input file: _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:55 [INFO] [Pipeline_Runner] Maximum step: 5 - Parse + Save to LanceDB + Chunk document
2025-05-18 20:14:55 [INFO] [Pipeline_Runner] === Starting Pipeline ===
2025-05-18 20:14:55 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=5, dry_run=False, skip_hash_check=False)
2025-05-18 20:14:55 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:55 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:55 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 20:14:55 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:55 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:14:55 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:55 [INFO] [Hash_Deduplication] File hash check completed in 0.03 seconds. File is unique.
2025-05-18 20:14:55 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 20:14:55 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:55 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:55 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 20:14:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:55 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:14:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:14:55 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 20:14:55 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 20:14:55 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 20:14:55 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:14:56 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 20:14:56 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 20:14:56 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 20:14:56 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 20:14:56 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 20:14:56 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 20:14:56 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 20:14:58 [INFO] Token counters updated: 2557 input, 328 output
2025-05-18 20:14:58 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:14:58 [INFO] [PDF_Parsing] Extracted 1433 chars from page 1
2025-05-18 20:14:58 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 20:15:00 [INFO] Token counters updated: 5114 input, 579 output
2025-05-18 20:15:00 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 20:15:00 [INFO] [PDF_Parsing] Extracted 1146 chars from page 2
2025-05-18 20:15:00 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 20:15:00 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 20:15:02 [INFO] Token counters updated: 5690 input, 665 output
2025-05-18 20:15:03 [INFO] Token counters updated: 6275 input, 777 output
2025-05-18 20:15:03 [INFO] Token counters updated: 6582 input, 786 output
2025-05-18 20:15:03 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 20:15:03 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Guide"
2025-05-18 20:15:03 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:15:03 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:15:03 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:15:03 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:15:03 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:15:03 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 20:15:04 [INFO] Token counters updated: 7349 input, 891 output
2025-05-18 20:15:04 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:15:04 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, Hydra 70, APKWS, CRV7, Zuni...
2025-05-18 20:15:04 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 20:15:04 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 20:15:06 [INFO] Token counters updated: 8037 input, 1021 output
2025-05-18 20:15:06 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 20:15:06 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: F100-PW-229, Chaff Dispensers, Normal Shock Inlet, Pratt Whitney, F16C Block 52...
2025-05-18 20:15:06 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:15:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:15:06 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:15:06 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 20:15:06 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 20:15:06 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:15:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:15:06 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:15:06 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:15:06 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:15:06 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:15:06 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:15:06 [INFO] Use pytorch device_name: mps
2025-05-18 20:15:06 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:15:12 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 20:15:12 [INFO] [Save_To_LanceDB] Processing completed in 6.57 seconds
2025-05-18 20:15:12 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 20:15:12 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:15:12 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:15:12 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 20:15:12 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 20:15:12 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:15:12 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2583 characters using simplified LLM approach
2025-05-18 20:15:12 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 20:15:12 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2583 characters
2025-05-18 20:15:24 [INFO] Token counters updated: 8816 input, 1662 output
2025-05-18 20:15:24 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 20:15:24 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 20:15:24 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 917 characters
2025-05-18 20:15:28 [INFO] Token counters updated: 9222 input, 1869 output
2025-05-18 20:15:28 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 20:15:28 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 6 chunks
2025-05-18 20:15:28 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 6
2025-05-18 20:15:28 [INFO] [Integrated_Chunking] üìä Generated 6 chunks
2025-05-18 20:15:28 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 31/892/420.0
2025-05-18 20:15:28 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 7/223/104.7
2025-05-18 20:15:28 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 20:15:28 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 20:15:28 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 20:15:28 [INFO] Use pytorch device_name: mps
2025-05-18 20:15:28 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:15:34 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (6 chunks) in 0.03s
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 20:15:34 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 6
2025-05-18 20:15:34 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 20:15:34 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 20:15:34 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 6
2025-05-18 20:15:34 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 20:15:34 [INFO] [Integrated_Chunking] üìä Deduplication results: 6 new chunks, 0 duplicates, 0 updates
2025-05-18 20:15:34 [INFO] [Integrated_Chunking] üîÑ Adding 6 chunks to LanceDB
2025-05-18 20:15:34 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 20:15:34 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 6 rows, minimum 256 required
2025-05-18 20:15:34 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 22.09 seconds
2025-05-18 20:15:34 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 20:15:34 [INFO] [Pipeline_Controller] üèÅ Pipeline completed at step 5 (Chunking only) for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:15:34 [INFO] [Pipeline_Runner] === Pipeline Completed Successfully ===
2025-05-18 20:15:34 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:15:35 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:15:35 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:15:35 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:15:35 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:15:35 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:15:35 [INFO] [Pipeline_Runner] 2025-05-18 20:15:35 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:15:35 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:15:35 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:15:35 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (1 documents) ===
1. fighter_jet_rocket_launcher_spec_combined: 1 pages

=== Document Relationships ===
No document relationships found

=== Deduplication Statistics ===
Total chunks in database: 6
Documents with chunks: 1

=== Chunk Counts by Document ===
fighter_jet_rocket_launcher_spec.pdf: 6 chunks
2025-05-18 20:15:35 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:15:35 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 20:16:58 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 20:16:58 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 20:17:06 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:17:06 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:17:06 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_rocket_launcher_spec.pdf up to step 6 (Complete pipeline (extract requirements))
2025-05-18 20:17:06 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 20:17:06 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:06 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:06 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 20:17:06 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:06 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:06 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 20:17:06 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:06 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 20:17:06 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 20:17:06 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:06 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 20:17:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:06 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 20:17:06 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 20:17:09 [INFO] Token counters updated: 2557 input, 339 output
2025-05-18 20:17:09 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:17:09 [INFO] [PDF_Parsing] Extracted 1426 chars from page 1
2025-05-18 20:17:09 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 20:17:11 [INFO] Token counters updated: 5114 input, 677 output
2025-05-18 20:17:11 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 20:17:11 [INFO] [PDF_Parsing] Extracted 1655 chars from page 2
2025-05-18 20:17:11 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 20:17:11 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 20:17:13 [INFO] Token counters updated: 5702 input, 796 output
2025-05-18 20:17:14 [INFO] Token counters updated: 6281 input, 928 output
2025-05-18 20:17:14 [INFO] Token counters updated: 6629 input, 936 output
2025-05-18 20:17:14 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher Specification Guide
2025-05-18 20:17:14 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher Specification Guide"
2025-05-18 20:17:14 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:17:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:14 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:17:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:14 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:17:14 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 20:17:16 [INFO] Token counters updated: 7406 input, 1044 output
2025-05-18 20:17:16 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:17:16 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJet, RLX5000, Hydra70, APKWS...
2025-05-18 20:17:16 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 20:17:16 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 20:17:17 [INFO] Token counters updated: 8178 input, 1170 output
2025-05-18 20:17:17 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 20:17:17 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: Quick reload mechanism, Thermal shielding, Weather-resistant design, Rocket launcher system, F-16C Block 52 CCIP...
2025-05-18 20:17:17 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:17:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:17 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:17 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher Specification Guide
2025-05-18 20:17:17 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 20:17:17 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:17:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:17 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:17:17 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:17:17 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:17:17 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:17:17 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:17:17 [INFO] Use pytorch device_name: mps
2025-05-18 20:17:17 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 20:17:21 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 20:17:21 [INFO] [Save_To_LanceDB] Processing completed in 4.74 seconds
2025-05-18 20:17:21 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 20:17:21 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:21 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:17:21 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 20:17:21 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 20:17:21 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:21 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 3085 characters using simplified LLM approach
2025-05-18 20:17:21 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 20:17:21 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 3085 characters
2025-05-18 20:17:33 [INFO] Token counters updated: 9052 input, 1778 output
2025-05-18 20:17:33 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 20:17:33 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 20:17:33 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 20:17:33 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 313/771/536.0
2025-05-18 20:17:33 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 78/192/133.6
2025-05-18 20:17:33 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 20:17:33 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 20:17:33 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 20:17:33 [INFO] Use pytorch device_name: mps
2025-05-18 20:17:33 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:17:37 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (5 chunks) in 0.01s
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 20:17:37 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 20:17:37 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 20:17:37 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 20:17:37 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 5
2025-05-18 20:17:37 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 20:17:37 [INFO] [Integrated_Chunking] üìä Deduplication results: 5 new chunks, 0 duplicates, 0 updates
2025-05-18 20:17:37 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 20:17:37 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 20:17:37 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 20:17:37 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 16.00 seconds
2025-05-18 20:17:37 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 20:17:37 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 20:17:37 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:37 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:37 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:37 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 20:17:37 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 20:17:37 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:37 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 31.26 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 20:17:37 [INFO] [Pipeline_Runner] Pipeline completed successfully.
2025-05-18 20:17:37 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:17:38 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:17:38 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:38 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:17:38 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:17:38 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:17:38 [INFO] [Pipeline_Runner] 2025-05-18 20:17:38 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:17:38 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:38 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:17:38 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (1 documents) ===
1. fighter_jet_rocket_launcher_spec_combined: 1 pages

=== Document Relationships ===
No document relationships found

=== Deduplication Statistics ===
Total chunks in database: 5
Documents with chunks: 1

=== Chunk Counts by Document ===
fighter_jet_rocket_launcher_spec.pdf: 5 chunks
2025-05-18 20:17:38 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:17:38 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:17:48 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:17:49 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:17:49 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf up to step 6 (Complete pipeline (extract requirements))
2025-05-18 20:17:49 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 20:17:49 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:49 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:49 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 20:17:49 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:49 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:49 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:49 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 20:17:49 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 20:17:49 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:49 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 20:17:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:49 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:17:49 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:17:51 [INFO] Token counters updated: 2557 input, 395 output
2025-05-18 20:17:51 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:17:51 [INFO] [PDF_Parsing] Extracted 1815 chars from page 1
2025-05-18 20:17:51 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 20:17:51 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 20:17:52 [INFO] Token counters updated: 3139 input, 507 output
2025-05-18 20:17:53 [INFO] Token counters updated: 3369 input, 516 output
2025-05-18 20:17:53 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:17:53 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 20:17:53 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:17:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:53 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:17:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:53 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:17:53 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:17:54 [INFO] Token counters updated: 4205 input, 641 output
2025-05-18 20:17:54 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:17:54 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 20:17:54 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:17:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:54 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:54 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 20:17:54 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:17:54 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:17:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:17:54 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:17:54 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:17:54 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:17:54 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:17:54 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:17:54 [INFO] Use pytorch device_name: mps
2025-05-18 20:17:54 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 20:17:59 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 20:17:59 [INFO] [Save_To_LanceDB] Processing completed in 4.70 seconds
2025-05-18 20:17:59 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 20:17:59 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:17:59 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:17:59 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 20:17:59 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 20:17:59 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:17:59 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1817 characters using simplified LLM approach
2025-05-18 20:17:59 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 20:17:59 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1817 characters
2025-05-18 20:18:07 [INFO] Token counters updated: 4799 input, 1087 output
2025-05-18 20:18:07 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 20:18:07 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 20:18:07 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 20:18:07 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 387/846/603.7
2025-05-18 20:18:07 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 96/211/150.3
2025-05-18 20:18:07 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 20:18:07 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 20:18:07 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 20:18:07 [INFO] Use pytorch device_name: mps
2025-05-18 20:18:07 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:18:11 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] üìä Found 5 existing chunks to compare against
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_1  (similarity: 0.9527)
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_2  (similarity: 0.9751)
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2.pdf_chunk_3  appears to be new (top similarity: 0.8873 with fighter_jet_rocket_launcher_spec.pdf_chunk_1)
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 1 new chunks, 0 duplicate chunks, and 2 similar chunks (total: 3 chunks) in 0.01s
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 20:18:11 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 20:18:11 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 20:18:11 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 2
2025-05-18 20:18:11 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 1
2025-05-18 20:18:11 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 20:18:11 [INFO] [Integrated_Chunking] üìä Deduplication results: 1 new chunks, 0 duplicates, 2 updates
2025-05-18 20:18:11 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 20:18:11 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 20:18:11 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 20:18:11 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 12.15 seconds
2025-05-18 20:18:11 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 20:18:11 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 20:18:11 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:18:11 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:11 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:11 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 20:18:11 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 20:18:11 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:18:11 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.43 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:18:11 [INFO] [Pipeline_Runner] Pipeline completed successfully.
2025-05-18 20:18:11 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:18:12 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:18:12 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:12 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:18:12 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:18:12 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:18:12 [INFO] [Pipeline_Runner] 2025-05-18 20:18:12 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:18:12 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:12 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:18:12 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (1 documents) ===
1. fighter_jet_rocket_launcher_spec_2_combined: 1 pages

=== Document Relationships ===
No document relationships found

=== Deduplication Statistics ===
Total chunks in database: 3
Documents with chunks: 1

=== Chunk Counts by Document ===
fighter_jet_rocket_launcher_spec_2.pdf: 3 chunks
2025-05-18 20:18:12 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:18:12 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:18:33 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:18:33 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:18:33 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf up to step 6 (Complete pipeline (extract requirements))
2025-05-18 20:18:33 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 20:18:33 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:33 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:33 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 20:18:33 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:33 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:33 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:33 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 20:18:33 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 20:18:33 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:33 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 20:18:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:33 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:18:33 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:18:36 [INFO] Token counters updated: 2557 input, 361 output
2025-05-18 20:18:36 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:18:36 [INFO] [PDF_Parsing] Extracted 1625 chars from page 1
2025-05-18 20:18:36 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 20:18:36 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 20:18:37 [INFO] Token counters updated: 3134 input, 468 output
2025-05-18 20:18:38 [INFO] Token counters updated: 3360 input, 477 output
2025-05-18 20:18:38 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 20:18:38 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 20:18:38 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:18:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:38 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:18:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:38 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:18:38 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:18:39 [INFO] Token counters updated: 4161 input, 611 output
2025-05-18 20:18:39 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:18:39 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 20:18:39 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:18:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:39 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:39 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 20:18:39 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:18:39 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:18:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:18:39 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:18:39 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:18:39 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:18:39 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:18:39 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:18:39 [INFO] Use pytorch device_name: mps
2025-05-18 20:18:39 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 20:18:43 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Not creating index: documents has only 2 rows, minimum 256 required
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Not creating index: documents has only 2 rows, minimum 256 required
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 20:18:43 [INFO] [Save_To_LanceDB] Processing completed in 4.19 seconds
2025-05-18 20:18:43 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 20:18:43 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:18:43 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:18:43 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 20:18:43 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 20:18:43 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:43 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 20:18:43 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:18:43 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:18:43 [INFO] [Context_Chunking] Retrieved 3 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 20:18:43 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 20:18:43 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 20:18:52 [INFO] Token counters updated: 5323 input, 1024 output
2025-05-18 20:18:52 [INFO] [Context_Chunking] Context-aware chunking produced 4 chunks
2025-05-18 20:18:52 [INFO] [Context_Chunking] Created 4 initial chunks
2025-05-18 20:18:53 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:18:53 [WARNING] [Context_Chunking] Could not find exact position for chunk 1, using approximate position
2025-05-18 20:18:54 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9965 (DUPLICATE)
2025-05-18 20:18:54 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 20:18:54 [ERROR] [Pipeline_Controller] ‚ùå Error during document chunking: name 'log_chunk_comparison' is not defined
2025-05-18 20:18:54 [ERROR] [Pipeline_Runner] Pipeline failed. Check the logs for more information.
2025-05-18 20:19:04 [INFO] PyTorch version 2.6.0 available.
2025-05-18 20:19:05 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 20:19:05 [INFO] [Pipeline_Runner] Running pipeline on _01_input/raw/fighter_jet_unique_reordered.pdf up to step 6 (Complete pipeline (extract requirements))
2025-05-18 20:19:05 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 20:19:05 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 20:19:05 [INFO] [Hash_Deduplication] Checking for duplicate of file: _01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 20:19:05 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 20:19:05 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:05 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:05 [INFO] [Hash_Deduplication] Successfully saved file hash information for _01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 20:19:05 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 20:19:05 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 20:19:05 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 20:19:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:05 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 20:19:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Processing '_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 20:19:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 20:19:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:05 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 20:19:05 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 20:19:07 [INFO] Token counters updated: 2557 input, 334 output
2025-05-18 20:19:07 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 20:19:07 [INFO] [PDF_Parsing] Extracted 1546 chars from page 1
2025-05-18 20:19:07 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 20:19:07 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 20:19:09 [INFO] Token counters updated: 3163 input, 473 output
2025-05-18 20:19:09 [INFO] Token counters updated: 3420 input, 481 output
2025-05-18 20:19:09 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specification
2025-05-18 20:19:09 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specification"
2025-05-18 20:19:09 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 20:19:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:09 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 20:19:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:09 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 20:19:09 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 20:19:11 [INFO] Token counters updated: 4192 input, 595 output
2025-05-18 20:19:11 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 20:19:11 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: thermal shielding, target recognition, laser guidance, infrared guidance, GPS guidance...
2025-05-18 20:19:11 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 20:19:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:11 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 20:19:11 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specification
2025-05-18 20:19:11 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 20:19:11 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 20:19:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 20:19:11 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 20:19:11 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 20:19:11 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 20:19:11 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 20:19:11 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 20:19:11 [INFO] Use pytorch device_name: mps
2025-05-18 20:19:11 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 20:19:15 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Not creating index: documents has only 3 rows, minimum 256 required
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Not creating index: documents has only 3 rows, minimum 256 required
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 20:19:15 [INFO] [Save_To_LanceDB] Processing completed in 3.88 seconds
2025-05-18 20:19:15 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 20:19:15 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:15 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 20:19:15 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 20:19:15 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 20:19:15 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 20:19:15 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1548 characters using simplified LLM approach
2025-05-18 20:19:15 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 20:19:15 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1548 characters
2025-05-18 20:19:20 [INFO] Token counters updated: 4720 input, 847 output
2025-05-18 20:19:20 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 20:19:20 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 20:19:20 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 20:19:20 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 201/396/272.2
2025-05-18 20:19:20 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 50/99/67.8
2025-05-18 20:19:20 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 20:19:20 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 20:19:20 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 20:19:20 [INFO] Use pytorch device_name: mps
2025-05-18 20:19:20 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 20:19:25 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 20:19:25 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 20:19:25 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 20:19:25 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 20:19:25 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] üìä Found 8 existing chunks to compare against
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_3  (similarity: 0.9370)
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  appears to be new (top similarity: 0.8594 with fighter_jet_rocket_launcher_spec_2.pdf_chunk_3)
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_2  (similarity: 0.9718)
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_4  appears to be new (top similarity: 0.8994 with fighter_jet_rocket_launcher_spec_2.pdf_chunk_3)
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 2 new chunks, 0 duplicate chunks, and 2 similar chunks (total: 4 chunks) in 0.07s
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 20:19:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 20:19:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 20:19:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 2
2025-05-18 20:19:26 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 2
2025-05-18 20:19:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.07 seconds
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 20:19:26 [INFO] [Integrated_Chunking] üìä Deduplication results: 2 new chunks, 0 duplicates, 2 updates
2025-05-18 20:19:26 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 20:19:26 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 20:19:26 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 12 rows, minimum 256 required
2025-05-18 20:19:26 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 10.99 seconds
2025-05-18 20:19:26 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 20:19:26 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 20:19:26 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 20:19:26 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:26 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:26 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 20:19:26 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 20:19:26 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 20:19:26 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 20.96 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 20:19:26 [INFO] [Pipeline_Runner] Pipeline completed successfully.
2025-05-18 20:19:26 [INFO] [Pipeline_Runner] === Deduplication Results ===
2025-05-18 20:19:26 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:19:26 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:26 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:19:26 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 20:19:26 [INFO] ‚úÖ Deduplication results displayed
2025-05-18 20:19:26 [INFO] [Pipeline_Runner] 2025-05-18 20:19:26 [INFO] üîç Showing deduplication results from the most recent pipeline run
2025-05-18 20:19:26 [INFO] üîå Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 20:19:26 [INFO] ‚úÖ Connected to LanceDB successfully
2025-05-18 20:19:26 [INFO] üìã Tables in database: ['document_chunks', 'documents', 'file_hashes', 'requirements']

=== Documents in Database (1 documents) ===
1. fighter_jet_unique_reordered_combined: 1 pages

=== Document Relationships ===
No document relationships found

=== Deduplication Statistics ===
Total chunks in database: 4
Documents with chunks: 1

=== Chunk Counts by Document ===
fighter_jet_unique_reordered.pdf: 4 chunks
2025-05-18 20:19:26 [INFO] ‚úÖ Deduplication results displayed

2025-05-18 20:19:26 [INFO] [Pipeline_Runner] ================================================================================
2025-05-18 20:28:21 [INFO] Starting token tracking test
2025-05-18 20:28:21 [INFO] Token counters reset for current session
2025-05-18 20:28:21 [INFO] Token counters updated: 968 input, 405 output
2025-05-18 20:28:22 [INFO] Generated token usage report: /Users/fabio/Agentic_AI/Requify_V2/_03_output/token_tracking/reports/token_report_2025-05-18.pdf
2025-05-18 20:28:22 [INFO] Generated token summary: /Users/fabio/Agentic_AI/Requify_V2/_03_output/token_tracking/reports/token_summary_2025-05-18.html
2025-05-18 20:28:22 [INFO] Simulated gpt-4o request: 968 input tokens, 405 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 2155 input, 830 output
2025-05-18 20:28:22 [INFO] Simulated gpt-4o request: 1187 input tokens, 425 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 3336 input, 1252 output
2025-05-18 20:28:22 [INFO] Simulated gpt-4o request: 1181 input tokens, 422 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 8090 input, 2191 output
2025-05-18 20:28:22 [INFO] Simulated gpt-4o-mini request: 4754 input tokens, 939 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 12215 input, 2999 output
2025-05-18 20:28:22 [INFO] Simulated gpt-4o-mini request: 4125 input tokens, 808 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 17179 input, 3964 output
2025-05-18 20:28:22 [INFO] Simulated gpt-4o-mini request: 4964 input tokens, 965 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 17844 input, 4151 output
2025-05-18 20:28:22 [INFO] Simulated o1 request: 665 input tokens, 187 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 18605 input, 4314 output
2025-05-18 20:28:22 [INFO] Simulated o1 request: 761 input tokens, 163 output tokens
2025-05-18 20:28:22 [INFO] Token counters updated: 19317 input, 4486 output
2025-05-18 20:28:22 [INFO] Simulated o1 request: 712 input tokens, 172 output tokens
2025-05-18 20:28:22 [INFO] 
Token usage for gpt-4o:
2025-05-18 20:28:22 [INFO]   - Input tokens: 19317
2025-05-18 20:28:22 [INFO]   - Output tokens: 4486
2025-05-18 20:28:22 [INFO]   - Total tokens: 23803
2025-05-18 20:28:22 [INFO]   - Estimated cost: $0.0932
2025-05-18 20:28:22 [INFO]   - Energy consumption: 29.753750 Wh (0.029754 kWh)
2025-05-18 20:28:22 [INFO]   - CO‚ÇÇ emissions: 14.281800 gCO‚ÇÇ (0.014282 kgCO‚ÇÇ)
2025-05-18 20:28:22 [INFO]   - Daily limit: 77663 / 250000 tokens (31.1%)
2025-05-18 20:28:22 [INFO] 
Token usage for gpt-4o-mini:
2025-05-18 20:28:22 [INFO]   - Input tokens: 19317
2025-05-18 20:28:22 [INFO]   - Output tokens: 4486
2025-05-18 20:28:22 [INFO]   - Total tokens: 23803
2025-05-18 20:28:22 [INFO]   - Estimated cost: $0.0056
2025-05-18 20:28:22 [INFO]   - Energy consumption: 19.042400 Wh (0.019042 kWh)
2025-05-18 20:28:22 [INFO]   - CO‚ÇÇ emissions: 9.521200 gCO‚ÇÇ (0.009521 kgCO‚ÇÇ)
2025-05-18 20:28:22 [INFO]   - Daily limit: 46638 / 2500000 tokens (1.9%)
2025-05-18 20:28:22 [INFO] 
Token usage for o1:
2025-05-18 20:28:22 [INFO]   - Input tokens: 19317
2025-05-18 20:28:22 [INFO]   - Output tokens: 4486
2025-05-18 20:28:22 [INFO]   - Total tokens: 23803
2025-05-18 20:28:22 [INFO]   - Estimated cost: $0.5589
2025-05-18 20:28:22 [INFO]   - Energy consumption: 35.704500 Wh (0.035705 kWh)
2025-05-18 20:28:22 [INFO]   - CO‚ÇÇ emissions: 19.042400 gCO‚ÇÇ (0.019042 kgCO‚ÇÇ)
2025-05-18 20:28:22 [INFO]   - Daily limit: 101466 / 250000 tokens (40.6%)
2025-05-18 20:28:22 [INFO] Loaded token usage data for 3 models
2025-05-18 20:28:22 [INFO] Token tracking test completed
2025-05-18 20:28:35 [INFO] Token counters reset for current session
2025-05-18 20:28:35 [INFO] Loaded token usage data for 3 models
2025-05-18 20:28:35 [INFO] Token counters updated: 1000 input, 200 output
2025-05-18 20:28:35 [INFO] 
Token usage for gpt-4o-mini:
2025-05-18 20:28:35 [INFO]   - Input tokens: 1000
2025-05-18 20:28:35 [INFO]   - Output tokens: 200
2025-05-18 20:28:35 [INFO]   - Total tokens: 1200
2025-05-18 20:28:35 [INFO]   - Estimated cost: $0.0003
2025-05-18 20:28:35 [INFO]   - Energy consumption: 0.960000 Wh (0.000960 kWh)
2025-05-18 20:28:35 [INFO]   - CO‚ÇÇ emissions: 0.480000 gCO‚ÇÇ (0.000480 kgCO‚ÇÇ)
2025-05-18 20:28:35 [INFO]   - Daily limit: 71641 / 2500000 tokens (2.9%)
2025-05-18 20:28:35 [INFO] Loaded token usage data for 3 models
2025-05-18 20:30:46 [INFO] Token counters reset for current session
2025-05-18 20:30:46 [INFO] Loaded token usage data for 3 models
2025-05-18 20:30:46 [INFO] Token counters updated: 1000 input, 200 output
2025-05-18 20:30:46 [INFO] 
Token usage for gpt-4o-mini:
2025-05-18 20:30:46 [INFO]   - Input tokens: 1000
2025-05-18 20:30:46 [INFO]   - Output tokens: 200
2025-05-18 20:30:46 [INFO]   - Total tokens: 1200
2025-05-18 20:30:46 [INFO]   - Estimated cost: $0.0003
2025-05-18 20:30:46 [INFO]   - Energy consumption: 0.960000 Wh (0.000960 kWh)
2025-05-18 20:30:46 [INFO]   - CO‚ÇÇ emissions: 0.480000 gCO‚ÇÇ (0.000480 kgCO‚ÇÇ)
2025-05-18 20:30:46 [INFO]   - Daily limit: 74041 / 2500000 tokens (3.0%)
2025-05-18 20:30:46 [INFO] Loaded token usage data for 3 models
2025-05-18 21:54:26 [INFO] PyTorch version 2.6.0 available.
2025-05-18 21:54:27 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 21:54:27 [INFO] [Test_Files_Checker] Checking test files in: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw
2025-05-18 21:54:27 [INFO] [Test_Files_Checker] All 7 required test files are available:
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_rocket_launcher_spec.pdf (80.9 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_rocket_launcher_spec_2_changed_values.pdf (2.4 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_rocket_launcher_spec_2_extra_end.pdf (1.9 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_rocket_launcher_spec_3_language_variant.pdf (2.1 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_rocket_launcher_spec_5_reordered.pdf (2.1 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_unique_original.pdf (2.6 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_unique_reordered.pdf (2.6 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker] Extra files found (not used in tests):
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - Fighter_Jet_Engine_Detailed_Requirements.pdf (4.4 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - Fighter_Jet_Engine_Detailed_Requirements_1 copy.pdf (8.7 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - Fighter_Jet_Engine_Detailed_Requirements_1.pdf (8.7 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - SYSTEM REQUIREMENTS ALQ-172 & Low Band Jammer - AC130.pdf (703.8 KB)
2025-05-18 21:54:27 [INFO] [Test_Files_Checker]   - fighter_jet_rocket_launcher_spec_2.pdf (2.1 KB)
2025-05-18 21:54:41 [INFO] PyTorch version 2.6.0 available.
2025-05-18 21:54:41 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 21:54:41 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 21:54:41 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 21:54:41 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 21:54:41 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 21:54:41 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 21:54:41 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:41 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 21:54:41 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 21:54:41 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 21:54:41 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:41 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:41 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 21:54:41 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:41 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:41 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 21:54:41 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:41 [INFO] [Hash_Deduplication] File hash check completed in 0.05 seconds. File is unique.
2025-05-18 21:54:41 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 21:54:41 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:41 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 21:54:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:41 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 21:54:41 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 21:54:44 [INFO] Loaded token usage data for 3 models
2025-05-18 21:54:44 [INFO] Token counters updated: 2557 input, 354 output
2025-05-18 21:54:44 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 21:54:44 [INFO] [PDF_Parsing] Extracted 1528 chars from page 1
2025-05-18 21:54:44 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 21:54:46 [INFO] Token counters updated: 5114 input, 739 output
2025-05-18 21:54:46 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 21:54:46 [INFO] [PDF_Parsing] Extracted 1952 chars from page 2
2025-05-18 21:54:46 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 21:54:46 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 21:54:47 [INFO] Token counters updated: 5694 input, 842 output
2025-05-18 21:54:49 [INFO] Token counters updated: 6257 input, 976 output
2025-05-18 21:54:49 [INFO] Token counters updated: 6589 input, 984 output
2025-05-18 21:54:49 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications
2025-05-18 21:54:49 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications"
2025-05-18 21:54:49 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 21:54:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:49 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 21:54:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:49 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 21:54:49 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 21:54:50 [INFO] Token counters updated: 7383 input, 1106 output
2025-05-18 21:54:50 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 21:54:50 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, LaserGuidance, InfraredGuidance...
2025-05-18 21:54:50 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 21:54:50 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 21:54:52 [INFO] Token counters updated: 8205 input, 1245 output
2025-05-18 21:54:52 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 21:54:52 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: RocketLauncher, FighterJet, QuickReload, ThermalShielding, WeatherResistant...
2025-05-18 21:54:52 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:54:52 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:52 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:52 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications
2025-05-18 21:54:52 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 21:54:52 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:54:52 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:54:52 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:54:52 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 21:54:52 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 21:54:52 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:54:52 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 21:54:52 [INFO] Use pytorch device_name: mps
2025-05-18 21:54:52 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:54:58 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 21:54:58 [INFO] [Save_To_LanceDB] Processing completed in 6.48 seconds
2025-05-18 21:54:58 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 21:54:58 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:54:58 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:54:58 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 21:54:58 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 21:54:58 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:54:58 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 3484 characters using simplified LLM approach
2025-05-18 21:54:58 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 21:54:58 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 3484 characters
2025-05-18 21:55:12 [INFO] Token counters updated: 9144 input, 1986 output
2025-05-18 21:55:12 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 9 chunks
2025-05-18 21:55:12 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 9
2025-05-18 21:55:12 [INFO] [Integrated_Chunking] üìä Generated 9 chunks
2025-05-18 21:55:12 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 178/881/355.2
2025-05-18 21:55:12 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 44/220/88.4
2025-05-18 21:55:12 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 21:55:12 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 21:55:12 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 21:55:12 [INFO] Use pytorch device_name: mps
2025-05-18 21:55:12 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:55:20 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_7 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_8 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_9 has no similar chunks. Marking as new.
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (9 chunks) in 0.03s
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 21:55:20 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 9
2025-05-18 21:55:20 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 21:55:20 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 21:55:20 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 9
2025-05-18 21:55:20 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 21:55:20 [INFO] [Integrated_Chunking] üìä Deduplication results: 9 new chunks, 0 duplicates, 0 updates
2025-05-18 21:55:20 [INFO] [Integrated_Chunking] üîÑ Adding 9 chunks to LanceDB
2025-05-18 21:55:20 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 21:55:20 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 9 rows, minimum 256 required
2025-05-18 21:55:20 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 21.90 seconds
2025-05-18 21:55:20 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 21:55:20 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 21:55:20 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:20 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:20 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 21:55:20 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 21:55:20 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 39.10 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [E2E_Tests] Pipeline completed in 39.11 seconds
2025-05-18 21:55:20 [ERROR] [E2E_Tests]   Step 1 FAILED ‚ùå
2025-05-18 21:55:20 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 21:55:20 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 21:55:20 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 21:55:20 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 21:55:20 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 21:55:20 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:20 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:20 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:20 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 21:55:20 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 21:55:20 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 21:55:20 [ERROR] [E2E_Tests]     - Expected is_duplicate=True, got False
2025-05-18 21:55:20 [ERROR] [E2E_Tests] Scenario 1 FAILED ‚ùå
2025-05-18 21:55:20 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_215520.json
2025-05-18 21:55:20 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_215520.txt
2025-05-18 21:55:38 [INFO] PyTorch version 2.6.0 available.
2025-05-18 21:55:38 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 21:55:38 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 21:55:38 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 21:55:38 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 21:55:38 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 21:55:38 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 21:55:38 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:38 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 21:55:38 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 21:55:38 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 21:55:38 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:38 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:38 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 21:55:38 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:38 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:38 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 21:55:38 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:38 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 21:55:38 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 21:55:38 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:38 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 21:55:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:38 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 21:55:38 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 21:55:41 [INFO] Loaded token usage data for 3 models
2025-05-18 21:55:41 [INFO] Token counters updated: 2557 input, 326 output
2025-05-18 21:55:41 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 21:55:41 [INFO] [PDF_Parsing] Extracted 1427 chars from page 1
2025-05-18 21:55:41 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 21:55:44 [INFO] Token counters updated: 5114 input, 812 output
2025-05-18 21:55:44 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 21:55:44 [INFO] [PDF_Parsing] Extracted 2337 chars from page 2
2025-05-18 21:55:44 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 21:55:44 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 21:55:45 [INFO] Token counters updated: 5690 input, 912 output
2025-05-18 21:55:46 [INFO] Token counters updated: 6263 input, 1036 output
2025-05-18 21:55:47 [INFO] Token counters updated: 6582 input, 1045 output
2025-05-18 21:55:47 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 21:55:47 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 21:55:47 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 21:55:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:47 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 21:55:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:47 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 21:55:47 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 21:55:48 [INFO] Token counters updated: 7349 input, 1170 output
2025-05-18 21:55:48 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 21:55:48 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, Hydra 70, APKWS, CRV7, Zuni...
2025-05-18 21:55:48 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 21:55:48 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 21:55:49 [INFO] Token counters updated: 8273 input, 1297 output
2025-05-18 21:55:49 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 21:55:49 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: F16C, Block52, CCIP, RocketLauncher, RLX5000...
2025-05-18 21:55:49 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:55:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:49 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:49 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 21:55:49 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 21:55:49 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:55:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:55:49 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:55:49 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 21:55:49 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 21:55:49 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:55:49 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 21:55:49 [INFO] Use pytorch device_name: mps
2025-05-18 21:55:49 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 21:55:53 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 21:55:53 [INFO] [Save_To_LanceDB] Processing completed in 4.20 seconds
2025-05-18 21:55:53 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 21:55:53 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:55:53 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:55:53 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 21:55:53 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 21:55:53 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:55:53 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 3768 characters using simplified LLM approach
2025-05-18 21:55:53 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 21:55:53 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 3768 characters
2025-05-18 21:56:10 [INFO] Token counters updated: 9294 input, 2137 output
2025-05-18 21:56:10 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 8 chunks
2025-05-18 21:56:10 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 8
2025-05-18 21:56:10 [INFO] [Integrated_Chunking] üìä Generated 8 chunks
2025-05-18 21:56:10 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 6/637/433.2
2025-05-18 21:56:10 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 1/159/108.1
2025-05-18 21:56:10 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 21:56:10 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 21:56:10 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 21:56:10 [INFO] Use pytorch device_name: mps
2025-05-18 21:56:10 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:56:16 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_7 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_8 has no similar chunks. Marking as new.
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (8 chunks) in 0.01s
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 21:56:16 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 8
2025-05-18 21:56:16 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 21:56:16 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 21:56:16 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 8
2025-05-18 21:56:16 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 21:56:16 [INFO] [Integrated_Chunking] üìä Deduplication results: 8 new chunks, 0 duplicates, 0 updates
2025-05-18 21:56:16 [INFO] [Integrated_Chunking] üîÑ Adding 8 chunks to LanceDB
2025-05-18 21:56:16 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 21:56:16 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 21:56:16 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 22.60 seconds
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 21:56:16 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:56:16 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:16 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:16 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 21:56:16 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 37.72 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 21:56:16 [INFO] [E2E_Tests] Pipeline completed in 37.72 seconds
2025-05-18 21:56:16 [ERROR] [E2E_Tests]   Step 1 FAILED ‚ùå
2025-05-18 21:56:16 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 21:56:16 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:16 [INFO] [E2E_Tests]   Expected: Most chunks detected as duplicates, one or more chunks flagged as changed/updated
2025-05-18 21:56:16 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:16 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:16 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 21:56:16 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:16 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:16 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:16 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 21:56:16 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:16 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 21:56:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:16 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 21:56:16 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 21:56:18 [INFO] Token counters updated: 11851 input, 2490 output
2025-05-18 21:56:18 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 21:56:18 [INFO] [PDF_Parsing] Extracted 1546 chars from page 1
2025-05-18 21:56:18 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 21:56:18 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 21:56:20 [INFO] Token counters updated: 12441 input, 2592 output
2025-05-18 21:56:20 [INFO] Token counters updated: 12662 input, 2601 output
2025-05-18 21:56:20 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 21:56:20 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 21:56:20 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 21:56:20 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:20 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 21:56:20 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:20 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 21:56:20 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 21:56:21 [INFO] Token counters updated: 13455 input, 2706 output
2025-05-18 21:56:21 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 21:56:21 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJet, GuidanceSystem, FireRate, OperationalAltitude...
2025-05-18 21:56:21 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 21:56:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:21 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:21 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 21:56:21 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 21:56:21 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 21:56:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:56:21 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 21:56:21 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 21:56:21 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 21:56:21 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 21:56:21 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 21:56:21 [INFO] Use pytorch device_name: mps
2025-05-18 21:56:21 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 21:56:29 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 21:56:29 [INFO] [Save_To_LanceDB] Processing completed in 7.29 seconds
2025-05-18 21:56:29 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 21:56:29 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:29 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:56:29 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 21:56:29 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 21:56:29 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:29 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1548 characters using simplified LLM approach
2025-05-18 21:56:29 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 21:56:29 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1548 characters
2025-05-18 21:56:38 [INFO] Token counters updated: 14008 input, 3103 output
2025-05-18 21:56:38 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 21:56:38 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 21:56:38 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1546 characters
2025-05-18 21:56:48 [INFO] Token counters updated: 14560 input, 3472 output
2025-05-18 21:56:48 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 21:56:48 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 5 chunks
2025-05-18 21:56:48 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 21:56:48 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 21:56:48 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 13/484/274.0
2025-05-18 21:56:48 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 3/121/68.4
2025-05-18 21:56:48 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 21:56:48 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 21:56:48 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 21:56:48 [INFO] Use pytorch device_name: mps
2025-05-18 21:56:48 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:56:55 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] üìä Found 8 existing chunks to compare against
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_1  (similarity: 0.9425)
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_2  is a duplicate of fighter_jet_rocket_launcher_spec.pdf_chunk_2  (similarity: 0.9962)
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_3  is a duplicate of fighter_jet_rocket_launcher_spec.pdf_chunk_3  (similarity: 0.9994)
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_4  is an exact hash match with fighter_jet_rocket_launcher_spec.pdf_chunk_4 
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_5  appears to be new (top similarity: 0.7384 with fighter_jet_rocket_launcher_spec.pdf_chunk_8)
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 1 new chunks, 3 duplicate chunks, and 1 similar chunks (total: 5 chunks) in 0.03s
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 21:56:55 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 21:56:55 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 3
2025-05-18 21:56:55 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 1
2025-05-18 21:56:55 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 1
2025-05-18 21:56:55 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 21:56:55 [INFO] [Integrated_Chunking] üìä Deduplication results: 1 new chunks, 3 duplicates, 1 updates
2025-05-18 21:56:55 [INFO] [Integrated_Chunking] üîÑ Adding 2 chunks to LanceDB
2025-05-18 21:56:55 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 21:56:55 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 10 rows, minimum 256 required
2025-05-18 21:56:55 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 26.01 seconds
2025-05-18 21:56:55 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 21:56:55 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 21:56:55 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:55 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:55 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:56:55 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 21:56:55 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 21:56:55 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:55 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 38.71 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 21:56:55 [INFO] [E2E_Tests] Pipeline completed in 38.71 seconds
2025-05-18 21:56:55 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 21:56:55 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=True, got False
2025-05-18 21:56:55 [ERROR] [E2E_Tests]     - Expected updated_chunks=True, got False
2025-05-18 21:56:55 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 21:56:55 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_215655.json
2025-05-18 21:56:55 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_215655.txt
2025-05-18 21:57:15 [INFO] PyTorch version 2.6.0 available.
2025-05-18 21:57:15 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 21:57:15 [INFO] [E2E_Tests] Starting Scenario 5: Unique Original vs. Unique Reordered
2025-05-18 21:57:15 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 21:57:15 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 21:57:15 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 21:57:15 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 21:57:15 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 21:57:15 [INFO] [E2E_Tests]   Expected: All new unique chunks
2025-05-18 21:57:15 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 21:57:15 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 21:57:15 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 21:57:15 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 21:57:15 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 21:57:15 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:15 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:15 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 21:57:15 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 21:57:15 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 21:57:15 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 21:57:15 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 21:57:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:15 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 21:57:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 21:57:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 21:57:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:15 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 21:57:15 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 21:57:18 [INFO] Loaded token usage data for 3 models
2025-05-18 21:57:18 [INFO] Token counters updated: 2557 input, 403 output
2025-05-18 21:57:18 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 21:57:18 [INFO] [PDF_Parsing] Extracted 1896 chars from page 1
2025-05-18 21:57:18 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 21:57:18 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 21:57:19 [INFO] Token counters updated: 3131 input, 506 output
2025-05-18 21:57:20 [INFO] Token counters updated: 3353 input, 515 output
2025-05-18 21:57:20 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 21:57:20 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 21:57:20 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 21:57:20 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:20 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 21:57:20 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:20 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 21:57:20 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 21:57:21 [INFO] Token counters updated: 4197 input, 633 output
2025-05-18 21:57:21 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 21:57:21 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJet, RLX5000, LaserGuided, InfraredTargeting...
2025-05-18 21:57:21 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 21:57:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:21 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 21:57:21 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 21:57:21 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 21:57:21 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 21:57:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:21 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 21:57:21 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 21:57:21 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 21:57:21 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 21:57:21 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 21:57:21 [INFO] Use pytorch device_name: mps
2025-05-18 21:57:21 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 21:57:26 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 21:57:26 [INFO] [Save_To_LanceDB] Processing completed in 4.85 seconds
2025-05-18 21:57:26 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 21:57:26 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:26 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:57:26 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 21:57:26 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 21:57:26 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 21:57:26 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1898 characters using simplified LLM approach
2025-05-18 21:57:26 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 21:57:26 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1898 characters
2025-05-18 21:57:35 [INFO] Token counters updated: 4799 input, 1083 output
2025-05-18 21:57:35 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 21:57:35 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 21:57:35 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 904 characters
2025-05-18 21:57:39 [INFO] Token counters updated: 5179 input, 1273 output
2025-05-18 21:57:39 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 21:57:39 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 5 chunks
2025-05-18 21:57:39 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 21:57:39 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 21:57:39 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 254/592/372.4
2025-05-18 21:57:39 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/148/92.6
2025-05-18 21:57:39 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 21:57:39 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 21:57:39 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 21:57:39 [INFO] Use pytorch device_name: mps
2025-05-18 21:57:39 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:57:43 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (5 chunks) in 0.01s
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 21:57:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 21:57:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 21:57:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 21:57:43 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 5
2025-05-18 21:57:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 21:57:43 [INFO] [Integrated_Chunking] üìä Deduplication results: 5 new chunks, 0 duplicates, 0 updates
2025-05-18 21:57:43 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 21:57:43 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 21:57:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 21:57:43 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 17.23 seconds
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 21:57:43 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 21:57:43 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:43 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:43 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 21:57:43 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 27.84 seconds for fighter_jet_unique_original.pdf
2025-05-18 21:57:43 [INFO] [E2E_Tests] Pipeline completed in 27.84 seconds
2025-05-18 21:57:43 [ERROR] [E2E_Tests]   Step 1 FAILED ‚ùå
2025-05-18 21:57:43 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 21:57:43 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 21:57:43 [INFO] [E2E_Tests]   Expected: Should not be flagged as duplicate of the original
2025-05-18 21:57:43 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 21:57:43 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 21:57:43 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 21:57:43 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:43 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:43 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 21:57:43 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 21:57:43 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 21:57:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:43 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 21:57:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 21:57:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 21:57:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:43 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 21:57:43 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 21:57:46 [INFO] Token counters updated: 7736 input, 1608 output
2025-05-18 21:57:46 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 21:57:46 [INFO] [PDF_Parsing] Extracted 1541 chars from page 1
2025-05-18 21:57:46 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 21:57:46 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 21:57:47 [INFO] Token counters updated: 8344 input, 1723 output
2025-05-18 21:57:48 [INFO] Token counters updated: 8578 input, 1731 output
2025-05-18 21:57:48 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications
2025-05-18 21:57:48 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications"
2025-05-18 21:57:48 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 21:57:48 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:48 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 21:57:48 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:48 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 21:57:48 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 21:57:49 [INFO] Token counters updated: 9352 input, 1845 output
2025-05-18 21:57:49 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 21:57:49 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: Thermal Shielding, Laser Guidance, Infrared Targeting, GPS Navigation, Quick Reload...
2025-05-18 21:57:49 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 21:57:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:49 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 21:57:49 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications
2025-05-18 21:57:49 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 21:57:49 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 21:57:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 21:57:49 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 21:57:49 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 21:57:49 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 21:57:49 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 21:57:49 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 21:57:49 [INFO] Use pytorch device_name: mps
2025-05-18 21:57:49 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 21:57:54 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 21:57:54 [INFO] [Save_To_LanceDB] Processing completed in 4.91 seconds
2025-05-18 21:57:54 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 21:57:54 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:57:54 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 21:57:54 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 21:57:54 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 21:57:54 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 21:57:54 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1543 characters using simplified LLM approach
2025-05-18 21:57:54 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 21:57:54 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1543 characters
2025-05-18 21:58:01 [INFO] Token counters updated: 9881 input, 2191 output
2025-05-18 21:58:01 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 21:58:01 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 21:58:01 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 21:58:01 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 288/738/483.7
2025-05-18 21:58:01 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 72/184/120.7
2025-05-18 21:58:01 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 21:58:01 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 21:58:01 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 21:58:01 [INFO] Use pytorch device_name: mps
2025-05-18 21:58:01 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 21:58:10 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] üìä Found 5 existing chunks to compare against
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  is similar to fighter_jet_unique_original.pdf_chunk_3  (similarity: 0.9020)
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  appears to be new (top similarity: 0.8944 with fighter_jet_unique_original.pdf_chunk_2)
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  appears to be new (top similarity: 0.8804 with fighter_jet_unique_original.pdf_chunk_1)
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 2 new chunks, 0 duplicate chunks, and 1 similar chunks (total: 3 chunks) in 0.02s
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 21:58:10 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 21:58:10 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 21:58:10 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 1
2025-05-18 21:58:10 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 2
2025-05-18 21:58:10 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 21:58:10 [INFO] [Integrated_Chunking] üìä Deduplication results: 2 new chunks, 0 duplicates, 1 updates
2025-05-18 21:58:10 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 21:58:10 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 21:58:10 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 21:58:10 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 16.04 seconds
2025-05-18 21:58:10 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 21:58:10 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 21:58:10 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 21:58:10 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:58:10 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 21:58:10 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 21:58:10 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 21:58:10 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 21:58:10 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 26.84 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 21:58:10 [INFO] [E2E_Tests] Pipeline completed in 26.84 seconds
2025-05-18 21:58:10 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 21:58:10 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 21:58:10 [ERROR] [E2E_Tests] Scenario 5 FAILED ‚ùå
2025-05-18 21:58:10 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_215810.json
2025-05-18 21:58:10 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_215810.txt
2025-05-18 21:58:26 [INFO] [DB_Visualizer] Analyzing document relationships...
2025-05-18 21:58:26 [INFO] [DB_Visualizer] Relationship data saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/visualizations/doc_relationships_20250518_215826.json
2025-05-18 21:58:26 [INFO] [DB_Visualizer] Creating network graph...
2025-05-18 21:58:26 [INFO] [DB_Visualizer] Network graph saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/visualizations/doc_relationships_20250518_215826.png
2025-05-18 21:58:26 [INFO] [DB_Visualizer] Summary: 2 documents with 8 chunks
2025-05-18 21:58:26 [INFO] [DB_Visualizer] Found 0 document relationships
2025-05-18 21:58:32 [INFO] [Test_Reporter] HTML report generated: /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_reports/e2e_test_report_20250518_215832.html
2025-05-18 22:04:06 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:04:07 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:04:07 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 22:04:07 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:04:07 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:04:07 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:04:07 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:04:07 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:07 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 22:04:07 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:04:07 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:04:07 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:07 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:07 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:04:07 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:07 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:07 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:04:07 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:07 [INFO] [Hash_Deduplication] File hash check completed in 0.05 seconds. File is unique.
2025-05-18 22:04:07 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 22:04:07 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:07 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 22:04:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:07 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 22:04:07 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 22:04:09 [INFO] Loaded token usage data for 3 models
2025-05-18 22:04:09 [INFO] Token counters updated: 2557 input, 336 output
2025-05-18 22:04:09 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:04:09 [INFO] [PDF_Parsing] Extracted 1436 chars from page 1
2025-05-18 22:04:09 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 22:04:12 [INFO] Token counters updated: 5114 input, 661 output
2025-05-18 22:04:12 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 22:04:12 [INFO] [PDF_Parsing] Extracted 1457 chars from page 2
2025-05-18 22:04:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 22:04:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:04:13 [INFO] Token counters updated: 5696 input, 765 output
2025-05-18 22:04:14 [INFO] Token counters updated: 6280 input, 888 output
2025-05-18 22:04:15 [INFO] Token counters updated: 6602 input, 897 output
2025-05-18 22:04:15 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:04:15 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Guide"
2025-05-18 22:04:15 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:04:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:15 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:04:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:15 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:04:15 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 22:04:16 [INFO] Token counters updated: 7379 input, 1025 output
2025-05-18 22:04:16 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:04:16 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJets, TechnicalSpecifications, RLX5000, GuidanceSystem...
2025-05-18 22:04:16 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 22:04:16 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 22:04:17 [INFO] Token counters updated: 8139 input, 1172 output
2025-05-18 22:04:17 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 22:04:17 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: RLX-5000, F-16C Block 52 CCIP, rocket launcher, quick reload mechanism, thermal shielding...
2025-05-18 22:04:17 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:04:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:17 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:17 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:04:17 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 22:04:17 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:04:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:04:17 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:04:17 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:04:17 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:04:17 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:04:17 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:04:17 [INFO] Use pytorch device_name: mps
2025-05-18 22:04:17 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:04:23 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:04:23 [INFO] [Save_To_LanceDB] Processing completed in 5.86 seconds
2025-05-18 22:04:23 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:04:23 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:23 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:04:23 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 22:04:23 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:04:23 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:23 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2897 characters using simplified LLM approach
2025-05-18 22:04:23 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:04:23 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2897 characters
2025-05-18 22:04:33 [INFO] Token counters updated: 8999 input, 1892 output
2025-05-18 22:04:33 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:04:33 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:04:33 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 968 characters
2025-05-18 22:04:38 [INFO] Token counters updated: 9432 input, 2126 output
2025-05-18 22:04:38 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:04:38 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 6 chunks
2025-05-18 22:04:38 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 6
2025-05-18 22:04:38 [INFO] [Integrated_Chunking] üìä Generated 6 chunks
2025-05-18 22:04:38 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 153/849/470.5
2025-05-18 22:04:38 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 38/212/117.3
2025-05-18 22:04:38 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:04:38 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:04:38 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:04:38 [INFO] Use pytorch device_name: mps
2025-05-18 22:04:38 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:04:43 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (6 chunks) in 0.01s
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:04:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 6
2025-05-18 22:04:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:04:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:04:43 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 6
2025-05-18 22:04:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:04:43 [INFO] [Integrated_Chunking] üìä Deduplication results: 6 new chunks, 0 duplicates, 0 updates
2025-05-18 22:04:43 [INFO] [Integrated_Chunking] üîÑ Adding 6 chunks to LanceDB
2025-05-18 22:04:43 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:04:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 6 rows, minimum 256 required
2025-05-18 22:04:43 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 20.29 seconds
2025-05-18 22:04:43 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:04:43 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:04:43 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:43 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:43 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 22:04:43 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 22:04:43 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 36.70 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [E2E_Tests] Pipeline completed in 36.71 seconds
2025-05-18 22:04:43 [ERROR] [E2E_Tests]   Step 1 FAILED ‚ùå
2025-05-18 22:04:43 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-18 22:04:43 [ERROR] [E2E_Tests]     - Expected updated_chunks=False, got True
2025-05-18 22:04:43 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 22:04:43 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:04:43 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:04:43 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:04:43 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:43 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:04:43 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 22:04:43 [INFO] [E2E_Tests] Detected duplicate document from logs: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:04:43 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 22:04:43 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:04:43 [ERROR] [E2E_Tests]     - Expected new_chunks=False, got True
2025-05-18 22:04:43 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-18 22:04:43 [ERROR] [E2E_Tests]     - Expected updated_chunks=False, got True
2025-05-18 22:04:43 [ERROR] [E2E_Tests] Scenario 1 FAILED ‚ùå
2025-05-18 22:04:43 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_220443.json
2025-05-18 22:04:43 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_220443.txt
2025-05-18 22:06:20 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:06:21 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:06:21 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 22:06:21 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:06:21 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:06:21 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:06:21 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:06:21 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:21 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 22:06:21 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:06:21 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:06:21 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:21 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:21 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:06:21 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:21 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:21 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:06:21 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:21 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:06:21 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 22:06:21 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:21 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 22:06:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:21 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 22:06:21 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 22:06:23 [INFO] Loaded token usage data for 3 models
2025-05-18 22:06:23 [INFO] Token counters updated: 2557 input, 332 output
2025-05-18 22:06:23 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:06:23 [INFO] [PDF_Parsing] Extracted 1428 chars from page 1
2025-05-18 22:06:23 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 22:06:27 [INFO] Token counters updated: 5114 input, 725 output
2025-05-18 22:06:27 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 22:06:27 [INFO] [PDF_Parsing] Extracted 1810 chars from page 2
2025-05-18 22:06:27 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 22:06:27 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:06:28 [INFO] Token counters updated: 5695 input, 811 output
2025-05-18 22:06:29 [INFO] Token counters updated: 6268 input, 931 output
2025-05-18 22:06:30 [INFO] Token counters updated: 6582 input, 940 output
2025-05-18 22:06:30 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:06:30 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 22:06:30 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:06:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:30 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:06:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:30 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:06:30 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 22:06:31 [INFO] Token counters updated: 7354 input, 1051 output
2025-05-18 22:06:31 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:06:31 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJet, GuidanceSystem, LaserGuided, InfraredGuided...
2025-05-18 22:06:31 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 22:06:31 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 22:06:32 [INFO] Token counters updated: 8184 input, 1185 output
2025-05-18 22:06:32 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 22:06:32 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: F100-PW-229, PrattWhitney, ThermalShielding, QuickReloadMechanism, RocketLauncherSystem...
2025-05-18 22:06:32 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:06:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:32 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:32 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:06:32 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 22:06:32 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:06:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:06:32 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:06:32 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:06:32 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:06:32 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:06:32 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:06:32 [INFO] Use pytorch device_name: mps
2025-05-18 22:06:32 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:06:37 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:06:37 [INFO] [Save_To_LanceDB] Processing completed in 4.75 seconds
2025-05-18 22:06:37 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:06:37 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:06:37 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 22:06:37 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:06:37 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:37 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 3242 characters using simplified LLM approach
2025-05-18 22:06:37 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:06:37 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 3242 characters
2025-05-18 22:06:51 [INFO] Token counters updated: 9109 input, 1800 output
2025-05-18 22:06:51 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:06:51 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:06:51 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:06:51 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 264/775/536.4
2025-05-18 22:06:51 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 66/193/133.8
2025-05-18 22:06:51 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:06:51 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:06:51 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:06:51 [INFO] Use pytorch device_name: mps
2025-05-18 22:06:51 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:06:57 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (5 chunks) in 0.01s
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:06:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:06:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:06:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:06:57 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 5
2025-05-18 22:06:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:06:57 [INFO] [Integrated_Chunking] üìä Deduplication results: 5 new chunks, 0 duplicates, 0 updates
2025-05-18 22:06:57 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:06:57 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:06:57 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 22:06:57 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 20.27 seconds
2025-05-18 22:06:57 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:06:57 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:06:57 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:57 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:57 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 22:06:57 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 22:06:57 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 36.32 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [E2E_Tests] Pipeline completed in 36.32 seconds
2025-05-18 22:06:57 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:06:57 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 22:06:57 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:06:57 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:06:57 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:06:57 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:57 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:06:57 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:06:57 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 22:06:57 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 22:06:57 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 22:06:57 [INFO] [E2E_Tests] Scenario 1 PASSED ‚úÖ
2025-05-18 22:06:57 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_220657.json
2025-05-18 22:06:57 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_220657.txt
2025-05-18 22:07:09 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:07:09 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:07:09 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 22:07:09 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:07:09 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:07:09 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:07:09 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:07:09 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:09 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:07:09 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:07:09 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:07:09 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:09 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:09 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:07:09 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:09 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:09 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:07:09 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:09 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:07:09 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:07:09 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:09 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:07:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:09 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:07:09 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:07:12 [INFO] Loaded token usage data for 3 models
2025-05-18 22:07:12 [INFO] Token counters updated: 2557 input, 411 output
2025-05-18 22:07:12 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:07:12 [INFO] [PDF_Parsing] Extracted 2009 chars from page 1
2025-05-18 22:07:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:07:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:07:13 [INFO] Token counters updated: 3107 input, 506 output
2025-05-18 22:07:14 [INFO] Token counters updated: 3334 input, 515 output
2025-05-18 22:07:14 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:07:14 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 22:07:14 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:07:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:14 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:07:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:14 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:07:14 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:07:15 [INFO] Token counters updated: 4180 input, 628 output
2025-05-18 22:07:15 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:07:15 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 22:07:15 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:07:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:15 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:15 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:07:15 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:07:15 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:07:15 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:15 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:07:15 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:07:15 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:07:15 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:07:15 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:07:15 [INFO] Use pytorch device_name: mps
2025-05-18 22:07:15 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:07:19 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:07:19 [INFO] [Save_To_LanceDB] Processing completed in 3.93 seconds
2025-05-18 22:07:19 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:07:19 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:19 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:07:19 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:07:19 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:07:19 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:19 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2011 characters using simplified LLM approach
2025-05-18 22:07:19 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:07:19 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2011 characters
2025-05-18 22:07:28 [INFO] Token counters updated: 4787 input, 1048 output
2025-05-18 22:07:28 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:07:28 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:07:28 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:07:28 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 225/685/363.6
2025-05-18 22:07:28 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 56/171/90.6
2025-05-18 22:07:28 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:07:28 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:07:28 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:07:28 [INFO] Use pytorch device_name: mps
2025-05-18 22:07:28 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:07:33 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (5 chunks) in 0.02s
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:07:33 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:07:33 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:07:33 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:07:33 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 5
2025-05-18 22:07:33 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:07:33 [INFO] [Integrated_Chunking] üìä Deduplication results: 5 new chunks, 0 duplicates, 0 updates
2025-05-18 22:07:33 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:07:33 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:07:33 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 22:07:33 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 13.89 seconds
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:07:33 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:33 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:33 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:33 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:07:33 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 23.85 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:33 [INFO] [E2E_Tests] Pipeline completed in 23.85 seconds
2025-05-18 22:07:33 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:07:33 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:33 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 22:07:33 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:33 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:33 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:07:33 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:33 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:33 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:33 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:07:33 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:33 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:07:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:33 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:07:33 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:07:35 [INFO] Token counters updated: 7344 input, 1401 output
2025-05-18 22:07:35 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:07:35 [INFO] [PDF_Parsing] Extracted 1570 chars from page 1
2025-05-18 22:07:35 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:07:35 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:07:37 [INFO] Token counters updated: 7924 input, 1514 output
2025-05-18 22:07:37 [INFO] Token counters updated: 8156 input, 1523 output
2025-05-18 22:07:37 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:07:37 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 22:07:37 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:07:37 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:37 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:07:37 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:37 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:07:37 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:07:38 [INFO] Token counters updated: 8948 input, 1642 output
2025-05-18 22:07:38 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:07:38 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJet, RLX5000, Hydra70, APKWS...
2025-05-18 22:07:38 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:07:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:38 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:38 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:07:38 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:07:38 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:07:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:07:38 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:07:38 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:07:38 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:07:38 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:07:38 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:07:38 [INFO] Use pytorch device_name: mps
2025-05-18 22:07:38 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:07:44 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:07:44 [INFO] [Save_To_LanceDB] Processing completed in 6.07 seconds
2025-05-18 22:07:44 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:07:44 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:07:44 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:44 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:07:44 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 22:07:44 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:44 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:07:44 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:07:44 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:07:44 [INFO] [Context_Chunking] Retrieved 5 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:07:44 [INFO] [Context_Chunking] Performing context-aware chunking with 5 reference chunks
2025-05-18 22:07:44 [INFO] [Context_Chunking] Performing context-aware chunking with 5 reference chunks
2025-05-18 22:07:54 [INFO] Token counters updated: 10093 input, 2006 output
2025-05-18 22:07:54 [INFO] [Context_Chunking] Context-aware chunking produced 4 chunks
2025-05-18 22:07:54 [INFO] [Context_Chunking] Created 4 initial chunks
2025-05-18 22:07:59 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:07:59 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 1.0000 (DUPLICATE)
2025-05-18 22:08:01 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:08:01 [ERROR] [Pipeline_Controller] ‚ùå Error during document chunking: name 'log_chunk_comparison' is not defined
2025-05-18 22:08:02 [INFO] [E2E_Tests] Pipeline completed in 28.82 seconds
2025-05-18 22:08:02 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:08:02 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=True, got False
2025-05-18 22:08:02 [ERROR] [E2E_Tests]     - Expected updated_chunks=True, got False
2025-05-18 22:08:02 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 22:08:02 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_220802.json
2025-05-18 22:08:02 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_220802.txt
2025-05-18 22:12:34 [INFO] [Test_Analyzer] Analysis report written to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/analysis_report_20250518_221234.txt
2025-05-18 22:13:34 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:13:35 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:13:35 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 22:13:35 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:13:35 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:13:35 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:13:35 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:13:35 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:35 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:13:35 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:13:35 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:13:35 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:35 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:35 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:13:35 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:35 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:35 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:13:35 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:35 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:13:35 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:13:35 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:35 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:13:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:35 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:13:35 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:13:37 [INFO] Loaded token usage data for 3 models
2025-05-18 22:13:37 [INFO] Token counters updated: 2557 input, 398 output
2025-05-18 22:13:37 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:13:37 [INFO] [PDF_Parsing] Extracted 1842 chars from page 1
2025-05-18 22:13:37 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:13:37 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:13:38 [INFO] Token counters updated: 3136 input, 513 output
2025-05-18 22:13:39 [INFO] Token counters updated: 3369 input, 521 output
2025-05-18 22:13:39 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:13:39 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:13:39 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:13:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:39 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:13:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:39 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:13:39 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:13:40 [INFO] Token counters updated: 4207 input, 641 output
2025-05-18 22:13:40 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:13:40 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, LaserGuidance, InfraredGuidance...
2025-05-18 22:13:40 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:13:40 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:40 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:40 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:13:40 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:13:40 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:13:40 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:40 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:13:40 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:13:40 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:13:40 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:13:40 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:13:40 [INFO] Use pytorch device_name: mps
2025-05-18 22:13:40 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:13:45 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:13:45 [INFO] [Save_To_LanceDB] Processing completed in 5.33 seconds
2025-05-18 22:13:45 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:13:45 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:45 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:13:45 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:13:45 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:13:45 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:45 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1844 characters using simplified LLM approach
2025-05-18 22:13:45 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:13:45 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1844 characters
2025-05-18 22:13:52 [INFO] Token counters updated: 4804 input, 1048 output
2025-05-18 22:13:52 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:13:52 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:13:52 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:13:52 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 388/871/610.7
2025-05-18 22:13:52 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 97/217/152.3
2025-05-18 22:13:52 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:13:52 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:13:52 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:13:52 [INFO] Use pytorch device_name: mps
2025-05-18 22:13:52 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:13:57 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:13:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:13:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:13:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:13:57 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:13:57 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:13:57 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:13:57 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:13:57 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:13:57 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:13:57 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.25 seconds
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:13:57 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:57 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:57 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:57 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:13:57 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.09 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:13:57 [INFO] [E2E_Tests] Pipeline completed in 22.09 seconds
2025-05-18 22:13:57 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:13:57 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:13:57 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 22:13:57 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:13:57 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:13:57 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:13:57 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:57 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:13:57 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:13:57 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:13:57 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:13:57 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:57 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:13:57 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:13:57 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:13:57 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:13:57 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:13:57 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:13:59 [INFO] Token counters updated: 7361 input, 1413 output
2025-05-18 22:13:59 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:13:59 [INFO] [PDF_Parsing] Extracted 1642 chars from page 1
2025-05-18 22:13:59 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:13:59 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:14:00 [INFO] Token counters updated: 7939 input, 1517 output
2025-05-18 22:14:01 [INFO] Token counters updated: 8162 input, 1525 output
2025-05-18 22:14:01 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:14:01 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:14:01 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:14:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:14:01 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:14:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:14:01 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:14:01 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:14:02 [INFO] Token counters updated: 8966 input, 1643 output
2025-05-18 22:14:02 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:14:02 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, LaserGuidance, InfraredGuidance, GPSGuidance, Hydra70...
2025-05-18 22:14:02 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:14:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:14:02 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:14:02 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:14:02 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:14:02 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:14:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:14:02 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:14:02 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:14:02 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:14:02 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:14:02 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:14:02 [INFO] Use pytorch device_name: mps
2025-05-18 22:14:02 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:14:07 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:14:07 [INFO] [Save_To_LanceDB] Processing completed in 5.23 seconds
2025-05-18 22:14:07 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:14:07 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:14:07 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:14:07 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:14:07 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 22:14:07 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:14:07 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:14:07 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:14:07 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:14:07 [INFO] [Context_Chunking] Retrieved 3 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:14:07 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:14:07 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:14:15 [INFO] Token counters updated: 10129 input, 2064 output
2025-05-18 22:14:15 [INFO] [Context_Chunking] Context-aware chunking produced 3 chunks
2025-05-18 22:14:15 [INFO] [Context_Chunking] Created 3 initial chunks
2025-05-18 22:14:18 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:14:19 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9960 (DUPLICATE)
2025-05-18 22:14:20 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:14:20 [ERROR] [Pipeline_Controller] ‚ùå Error during document chunking: log_chunk_comparison() got an unexpected keyword argument 'doc_id'
2025-05-18 22:14:20 [INFO] [E2E_Tests] Pipeline completed in 23.74 seconds
2025-05-18 22:14:20 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:14:20 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=True, got False
2025-05-18 22:14:20 [ERROR] [E2E_Tests]     - Expected updated_chunks=True, got False
2025-05-18 22:14:20 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 22:14:20 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_221420.json
2025-05-18 22:14:20 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_221420.txt
2025-05-18 22:16:39 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:16:39 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:16:39 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 22:16:39 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:16:39 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:16:39 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:16:39 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:16:39 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:39 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:16:39 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:16:39 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:16:39 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:39 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:39 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:16:39 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:39 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:39 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:16:39 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:39 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:16:39 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:16:39 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:39 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:39 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:16:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:39 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:39 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:16:40 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:16:40 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:16:40 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:16:40 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:16:40 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:16:40 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:16:40 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:16:42 [INFO] Loaded token usage data for 3 models
2025-05-18 22:16:42 [INFO] Token counters updated: 2557 input, 402 output
2025-05-18 22:16:42 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:16:42 [INFO] [PDF_Parsing] Extracted 1851 chars from page 1
2025-05-18 22:16:42 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:16:42 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:16:43 [INFO] Token counters updated: 3135 input, 509 output
2025-05-18 22:16:44 [INFO] Token counters updated: 3361 input, 517 output
2025-05-18 22:16:44 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:16:44 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:16:44 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:16:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:44 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:16:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:44 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:16:44 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:16:45 [INFO] Token counters updated: 4202 input, 633 output
2025-05-18 22:16:45 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:16:45 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, RocketLauncher, FighterJet, LaserGuided, InfraredTargeting...
2025-05-18 22:16:45 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:16:45 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:45 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:45 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:16:45 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:16:45 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:16:45 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:16:45 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:16:45 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:16:45 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:16:45 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:16:45 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:16:45 [INFO] Use pytorch device_name: mps
2025-05-18 22:16:45 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:16:48 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:16:48 [INFO] [Save_To_LanceDB] Processing completed in 3.27 seconds
2025-05-18 22:16:48 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:16:48 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:16:48 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:16:48 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:16:48 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:16:48 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:16:48 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1853 characters using simplified LLM approach
2025-05-18 22:16:48 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:16:48 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1853 characters
2025-05-18 22:16:57 [INFO] Token counters updated: 4803 input, 1050 output
2025-05-18 22:16:57 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:16:57 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:16:57 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:16:57 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 253/889/613.3
2025-05-18 22:16:57 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/222/153.0
2025-05-18 22:16:57 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:16:57 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:16:57 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:16:57 [INFO] Use pytorch device_name: mps
2025-05-18 22:16:57 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:17:02 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:17:02 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:17:02 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:17:02 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:17:02 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:17:02 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:17:02 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:17:02 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:17:02 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:17:02 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:17:02 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 14.08 seconds
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:17:02 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:17:02 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:02 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:02 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:17:02 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.89 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:17:02 [INFO] [E2E_Tests] Pipeline completed in 22.89 seconds
2025-05-18 22:17:02 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:17:02 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:02 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 22:17:02 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:02 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:02 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:17:02 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:02 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:02 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:02 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:17:02 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:02 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:02 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:17:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:02 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:02 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:17:03 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:17:03 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:17:03 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:17:03 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:17:03 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:17:03 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:17:03 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:17:05 [INFO] Token counters updated: 7360 input, 1379 output
2025-05-18 22:17:05 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:17:05 [INFO] [PDF_Parsing] Extracted 1698 chars from page 1
2025-05-18 22:17:05 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:17:05 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:17:06 [INFO] Token counters updated: 7889 input, 1485 output
2025-05-18 22:17:07 [INFO] Token counters updated: 8114 input, 1493 output
2025-05-18 22:17:07 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:17:07 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:17:07 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:17:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:07 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:17:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:07 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:17:07 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:17:08 [INFO] Token counters updated: 8879 input, 1606 output
2025-05-18 22:17:08 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:17:08 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, LaserGuided, InfraredTargeting...
2025-05-18 22:17:08 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:17:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:08 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:08 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:17:08 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:17:08 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:17:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:17:08 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:17:08 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:17:08 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:17:08 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:17:08 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:17:08 [INFO] Use pytorch device_name: mps
2025-05-18 22:17:08 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:17:13 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:17:13 [INFO] [Save_To_LanceDB] Processing completed in 4.80 seconds
2025-05-18 22:17:13 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:17:13 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:17:13 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:17:13 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:17:13 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 22:17:13 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:13 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:13 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:13 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:17:13 [INFO] [Context_Chunking] Retrieved 3 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:17:13 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:17:13 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:17:20 [INFO] Token counters updated: 10009 input, 1946 output
2025-05-18 22:17:20 [INFO] [Context_Chunking] Context-aware chunking produced 1 chunks
2025-05-18 22:17:20 [INFO] [Context_Chunking] Created 1 initial chunks
2025-05-18 22:17:23 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:17:23 [WARNING] [Context_Chunking] Could not find exact position for chunk 1, using approximate position
2025-05-18 22:17:24 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7656 (DIFFERENT)
2025-05-18 22:17:24 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Similarity: 0.7656
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:17:24 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:17:24 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7765 (DIFFERENT)
2025-05-18 22:17:24 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Similarity: 0.7765
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:17:24 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2: evaluating
2025-05-18 22:17:24 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8039 (DIFFERENT)
2025-05-18 22:17:24 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Similarity: 0.8039
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:17:24 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:17:24 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3: evaluating
2025-05-18 22:17:24 [INFO] [Context_Chunking] üìä CHUNK DEDUPLICATION SUMMARY FOR fighter_jet_rocket_launcher_spec_2_changed_values.pdf (update of fighter_jet_rocket_launcher_spec_2.pdf):
2025-05-18 22:17:24 [INFO] [Context_Chunking]   ‚Ä¢ Total chunks processed: 1
2025-05-18 22:17:24 [INFO] [Context_Chunking]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:17:24 [INFO] [Context_Chunking]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:17:24 [INFO] [Context_Chunking]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:17:24 [INFO] [Context_Chunking]   ‚Ä¢ Document is a major update of fighter_jet_rocket_launcher_spec_2.pdf with new content
2025-05-18 22:17:25 [INFO] [Context_Chunking] Processed 1 chunks in 12.40s (0 duplicates, 0 updated, 1 new)
2025-05-18 22:17:25 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:25 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:17:25 [INFO] [Context_Chunking] Opened existing table: document_chunks
2025-05-18 22:17:25 [INFO] [Context_Chunking] Adding missing columns: {'is_duplicate_marker', 'replaced_by', 'is_replaced'}
2025-05-18 22:17:25 [INFO] [Context_Chunking] Updated schema with 3 new columns, added 1 new chunks
2025-05-18 22:17:25 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:17:25 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:17:26 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:17:26 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:17:26 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:17:26 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:26 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:26 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:17:26 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 22:17:26 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 22:17:26 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:26 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 23.18 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:17:26 [INFO] [E2E_Tests] Pipeline completed in 23.18 seconds
2025-05-18 22:17:26 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:17:26 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=True, got False
2025-05-18 22:17:26 [ERROR] [E2E_Tests]     - Expected updated_chunks=True, got False
2025-05-18 22:17:26 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 22:17:26 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_221726.json
2025-05-18 22:17:26 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_221726.txt
2025-05-18 22:17:35 [INFO] [Test_Analyzer] Analysis report written to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/analysis_report_20250518_221735.txt
2025-05-18 22:18:24 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:18:25 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:18:25 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 22:18:25 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:18:25 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:18:25 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:18:25 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:18:25 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:25 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:18:25 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:18:25 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:18:25 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:25 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:25 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:18:25 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:25 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:25 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:18:25 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:25 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:18:25 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:18:25 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:25 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:18:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:25 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:25 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:18:25 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:18:27 [INFO] Loaded token usage data for 3 models
2025-05-18 22:18:27 [INFO] Token counters updated: 2557 input, 399 output
2025-05-18 22:18:27 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:18:27 [INFO] [PDF_Parsing] Extracted 1894 chars from page 1
2025-05-18 22:18:27 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:18:27 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:18:28 [INFO] Token counters updated: 3124 input, 502 output
2025-05-18 22:18:29 [INFO] Token counters updated: 3346 input, 510 output
2025-05-18 22:18:29 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:18:29 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:18:29 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:18:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:29 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:18:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:29 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:18:29 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:18:30 [INFO] Token counters updated: 4185 input, 625 output
2025-05-18 22:18:30 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:18:30 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 22:18:30 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:18:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:30 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:30 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:18:30 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:18:30 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:18:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:30 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:18:30 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:18:30 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:18:30 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:18:30 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:18:30 [INFO] Use pytorch device_name: mps
2025-05-18 22:18:30 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:18:33 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:18:33 [INFO] [Save_To_LanceDB] Processing completed in 3.31 seconds
2025-05-18 22:18:33 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:18:33 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:33 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:18:33 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:18:33 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:18:33 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:33 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1896 characters using simplified LLM approach
2025-05-18 22:18:33 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:18:33 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1896 characters
2025-05-18 22:18:40 [INFO] Token counters updated: 4783 input, 1013 output
2025-05-18 22:18:40 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:18:40 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:18:40 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:18:40 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 252/770/555.0
2025-05-18 22:18:40 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/192/138.3
2025-05-18 22:18:40 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:18:40 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:18:40 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:18:40 [INFO] Use pytorch device_name: mps
2025-05-18 22:18:40 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:18:44 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:18:44 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:18:44 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:18:44 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:18:44 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:18:44 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:18:44 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:18:44 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:18:44 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:18:44 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:18:44 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 10.64 seconds
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:18:44 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:44 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:44 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:44 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:18:44 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 19.47 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:44 [INFO] [E2E_Tests] Pipeline completed in 19.48 seconds
2025-05-18 22:18:44 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:18:44 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:44 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 22:18:44 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:44 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:44 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:18:44 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:44 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:44 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:44 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:18:44 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:44 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:18:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:44 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:18:44 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:18:47 [INFO] Token counters updated: 7340 input, 1429 output
2025-05-18 22:18:47 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:18:47 [INFO] [PDF_Parsing] Extracted 1609 chars from page 1
2025-05-18 22:18:47 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:18:47 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:18:48 [INFO] Token counters updated: 7952 input, 1526 output
2025-05-18 22:18:49 [INFO] Token counters updated: 8169 input, 1535 output
2025-05-18 22:18:49 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:18:49 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 22:18:49 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:18:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:49 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:18:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:49 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:18:49 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:18:50 [INFO] Token counters updated: 9020 input, 1655 output
2025-05-18 22:18:50 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:18:50 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, Hydra 70, APKWS, CRV7, Zuni...
2025-05-18 22:18:50 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:18:50 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:50 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:50 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:18:50 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:18:50 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:18:50 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:18:50 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:18:50 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:18:50 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:18:50 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:18:50 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:18:50 [INFO] Use pytorch device_name: mps
2025-05-18 22:18:50 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:18:55 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:18:55 [INFO] [Save_To_LanceDB] Processing completed in 5.17 seconds
2025-05-18 22:18:55 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:18:55 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:18:55 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:55 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:18:55 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 22:18:55 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:55 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:18:55 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:18:55 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:18:55 [INFO] [Context_Chunking] Retrieved 3 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:18:55 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:18:55 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:19:01 [INFO] Token counters updated: 10205 input, 2004 output
2025-05-18 22:19:01 [INFO] [Context_Chunking] Context-aware chunking produced 3 chunks
2025-05-18 22:19:01 [INFO] [Context_Chunking] Created 3 initial chunks
2025-05-18 22:19:03 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:19:03 [WARNING] [Context_Chunking] Could not find exact position for chunk 1, using approximate position
2025-05-18 22:19:03 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9992 (DUPLICATE)
2025-05-18 22:19:03 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:19:03 [INFO] [Context_Chunking]    Similarity: 0.9992
2025-05-18 22:19:03 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:19:03 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:19:03 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:19:03 [INFO] [Context_Chunking] Skipping duplicate chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001, referencing fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 instead
2025-05-18 22:19:03 [WARNING] [Context_Chunking] Could not find exact position for chunk 2, using approximate position
2025-05-18 22:19:04 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8987 (DIFFERENT)
2025-05-18 22:19:04 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Similarity: 0.8987
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:19:04 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:19:04 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 1.0000 (DUPLICATE)
2025-05-18 22:19:04 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Similarity: 1.0000
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:19:04 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2: evaluating
2025-05-18 22:19:04 [INFO] [Context_Chunking] Skipping duplicate chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002, referencing fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 instead
2025-05-18 22:19:04 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7778 (DIFFERENT)
2025-05-18 22:19:04 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Similarity: 0.7778
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:19:04 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:19:04 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7736 (DIFFERENT)
2025-05-18 22:19:04 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Similarity: 0.7736
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:19:04 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2: evaluating
2025-05-18 22:19:04 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8061 (DIFFERENT)
2025-05-18 22:19:04 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Similarity: 0.8061
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:19:04 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:19:04 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3: evaluating
2025-05-18 22:19:04 [INFO] [Context_Chunking] üìä CHUNK DEDUPLICATION SUMMARY FOR fighter_jet_rocket_launcher_spec_2_changed_values.pdf (update of fighter_jet_rocket_launcher_spec_2.pdf):
2025-05-18 22:19:04 [INFO] [Context_Chunking]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:19:04 [INFO] [Context_Chunking]   ‚Ä¢ Exact duplicates found: 2
2025-05-18 22:19:04 [INFO] [Context_Chunking]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:19:04 [INFO] [Context_Chunking]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:19:04 [INFO] [Context_Chunking]   ‚Ä¢ Duplicate/similar chunk rate: 66.7%
2025-05-18 22:19:04 [INFO] [Context_Chunking]   ‚Ä¢ Document is a major update of fighter_jet_rocket_launcher_spec_2.pdf with new content
2025-05-18 22:19:05 [INFO] [Context_Chunking] Processed 1 chunks in 9.78s (2 duplicates, 0 updated, 1 new)
2025-05-18 22:19:05 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:05 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:19:05 [INFO] [Context_Chunking] Opened existing table: document_chunks
2025-05-18 22:19:05 [INFO] [Context_Chunking] Adding missing columns: {'replaced_by', 'is_replaced', 'is_duplicate_marker'}
2025-05-18 22:19:05 [INFO] [Context_Chunking] Updated schema with 3 new columns, added 1 new chunks
2025-05-18 22:19:05 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:19:05 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:19:05 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:19:05 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:19:05 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:19:05 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:19:05 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:05 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:05 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 22:19:05 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 22:19:05 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:19:05 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 21.12 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:19:05 [INFO] [E2E_Tests] Pipeline completed in 21.12 seconds
2025-05-18 22:19:05 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 22:19:05 [INFO] [E2E_Tests] Scenario 2 PASSED ‚úÖ
2025-05-18 22:19:05 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_221905.json
2025-05-18 22:19:05 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_221905.txt
2025-05-18 22:19:14 [INFO] [Test_Analyzer] Analysis report written to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/analysis_report_20250518_221914.txt
2025-05-18 22:19:29 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:19:29 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:19:29 [INFO] [E2E_Tests] Starting Scenario 5: Unique Original vs. Unique Reordered
2025-05-18 22:19:29 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:19:29 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:19:29 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:19:29 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:19:29 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 22:19:29 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 22:19:29 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 22:19:29 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:19:29 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 22:19:29 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:19:29 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 22:19:29 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:29 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:29 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:19:29 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:19:29 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:19:29 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 22:19:29 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 22:19:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:29 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 22:19:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 22:19:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 22:19:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:29 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:19:29 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:19:32 [INFO] Loaded token usage data for 3 models
2025-05-18 22:19:32 [INFO] Token counters updated: 2557 input, 401 output
2025-05-18 22:19:32 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:19:32 [INFO] [PDF_Parsing] Extracted 1878 chars from page 1
2025-05-18 22:19:32 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 22:19:32 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 22:19:33 [INFO] Token counters updated: 3132 input, 488 output
2025-05-18 22:19:33 [INFO] Token counters updated: 3351 input, 497 output
2025-05-18 22:19:33 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:19:33 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Guide"
2025-05-18 22:19:33 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:19:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:33 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:19:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:33 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:19:33 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:19:35 [INFO] Token counters updated: 4193 input, 621 output
2025-05-18 22:19:35 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:19:35 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, RLX5000, FighterJet, LaserGuided, Infrared...
2025-05-18 22:19:35 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:19:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:35 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 22:19:35 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:19:35 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:19:35 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 22:19:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:35 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:19:35 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:19:35 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:19:35 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:19:35 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:19:35 [INFO] Use pytorch device_name: mps
2025-05-18 22:19:35 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:19:38 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:19:38 [INFO] [Save_To_LanceDB] Processing completed in 3.52 seconds
2025-05-18 22:19:38 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:19:38 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:38 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:19:38 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:19:38 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:19:38 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:19:38 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1880 characters using simplified LLM approach
2025-05-18 22:19:38 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:19:38 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1880 characters
2025-05-18 22:19:46 [INFO] Token counters updated: 4793 input, 1069 output
2025-05-18 22:19:46 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:19:46 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:19:46 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:19:46 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 384/889/617.0
2025-05-18 22:19:46 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 96/222/154.0
2025-05-18 22:19:46 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:19:46 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:19:46 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:19:46 [INFO] Use pytorch device_name: mps
2025-05-18 22:19:46 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:19:50 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:19:50 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:19:50 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:19:50 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:19:50 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:19:50 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:19:50 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:19:50 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:19:50 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:19:50 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:19:50 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.82 seconds
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:19:50 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:19:50 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:50 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:50 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 22:19:50 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 21.00 seconds for fighter_jet_unique_original.pdf
2025-05-18 22:19:50 [INFO] [E2E_Tests] Pipeline completed in 21.00 seconds
2025-05-18 22:19:50 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:19:50 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 22:19:50 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as reordered
2025-05-18 22:19:50 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 22:19:50 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:19:50 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 22:19:50 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:50 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:19:50 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:19:50 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 22:19:50 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 22:19:50 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:50 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 22:19:50 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 22:19:50 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 22:19:50 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:50 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:19:50 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:19:52 [INFO] Token counters updated: 7350 input, 1403 output
2025-05-18 22:19:52 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:19:52 [INFO] [PDF_Parsing] Extracted 1547 chars from page 1
2025-05-18 22:19:52 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 22:19:52 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 22:19:54 [INFO] Token counters updated: 7956 input, 1543 output
2025-05-18 22:19:54 [INFO] Token counters updated: 8214 input, 1551 output
2025-05-18 22:19:54 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications
2025-05-18 22:19:54 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications"
2025-05-18 22:19:54 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:19:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:54 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:19:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:54 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:19:54 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:19:55 [INFO] Token counters updated: 8986 input, 1666 output
2025-05-18 22:19:55 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:19:55 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, rocketlauncher, fightersjets, laser-guided, infrared-guided...
2025-05-18 22:19:55 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:19:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:55 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 22:19:55 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications
2025-05-18 22:19:55 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:19:55 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 22:19:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:19:55 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:19:55 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:19:55 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:19:55 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:19:55 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:19:55 [INFO] Use pytorch device_name: mps
2025-05-18 22:19:55 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:20:00 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:20:00 [INFO] [Save_To_LanceDB] Processing completed in 4.63 seconds
2025-05-18 22:20:00 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:20:00 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:20:00 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:20:00 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:20:00 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:20:00 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:20:00 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1549 characters using simplified LLM approach
2025-05-18 22:20:00 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:20:00 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1549 characters
2025-05-18 22:20:11 [INFO] Token counters updated: 9514 input, 1985 output
2025-05-18 22:20:11 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 8 chunks
2025-05-18 22:20:11 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 8
2025-05-18 22:20:11 [INFO] [Integrated_Chunking] üìä Generated 8 chunks
2025-05-18 22:20:11 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 52/464/176.6
2025-05-18 22:20:11 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 13/116/43.8
2025-05-18 22:20:11 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:20:11 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:20:11 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:20:11 [INFO] Use pytorch device_name: mps
2025-05-18 22:20:11 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:20:17 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üìä Found 3 existing chunks to compare against
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  appears to be new (top similarity: 0.8267 with fighter_jet_unique_original.pdf_chunk_3)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  is similar to fighter_jet_unique_original.pdf_chunk_2  (similarity: 0.9210)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  appears to be new (top similarity: 0.8455 with fighter_jet_unique_original.pdf_chunk_1)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_4  appears to be new (top similarity: 0.8419 with fighter_jet_unique_original.pdf_chunk_1)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_5  appears to be new (top similarity: 0.8551 with fighter_jet_unique_original.pdf_chunk_1)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_6  appears to be new (top similarity: 0.7280 with fighter_jet_unique_original.pdf_chunk_1)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_7  appears to be new (top similarity: 0.8912 with fighter_jet_unique_original.pdf_chunk_3)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_8  appears to be new (top similarity: 0.7983 with fighter_jet_unique_original.pdf_chunk_2)
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 7 new chunks, 0 duplicate chunks, and 1 similar chunks (total: 8 chunks) in 0.03s
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:20:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 8
2025-05-18 22:20:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:20:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 1
2025-05-18 22:20:17 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 7
2025-05-18 22:20:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:20:17 [INFO] [Integrated_Chunking] üìä Deduplication results: 7 new chunks, 0 duplicates, 1 updates
2025-05-18 22:20:17 [INFO] [Integrated_Chunking] üîÑ Adding 8 chunks to LanceDB
2025-05-18 22:20:17 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:20:17 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 11 rows, minimum 256 required
2025-05-18 22:20:17 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 16.60 seconds
2025-05-18 22:20:17 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:20:17 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:20:17 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:20:17 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:20:17 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:20:17 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 22:20:17 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 22:20:17 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 22:20:17 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 26.74 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 22:20:17 [INFO] [E2E_Tests] Pipeline completed in 26.74 seconds
2025-05-18 22:20:17 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:20:17 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=True, got False
2025-05-18 22:20:17 [ERROR] [E2E_Tests] Scenario 5 FAILED ‚ùå
2025-05-18 22:20:17 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_222017.json
2025-05-18 22:20:17 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_222017.txt
2025-05-18 22:20:33 [INFO] [Test_Analyzer] Analysis report written to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/analysis_report_20250518_222033.txt
2025-05-18 22:21:33 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:21:33 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:21:33 [INFO] [E2E_Tests] Starting Scenario 5: Unique Original vs. Unique Reordered
2025-05-18 22:21:33 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:21:33 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:21:33 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:21:33 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:21:33 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 22:21:33 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 22:21:33 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 22:21:33 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:21:33 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 22:21:33 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:21:33 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 22:21:33 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:34 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:34 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:21:34 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:21:34 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:21:34 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 22:21:34 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 22:21:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:34 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 22:21:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 22:21:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 22:21:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:34 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:21:34 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:21:36 [INFO] Loaded token usage data for 3 models
2025-05-18 22:21:36 [INFO] Token counters updated: 2557 input, 365 output
2025-05-18 22:21:36 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:21:36 [INFO] [PDF_Parsing] Extracted 1688 chars from page 1
2025-05-18 22:21:36 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 22:21:36 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 22:21:37 [INFO] Token counters updated: 3157 input, 467 output
2025-05-18 22:21:38 [INFO] Token counters updated: 3378 input, 475 output
2025-05-18 22:21:38 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher Specifications Guide
2025-05-18 22:21:38 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher Specifications Guide"
2025-05-18 22:21:38 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:21:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:38 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:21:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:38 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:21:38 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:21:39 [INFO] Token counters updated: 4183 input, 600 output
2025-05-18 22:21:39 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:21:39 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 22:21:39 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:21:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:39 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 22:21:39 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher Specifications Guide
2025-05-18 22:21:39 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:21:39 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 22:21:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:21:39 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:21:39 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:21:39 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:21:39 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:21:39 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:21:39 [INFO] Use pytorch device_name: mps
2025-05-18 22:21:39 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:21:44 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:21:44 [INFO] [Save_To_LanceDB] Processing completed in 4.64 seconds
2025-05-18 22:21:44 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:21:44 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:21:44 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:21:44 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:21:44 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:21:44 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:21:44 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1690 characters using simplified LLM approach
2025-05-18 22:21:44 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:21:44 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1690 characters
2025-05-18 22:21:51 [INFO] Token counters updated: 4745 input, 1013 output
2025-05-18 22:21:51 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:21:51 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:21:51 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1665 characters
2025-05-18 22:22:01 [INFO] Token counters updated: 5303 input, 1410 output
2025-05-18 22:22:01 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:22:01 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 3 chunks
2025-05-18 22:22:01 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:22:01 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:22:01 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 254/728/550.0
2025-05-18 22:22:01 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/182/137.3
2025-05-18 22:22:01 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:22:01 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:22:01 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:22:01 [INFO] Use pytorch device_name: mps
2025-05-18 22:22:01 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:22:05 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:22:05 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:22:05 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:22:05 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:22:05 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:22:05 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:22:05 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:22:05 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:22:05 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:22:05 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:22:05 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 21.44 seconds
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:22:05 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:22:05 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:05 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:05 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 22:22:05 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 31.77 seconds for fighter_jet_unique_original.pdf
2025-05-18 22:22:05 [INFO] [E2E_Tests] Pipeline completed in 31.77 seconds
2025-05-18 22:22:05 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:22:05 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 22:22:05 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as reordered
2025-05-18 22:22:05 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 22:22:05 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:22:05 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 22:22:05 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:05 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:05 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:22:05 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 22:22:05 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 22:22:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:05 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 22:22:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 22:22:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 22:22:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:05 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:22:05 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:22:08 [INFO] Token counters updated: 7860 input, 1743 output
2025-05-18 22:22:08 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:22:08 [INFO] [PDF_Parsing] Extracted 1541 chars from page 1
2025-05-18 22:22:08 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 22:22:08 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 22:22:10 [INFO] Token counters updated: 8466 input, 1859 output
2025-05-18 22:22:10 [INFO] Token counters updated: 8700 input, 1867 output
2025-05-18 22:22:10 [INFO] [PDF_Parsing] Generated document title from summaries: Rocket Launcher System Specification for Fighter Jets
2025-05-18 22:22:10 [INFO] [PDF_Parsing] Generated title: "Rocket Launcher System Specification for Fighter Jets"
2025-05-18 22:22:10 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:22:10 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:10 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:22:10 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:10 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:22:10 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:22:11 [INFO] Token counters updated: 9471 input, 1984 output
2025-05-18 22:22:11 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:22:11 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: Thermal Shielding, Target Recognition, MultiMode Targeting, Quick Reload, WeatherResistant Design...
2025-05-18 22:22:11 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:22:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:11 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 22:22:11 [INFO] [PDF_Parsing] Document title: Rocket Launcher System Specification for Fighter Jets
2025-05-18 22:22:11 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:22:11 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 22:22:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:22:11 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:22:11 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:22:11 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:22:11 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:22:11 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:22:11 [INFO] Use pytorch device_name: mps
2025-05-18 22:22:11 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:22:16 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:22:16 [INFO] [Save_To_LanceDB] Processing completed in 4.38 seconds
2025-05-18 22:22:16 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:22:16 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:16 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:22:16 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:22:16 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:22:16 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:22:16 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1543 characters using simplified LLM approach
2025-05-18 22:22:16 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:22:16 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1543 characters
2025-05-18 22:22:22 [INFO] Token counters updated: 9998 input, 2276 output
2025-05-18 22:22:22 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:22:22 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:22:22 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:22:22 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 350/495/407.3
2025-05-18 22:22:22 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 87/123/101.3
2025-05-18 22:22:22 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:22:22 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:22:22 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:22:22 [INFO] Use pytorch device_name: mps
2025-05-18 22:22:22 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:22:30 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] üìä Found 3 existing chunks to compare against
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  appears to be new (top similarity: 0.8679 with fighter_jet_unique_original.pdf_chunk_1)
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  appears to be new (top similarity: 0.8090 with fighter_jet_unique_original.pdf_chunk_2)
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  appears to be new (top similarity: 0.8370 with fighter_jet_unique_original.pdf_chunk_1)
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.02s
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:22:30 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:22:30 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:22:30 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:22:30 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:22:30 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:22:30 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:22:30 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:22:30 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:22:30 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 6 rows, minimum 256 required
2025-05-18 22:22:30 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 14.53 seconds
2025-05-18 22:22:30 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:22:30 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:22:30 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:22:30 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:30 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:22:30 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 22:22:30 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 22:22:30 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 22:22:30 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 24.99 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 22:22:30 [INFO] [E2E_Tests] Pipeline completed in 24.99 seconds
2025-05-18 22:22:30 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:22:30 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=True, got False
2025-05-18 22:22:30 [ERROR] [E2E_Tests]     - Expected updated_chunks=True, got False
2025-05-18 22:22:30 [ERROR] [E2E_Tests] Scenario 5 FAILED ‚ùå
2025-05-18 22:22:30 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_222230.json
2025-05-18 22:22:30 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_222230.txt
2025-05-18 22:23:21 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:23:21 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:23:21 [INFO] [E2E_Tests] Starting Scenario 5: Unique Original vs. Unique Reordered
2025-05-18 22:23:21 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:23:21 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:23:21 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:23:21 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:23:21 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 22:23:21 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 22:23:21 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 22:23:21 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:23:21 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 22:23:21 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:23:21 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 22:23:21 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:21 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:21 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:23:21 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:23:21 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:23:21 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 22:23:21 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 22:23:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:21 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 22:23:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 22:23:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 22:23:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:21 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:23:21 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:23:24 [INFO] Loaded token usage data for 3 models
2025-05-18 22:23:24 [INFO] Token counters updated: 2557 input, 396 output
2025-05-18 22:23:24 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:23:24 [INFO] [PDF_Parsing] Extracted 2022 chars from page 1
2025-05-18 22:23:24 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 22:23:24 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 22:23:25 [INFO] Token counters updated: 3094 input, 491 output
2025-05-18 22:23:26 [INFO] Token counters updated: 3321 input, 500 output
2025-05-18 22:23:26 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Integrated Rocket Launcher System Specifications
2025-05-18 22:23:26 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Integrated Rocket Launcher System Specifications"
2025-05-18 22:23:26 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:23:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:26 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:23:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:26 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:23:26 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:23:27 [INFO] Token counters updated: 4156 input, 621 output
2025-05-18 22:23:27 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:23:27 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJet, RLX5000, GuidanceSystem, LaserGuided...
2025-05-18 22:23:27 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:23:27 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:27 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 22:23:27 [INFO] [PDF_Parsing] Document title: Fighter Jet Integrated Rocket Launcher System Specifications
2025-05-18 22:23:27 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:23:27 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 22:23:27 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:27 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:23:27 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:23:27 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:23:27 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:23:27 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:23:27 [INFO] Use pytorch device_name: mps
2025-05-18 22:23:27 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:23:31 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:23:31 [INFO] [Save_To_LanceDB] Processing completed in 3.55 seconds
2025-05-18 22:23:31 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:23:31 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:31 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:23:31 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:23:31 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:23:31 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:23:31 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2024 characters using simplified LLM approach
2025-05-18 22:23:31 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:23:31 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2024 characters
2025-05-18 22:23:39 [INFO] Token counters updated: 4749 input, 1057 output
2025-05-18 22:23:39 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:23:39 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:23:39 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:23:39 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 253/712/398.4
2025-05-18 22:23:39 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/178/99.4
2025-05-18 22:23:39 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:23:39 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:23:39 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:23:39 [INFO] Use pytorch device_name: mps
2025-05-18 22:23:39 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:23:43 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (5 chunks) in 0.01s
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:23:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:23:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:23:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:23:43 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 5
2025-05-18 22:23:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:23:43 [INFO] [Integrated_Chunking] üìä Deduplication results: 5 new chunks, 0 duplicates, 0 updates
2025-05-18 22:23:43 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:23:43 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:23:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 22:23:43 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 12.03 seconds
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:23:43 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:23:43 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:43 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:43 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 22:23:43 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 21.66 seconds for fighter_jet_unique_original.pdf
2025-05-18 22:23:43 [INFO] [E2E_Tests] Pipeline completed in 21.66 seconds
2025-05-18 22:23:43 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:23:43 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 22:23:43 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as reordered
2025-05-18 22:23:43 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 22:23:43 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:23:43 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 22:23:43 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:43 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:43 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:23:43 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 22:23:43 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 22:23:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:43 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 22:23:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 22:23:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 22:23:43 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:43 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:23:43 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:23:45 [INFO] Token counters updated: 7306 input, 1391 output
2025-05-18 22:23:45 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:23:45 [INFO] [PDF_Parsing] Extracted 1546 chars from page 1
2025-05-18 22:23:45 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 22:23:45 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 22:23:47 [INFO] Token counters updated: 7912 input, 1510 output
2025-05-18 22:23:47 [INFO] Token counters updated: 8150 input, 1518 output
2025-05-18 22:23:47 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specification
2025-05-18 22:23:47 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specification"
2025-05-18 22:23:47 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:23:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:47 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:23:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:47 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:23:47 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:23:48 [INFO] Token counters updated: 8922 input, 1636 output
2025-05-18 22:23:48 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:23:48 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, ThermalShielding, TargetRecognition...
2025-05-18 22:23:48 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:23:48 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:48 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 22:23:48 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specification
2025-05-18 22:23:48 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:23:48 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 22:23:48 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:23:48 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:23:48 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:23:48 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:23:48 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:23:48 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:23:48 [INFO] Use pytorch device_name: mps
2025-05-18 22:23:48 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:23:53 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:23:53 [INFO] [Save_To_LanceDB] Processing completed in 4.74 seconds
2025-05-18 22:23:53 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:23:53 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:23:53 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:23:53 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:23:53 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:23:53 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:23:53 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1548 characters using simplified LLM approach
2025-05-18 22:23:53 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:23:53 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1548 characters
2025-05-18 22:24:00 [INFO] Token counters updated: 9450 input, 1924 output
2025-05-18 22:24:00 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:24:00 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:24:00 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:24:00 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 128/463/255.2
2025-05-18 22:24:00 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 32/115/63.4
2025-05-18 22:24:00 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:24:00 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:24:00 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:24:00 [INFO] Use pytorch device_name: mps
2025-05-18 22:24:00 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:24:07 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] üìä Found 5 existing chunks to compare against
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  is similar to fighter_jet_unique_original.pdf_chunk_4  (similarity: 0.9335)
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  is similar to fighter_jet_unique_original.pdf_chunk_3  (similarity: 0.9081)
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  is similar to fighter_jet_unique_original.pdf_chunk_2  (similarity: 0.8661)
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_4  is similar to fighter_jet_unique_original.pdf_chunk_5  (similarity: 0.8813)
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_5  appears to be new (top similarity: 0.7923 with fighter_jet_unique_original.pdf_chunk_4)
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 1 new chunks, 0 duplicate chunks, and 4 similar chunks (total: 5 chunks) in 0.02s
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:24:07 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:24:07 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:24:07 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 4
2025-05-18 22:24:07 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:24:07 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:24:07 [INFO] [Integrated_Chunking] üìä Deduplication results: 1 new chunks, 0 duplicates, 4 updates
2025-05-18 22:24:07 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:24:07 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:24:07 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 10 rows, minimum 256 required
2025-05-18 22:24:07 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 13.74 seconds
2025-05-18 22:24:07 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:24:07 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:24:07 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:24:07 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:24:07 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:24:07 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 22:24:07 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 22:24:07 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 22:24:07 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 23.80 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 22:24:07 [INFO] [E2E_Tests] Pipeline completed in 23.80 seconds
2025-05-18 22:24:07 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:24:07 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=True, got False
2025-05-18 22:24:07 [ERROR] [E2E_Tests] Scenario 5 FAILED ‚ùå
2025-05-18 22:24:07 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_222407.json
2025-05-18 22:24:07 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_222407.txt
2025-05-18 22:24:55 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:24:55 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:24:55 [INFO] [E2E_Tests] Starting Scenario 5: Unique Original vs. Unique Reordered
2025-05-18 22:24:55 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:24:55 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:24:55 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:24:55 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:24:55 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 22:24:55 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 22:24:55 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 22:24:55 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:24:55 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 22:24:55 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:24:55 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 22:24:55 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:24:55 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:24:55 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:24:55 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:24:55 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:24:55 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 22:24:55 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 22:24:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:24:55 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 22:24:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 22:24:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 22:24:55 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:24:55 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:24:55 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:24:58 [INFO] Loaded token usage data for 3 models
2025-05-18 22:24:58 [INFO] Token counters updated: 2557 input, 400 output
2025-05-18 22:24:58 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:24:58 [INFO] [PDF_Parsing] Extracted 1842 chars from page 1
2025-05-18 22:24:58 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 22:24:58 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 22:24:59 [INFO] Token counters updated: 3138 input, 512 output
2025-05-18 22:25:00 [INFO] Token counters updated: 3369 input, 521 output
2025-05-18 22:25:00 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Manual
2025-05-18 22:25:00 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Manual"
2025-05-18 22:25:00 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:25:00 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:00 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:25:00 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:00 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:25:00 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:25:01 [INFO] Token counters updated: 4210 input, 631 output
2025-05-18 22:25:01 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:25:01 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, rocket launcher, fighter jets, laser guidance, infrared guidance...
2025-05-18 22:25:01 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:25:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:01 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 22:25:01 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Manual
2025-05-18 22:25:01 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:25:01 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 22:25:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:01 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:25:01 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:25:01 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:25:01 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:25:01 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:25:01 [INFO] Use pytorch device_name: mps
2025-05-18 22:25:01 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:25:05 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:25:05 [INFO] [Save_To_LanceDB] Processing completed in 3.90 seconds
2025-05-18 22:25:05 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:25:05 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:05 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:25:05 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:25:05 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:25:05 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:25:05 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1844 characters using simplified LLM approach
2025-05-18 22:25:05 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:25:05 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1844 characters
2025-05-18 22:25:13 [INFO] Token counters updated: 4809 input, 1076 output
2025-05-18 22:25:13 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:25:13 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:25:13 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:25:13 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 254/853/605.0
2025-05-18 22:25:13 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/213/151.0
2025-05-18 22:25:13 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:25:13 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:25:13 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:25:13 [INFO] Use pytorch device_name: mps
2025-05-18 22:25:13 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:25:17 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:25:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:25:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:25:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:25:17 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:25:17 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:25:17 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:25:17 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:25:17 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:25:17 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:25:17 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.82 seconds
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:25:17 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:25:17 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:17 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:17 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 22:25:17 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 21.45 seconds for fighter_jet_unique_original.pdf
2025-05-18 22:25:17 [INFO] [E2E_Tests] Pipeline completed in 21.45 seconds
2025-05-18 22:25:17 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:25:17 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 22:25:17 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as reordered
2025-05-18 22:25:17 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 22:25:17 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:25:17 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 22:25:17 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:17 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:17 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:25:17 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 22:25:17 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 22:25:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:17 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 22:25:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 22:25:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 22:25:17 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:17 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:25:17 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:25:19 [INFO] Token counters updated: 7366 input, 1487 output
2025-05-18 22:25:19 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:25:19 [INFO] [PDF_Parsing] Extracted 1912 chars from page 1
2025-05-18 22:25:19 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 22:25:19 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 22:25:21 [INFO] Token counters updated: 7974 input, 1596 output
2025-05-18 22:25:21 [INFO] Token counters updated: 8202 input, 1604 output
2025-05-18 22:25:21 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher Specifications Guide
2025-05-18 22:25:21 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher Specifications Guide"
2025-05-18 22:25:21 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:25:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:21 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:25:21 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:21 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:25:21 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:25:22 [INFO] Token counters updated: 9053 input, 1715 output
2025-05-18 22:25:22 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:25:22 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: Thermal Shielding, Target Recognition, Multi-mode Targeting, Quick Reload, Rocket Launcher...
2025-05-18 22:25:22 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:25:22 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:22 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 22:25:22 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher Specifications Guide
2025-05-18 22:25:22 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:25:22 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 22:25:22 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:25:22 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:25:22 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:25:22 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:25:22 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:25:22 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:25:22 [INFO] Use pytorch device_name: mps
2025-05-18 22:25:22 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:25:27 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:25:27 [INFO] [Save_To_LanceDB] Processing completed in 4.70 seconds
2025-05-18 22:25:27 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:25:27 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:27 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:25:27 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:25:27 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:25:27 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:25:27 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1914 characters using simplified LLM approach
2025-05-18 22:25:27 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:25:27 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1914 characters
2025-05-18 22:25:36 [INFO] Token counters updated: 9663 input, 2164 output
2025-05-18 22:25:36 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:25:36 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:25:36 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:25:36 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 182/689/366.0
2025-05-18 22:25:36 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 45/172/91.2
2025-05-18 22:25:36 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:25:36 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:25:36 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:25:36 [INFO] Use pytorch device_name: mps
2025-05-18 22:25:36 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:25:43 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] üìä Found 3 existing chunks to compare against
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  is similar to fighter_jet_unique_original.pdf_chunk_2  (similarity: 0.9113)
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  is similar to fighter_jet_unique_original.pdf_chunk_1  (similarity: 0.8582)
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  is similar to fighter_jet_unique_original.pdf_chunk_1  (similarity: 0.8522)
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_4  is similar to fighter_jet_unique_original.pdf_chunk_1  (similarity: 0.8817)
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_5  is similar to fighter_jet_unique_original.pdf_chunk_1  (similarity: 0.9056)
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 0 new chunks, 0 duplicate chunks, and 5 similar chunks (total: 5 chunks) in 0.03s
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:25:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:25:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:25:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 5
2025-05-18 22:25:43 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 0
2025-05-18 22:25:43 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:25:43 [INFO] [Integrated_Chunking] üìä Deduplication results: 0 new chunks, 0 duplicates, 5 updates
2025-05-18 22:25:43 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:25:43 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:25:43 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 22:25:43 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 16.45 seconds
2025-05-18 22:25:43 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:25:43 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:25:43 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:25:43 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:43 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:25:43 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 22:25:43 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 22:25:43 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 22:25:43 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 26.88 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 22:25:43 [INFO] [E2E_Tests] Pipeline completed in 26.88 seconds
2025-05-18 22:25:43 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:25:43 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 22:25:43 [ERROR] [E2E_Tests] Scenario 5 FAILED ‚ùå
2025-05-18 22:25:43 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_222543.json
2025-05-18 22:25:43 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_222543.txt
2025-05-18 22:27:01 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:27:01 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:27:01 [INFO] [E2E_Tests] Starting Scenario 5: Unique Original vs. Unique Reordered
2025-05-18 22:27:01 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:27:56 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:27:56 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:27:56 [INFO] [E2E_Tests] Running scenario: 5
2025-05-18 22:27:56 [INFO] [E2E_Tests] Starting Scenario 5: Unique Original vs. Unique Reordered
2025-05-18 22:27:56 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:27:56 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:27:56 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:27:56 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:27:56 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:27:56 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:27:56 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 22:27:56 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 22:27:56 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 22:27:56 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:27:56 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 22:27:56 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:27:56 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 22:27:56 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:27:56 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:27:56 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:27:56 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:27:56 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:27:56 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 22:27:56 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 22:27:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:27:56 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 22:27:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 22:27:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 22:27:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:27:56 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:27:56 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:27:59 [INFO] Loaded token usage data for 3 models
2025-05-18 22:27:59 [INFO] Token counters updated: 2557 input, 425 output
2025-05-18 22:27:59 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:27:59 [INFO] [PDF_Parsing] Extracted 1979 chars from page 1
2025-05-18 22:27:59 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 22:27:59 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 22:28:00 [INFO] Token counters updated: 3138 input, 531 output
2025-05-18 22:28:01 [INFO] Token counters updated: 3363 input, 540 output
2025-05-18 22:28:01 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:28:01 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 22:28:01 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:28:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:01 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:28:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:01 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:28:01 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:28:02 [INFO] Token counters updated: 4228 input, 652 output
2025-05-18 22:28:02 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:28:02 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, Rocket Launcher, Fighter Jet, Laser Guidance, Infrared Guidance...
2025-05-18 22:28:02 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:28:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:02 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 22:28:02 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:28:02 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:28:02 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 22:28:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:02 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:28:02 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:28:02 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:28:02 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:28:02 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:28:02 [INFO] Use pytorch device_name: mps
2025-05-18 22:28:02 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:28:06 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:28:06 [INFO] [Save_To_LanceDB] Processing completed in 4.44 seconds
2025-05-18 22:28:06 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:28:06 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:06 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:28:06 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:28:06 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:28:06 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:28:06 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1981 characters using simplified LLM approach
2025-05-18 22:28:06 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:28:06 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1981 characters
2025-05-18 22:28:14 [INFO] Token counters updated: 4851 input, 1123 output
2025-05-18 22:28:14 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:28:14 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:28:14 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 917 characters
2025-05-18 22:28:18 [INFO] Token counters updated: 5240 input, 1346 output
2025-05-18 22:28:18 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:28:18 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:28:18 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 917 characters
2025-05-18 22:28:24 [INFO] Token counters updated: 5629 input, 1569 output
2025-05-18 22:28:24 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:28:24 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:28:24 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 917 characters
2025-05-18 22:28:28 [INFO] Token counters updated: 6018 input, 1786 output
2025-05-18 22:28:28 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:28:28 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:28:28 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 917 characters
2025-05-18 22:28:33 [INFO] Token counters updated: 6407 input, 2009 output
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 2 chunks
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 2 chunks
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 2 chunks
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 4 chunks
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 22:28:33 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 254/781/487.5
2025-05-18 22:28:33 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/195/121.5
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:28:33 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:28:33 [INFO] Use pytorch device_name: mps
2025-05-18 22:28:33 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:28:36 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (4 chunks) in 0.01s
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:28:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 22:28:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:28:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:28:36 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 4
2025-05-18 22:28:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:28:36 [INFO] [Integrated_Chunking] üìä Deduplication results: 4 new chunks, 0 duplicates, 0 updates
2025-05-18 22:28:36 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 22:28:36 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:28:36 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:28:36 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 29.96 seconds
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:28:36 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:28:36 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:36 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:36 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 22:28:36 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 40.15 seconds for fighter_jet_unique_original.pdf
2025-05-18 22:28:36 [INFO] [E2E_Tests] Pipeline completed in 40.15 seconds
2025-05-18 22:28:36 [INFO] [E2E_Tests] Pipeline completed in 40.16 seconds
2025-05-18 22:28:36 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:28:36 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 22:28:36 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as reordered
2025-05-18 22:28:36 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 22:28:36 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:28:36 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 22:28:36 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:36 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:36 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:28:36 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 22:28:36 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 22:28:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:36 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 22:28:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 22:28:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 22:28:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:36 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:28:36 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:28:39 [INFO] Token counters updated: 8964 input, 2343 output
2025-05-18 22:28:39 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:28:39 [INFO] [PDF_Parsing] Extracted 1546 chars from page 1
2025-05-18 22:28:39 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 22:28:39 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 22:28:40 [INFO] Token counters updated: 9570 input, 2463 output
2025-05-18 22:28:41 [INFO] Token counters updated: 9806 input, 2472 output
2025-05-18 22:28:41 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:28:41 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 22:28:41 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:28:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:41 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:28:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:41 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:28:41 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:28:42 [INFO] Token counters updated: 10579 input, 2586 output
2025-05-18 22:28:42 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:28:42 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: ThermalShielding, LaserGuided, GPSGuidance, RocketLauncher, FighterJet...
2025-05-18 22:28:42 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:28:42 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:42 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 22:28:42 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:28:42 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:28:42 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 22:28:42 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:28:42 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:28:42 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:28:42 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:28:42 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:28:42 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:28:42 [INFO] Use pytorch device_name: mps
2025-05-18 22:28:42 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:28:47 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:28:47 [INFO] [Save_To_LanceDB] Processing completed in 4.64 seconds
2025-05-18 22:28:47 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:28:47 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:47 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:28:47 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:28:47 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:28:47 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:28:47 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1548 characters using simplified LLM approach
2025-05-18 22:28:47 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:28:47 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1548 characters
2025-05-18 22:28:52 [INFO] Token counters updated: 11107 input, 2865 output
2025-05-18 22:28:52 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:28:52 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:28:52 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:28:52 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 302/526/408.0
2025-05-18 22:28:52 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 75/131/101.7
2025-05-18 22:28:52 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:28:52 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:28:52 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:28:52 [INFO] Use pytorch device_name: mps
2025-05-18 22:28:52 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:28:56 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] üìä Found 4 existing chunks to compare against
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  is similar to fighter_jet_unique_original.pdf_chunk_4  (similarity: 0.8463)
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  is similar to fighter_jet_unique_original.pdf_chunk_3  (similarity: 0.8985)
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  appears to be new (top similarity: 0.7787 with fighter_jet_unique_original.pdf_chunk_3)
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 1 new chunks, 0 duplicate chunks, and 2 similar chunks (total: 3 chunks) in 0.01s
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:28:56 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:28:56 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:28:56 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 2
2025-05-18 22:28:56 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:28:56 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:28:56 [INFO] [Integrated_Chunking] üìä Deduplication results: 1 new chunks, 0 duplicates, 2 updates
2025-05-18 22:28:56 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:28:56 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:28:56 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 7 rows, minimum 256 required
2025-05-18 22:28:56 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 9.51 seconds
2025-05-18 22:28:56 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:28:56 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:28:56 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:28:56 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:56 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:28:56 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 22:28:56 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 22:28:56 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 22:28:56 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 20.03 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 22:28:56 [INFO] [E2E_Tests] Pipeline completed in 20.03 seconds
2025-05-18 22:28:56 [INFO] [E2E_Tests] Pipeline completed in 20.03 seconds
2025-05-18 22:28:56 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 22:28:56 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_222856.json
2025-05-18 22:28:56 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_222856.txt
2025-05-18 22:28:56 [INFO] [E2E_Tests] Scenario 5 PASSED ‚úÖ
2025-05-18 22:29:08 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:29:08 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:29:08 [INFO] [E2E_Tests] Running scenario: 2
2025-05-18 22:29:08 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 22:29:08 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:29:08 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:29:08 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:29:08 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:29:08 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:29:08 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:29:08 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:08 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:29:08 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:29:08 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:29:08 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:08 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:08 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:29:08 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:08 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:08 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:29:08 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:08 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:29:08 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:29:08 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:08 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:29:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:08 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:29:08 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:29:11 [INFO] Loaded token usage data for 3 models
2025-05-18 22:29:11 [INFO] Token counters updated: 2557 input, 369 output
2025-05-18 22:29:11 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:29:11 [INFO] [PDF_Parsing] Extracted 1723 chars from page 1
2025-05-18 22:29:11 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:29:11 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:29:12 [INFO] Token counters updated: 3149 input, 485 output
2025-05-18 22:29:13 [INFO] Token counters updated: 3383 input, 494 output
2025-05-18 22:29:13 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Advanced Rocket Launcher System Specifications
2025-05-18 22:29:13 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Advanced Rocket Launcher System Specifications"
2025-05-18 22:29:13 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:29:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:13 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:29:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:13 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:29:13 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:29:14 [INFO] Token counters updated: 4193 input, 612 output
2025-05-18 22:29:14 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:29:14 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, LaserGuided, InfraredGuidance...
2025-05-18 22:29:14 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:29:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:14 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:14 [INFO] [PDF_Parsing] Document title: Fighter Jet Advanced Rocket Launcher System Specifications
2025-05-18 22:29:14 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:29:14 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:29:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:14 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:29:14 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:29:14 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:29:14 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:29:14 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:29:14 [INFO] Use pytorch device_name: mps
2025-05-18 22:29:14 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:29:18 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:29:18 [INFO] [Save_To_LanceDB] Processing completed in 4.03 seconds
2025-05-18 22:29:18 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:29:18 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:18 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:29:18 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:29:18 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:29:18 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:18 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1725 characters using simplified LLM approach
2025-05-18 22:29:18 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:29:18 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1725 characters
2025-05-18 22:29:24 [INFO] Token counters updated: 4759 input, 961 output
2025-05-18 22:29:24 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 6 chunks
2025-05-18 22:29:24 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 6
2025-05-18 22:29:24 [INFO] [Integrated_Chunking] üìä Generated 6 chunks
2025-05-18 22:29:24 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 41/347/259.8
2025-05-18 22:29:24 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 10/86/64.7
2025-05-18 22:29:24 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:29:24 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:29:24 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:29:24 [INFO] Use pytorch device_name: mps
2025-05-18 22:29:24 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:29:28 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (6 chunks) in 0.02s
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:29:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 6
2025-05-18 22:29:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:29:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:29:28 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 6
2025-05-18 22:29:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:29:28 [INFO] [Integrated_Chunking] üìä Deduplication results: 6 new chunks, 0 duplicates, 0 updates
2025-05-18 22:29:28 [INFO] [Integrated_Chunking] üîÑ Adding 6 chunks to LanceDB
2025-05-18 22:29:28 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:29:28 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 6 rows, minimum 256 required
2025-05-18 22:29:28 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 9.81 seconds
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:29:28 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:28 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:28 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:28 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:29:28 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 19.88 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:28 [INFO] [E2E_Tests] Pipeline completed in 19.88 seconds
2025-05-18 22:29:28 [INFO] [E2E_Tests] Pipeline completed in 19.88 seconds
2025-05-18 22:29:28 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:29:28 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:28 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 22:29:28 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:28 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:28 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:29:28 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:28 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:28 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:28 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:29:28 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:28 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:29:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:28 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:29:28 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:29:31 [INFO] Token counters updated: 7316 input, 1297 output
2025-05-18 22:29:31 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:29:31 [INFO] [PDF_Parsing] Extracted 1625 chars from page 1
2025-05-18 22:29:31 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:29:31 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:29:32 [INFO] Token counters updated: 7868 input, 1419 output
2025-05-18 22:29:32 [INFO] Token counters updated: 8109 input, 1427 output
2025-05-18 22:29:32 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:29:32 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:29:32 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:29:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:32 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:29:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:32 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:29:32 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:29:33 [INFO] Token counters updated: 8883 input, 1546 output
2025-05-18 22:29:33 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:29:33 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, Hydra 70, APKWS, CRV7, Zuni...
2025-05-18 22:29:33 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:29:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:33 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:33 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:29:33 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:29:33 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:29:33 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:29:33 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:29:33 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:29:33 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:29:33 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:29:33 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:29:33 [INFO] Use pytorch device_name: mps
2025-05-18 22:29:33 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:29:38 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:29:38 [INFO] [Save_To_LanceDB] Processing completed in 4.70 seconds
2025-05-18 22:29:38 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:29:38 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:29:38 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:38 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:29:38 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 22:29:38 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:38 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:38 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:38 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:29:38 [INFO] [Context_Chunking] Retrieved 6 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:29:38 [INFO] [Context_Chunking] Performing context-aware chunking with 6 reference chunks
2025-05-18 22:29:38 [INFO] [Context_Chunking] Performing context-aware chunking with 6 reference chunks
2025-05-18 22:29:46 [INFO] Token counters updated: 9966 input, 1917 output
2025-05-18 22:29:46 [INFO] [Context_Chunking] Context-aware chunking produced 6 chunks
2025-05-18 22:29:46 [INFO] [Context_Chunking] Created 6 initial chunks
2025-05-18 22:29:47 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:29:48 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 1.0000 (DUPLICATE)
2025-05-18 22:29:48 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Similarity: 1.0000
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:48 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:29:48 [INFO] [Context_Chunking] Skipping duplicate chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001, referencing fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 instead
2025-05-18 22:29:48 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9088 (SIMILAR)
2025-05-18 22:29:48 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Similarity: 0.9088
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:48 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:29:48 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1889)
2025-05-18 22:29:48 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8812 (SIMILAR)
2025-05-18 22:29:48 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Similarity: 0.8812
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:48 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:48 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:29:48 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0562)
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8447 (SIMILAR)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.8447
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1103)
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8828 (SIMILAR)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.8828
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0441)
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8127 (DIFFERENT)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.8127
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7445 (DIFFERENT)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.7445
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2: evaluating
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7353 (DIFFERENT)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.7353
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3: evaluating
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7326 (DIFFERENT)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_4
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.7326
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_4: evaluating
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7457 (DIFFERENT)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_5
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.7457
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_5: evaluating
2025-05-18 22:29:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7702 (DIFFERENT)
2025-05-18 22:29:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_6
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Similarity: 0.7702
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:29:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_6: evaluating
2025-05-18 22:29:49 [INFO] [Context_Chunking] üìä CHUNK DEDUPLICATION SUMMARY FOR fighter_jet_rocket_launcher_spec_2_changed_values.pdf (update of fighter_jet_rocket_launcher_spec_2.pdf):
2025-05-18 22:29:49 [INFO] [Context_Chunking]   ‚Ä¢ Total chunks processed: 6
2025-05-18 22:29:49 [INFO] [Context_Chunking]   ‚Ä¢ Exact duplicates found: 1
2025-05-18 22:29:49 [INFO] [Context_Chunking]   ‚Ä¢ Similar chunks found: 4
2025-05-18 22:29:49 [INFO] [Context_Chunking]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:29:49 [INFO] [Context_Chunking]   ‚Ä¢ Duplicate/similar chunk rate: 83.3%
2025-05-18 22:29:49 [INFO] [Context_Chunking]   ‚Ä¢ Document is a major update of fighter_jet_rocket_launcher_spec_2.pdf with new content
2025-05-18 22:29:50 [INFO] [Context_Chunking] Processed 5 chunks in 11.49s (1 duplicates, 4 updated, 1 new)
2025-05-18 22:29:50 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:50 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:29:50 [INFO] [Context_Chunking] Opened existing table: document_chunks
2025-05-18 22:29:50 [INFO] [Context_Chunking] Adding missing columns: {'is_replaced', 'replaced_by', 'is_duplicate_marker'}
2025-05-18 22:29:50 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 to mark as replaced
2025-05-18 22:29:50 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 to mark as replaced
2025-05-18 22:29:50 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 to mark as replaced
2025-05-18 22:29:50 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 to mark as replaced
2025-05-18 22:29:50 [INFO] [Context_Chunking] Updated schema with 3 new columns, added 5 new chunks
2025-05-18 22:29:50 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 11 rows, minimum 256 required
2025-05-18 22:29:50 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:29:50 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:29:50 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:29:50 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:29:50 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:50 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:50 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:29:50 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 22:29:50 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 22:29:50 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:50 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.41 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:29:50 [INFO] [E2E_Tests] Pipeline completed in 22.42 seconds
2025-05-18 22:29:50 [INFO] [E2E_Tests] Pipeline completed in 22.42 seconds
2025-05-18 22:29:50 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:29:50 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-18 22:29:50 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_222950.json
2025-05-18 22:29:50 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_222950.txt
2025-05-18 22:29:50 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 22:31:08 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:31:08 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:31:08 [INFO] [E2E_Tests] Running scenario: 3
2025-05-18 22:31:08 [INFO] [E2E_Tests] Starting Scenario 3: Extra Middle Content
2025-05-18 22:31:08 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:31:08 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:31:08 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:31:08 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:31:08 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:31:08 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:31:08 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:08 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:31:08 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:31:08 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:31:08 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:08 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:08 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:31:08 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:08 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:08 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:31:08 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:08 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:31:08 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:31:08 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:08 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:31:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:08 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:08 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:31:08 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:31:12 [INFO] Loaded token usage data for 3 models
2025-05-18 22:31:12 [INFO] Token counters updated: 2557 input, 368 output
2025-05-18 22:31:12 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:31:12 [INFO] [PDF_Parsing] Extracted 1684 chars from page 1
2025-05-18 22:31:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:31:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:31:13 [INFO] Token counters updated: 3161 input, 482 output
2025-05-18 22:31:13 [INFO] Token counters updated: 3393 input, 490 output
2025-05-18 22:31:13 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:31:13 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:31:13 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:31:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:13 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:31:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:13 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:31:13 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:31:14 [INFO] Token counters updated: 4201 input, 602 output
2025-05-18 22:31:14 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:31:14 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, LaserGuided, InfraredGuided...
2025-05-18 22:31:14 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:31:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:14 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:14 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:31:14 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:31:14 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:31:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:31:14 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:31:14 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:31:14 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:31:14 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:31:14 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:31:14 [INFO] Use pytorch device_name: mps
2025-05-18 22:31:14 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:31:18 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:31:18 [INFO] [Save_To_LanceDB] Processing completed in 3.54 seconds
2025-05-18 22:31:18 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:31:18 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:18 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:31:18 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:31:18 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:31:18 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:18 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1686 characters using simplified LLM approach
2025-05-18 22:31:18 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:31:18 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1686 characters
2025-05-18 22:31:27 [INFO] Token counters updated: 4766 input, 1027 output
2025-05-18 22:31:27 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 22:31:27 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:31:27 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1104 characters
2025-05-18 22:31:33 [INFO] Token counters updated: 5232 input, 1343 output
2025-05-18 22:31:33 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 22:31:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 3 chunks
2025-05-18 22:31:33 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:31:33 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:31:33 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 363/739/560.0
2025-05-18 22:31:33 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 90/184/139.3
2025-05-18 22:31:33 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:31:33 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:31:33 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:31:33 [INFO] Use pytorch device_name: mps
2025-05-18 22:31:33 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:31:38 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:31:38 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:31:38 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:31:38 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:31:38 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:31:38 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:31:38 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:31:38 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:31:38 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:31:38 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:31:38 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 19.54 seconds
2025-05-18 22:31:38 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:31:38 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:31:38 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:38 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:38 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:31:38 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:31:38 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:31:38 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:38 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 29.49 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:31:38 [INFO] [E2E_Tests] Pipeline completed in 29.49 seconds
2025-05-18 22:31:38 [INFO] [E2E_Tests] Pipeline completed in 29.49 seconds
2025-05-18 22:31:38 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:31:38 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_extra_middle.pdf
2025-05-18 22:31:38 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as new
2025-05-18 22:31:38 [ERROR] [E2E_Tests] File not found: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_middle.pdf
2025-05-18 22:31:38 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 22:31:38 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:31:38 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 22:31:38 [ERROR] [E2E_Tests]     - Expected updated_chunks=True, got False
2025-05-18 22:31:38 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_223138.json
2025-05-18 22:31:38 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_223138.txt
2025-05-18 22:31:38 [ERROR] [E2E_Tests] Scenario 3 FAILED ‚ùå
2025-05-18 22:33:35 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:33:35 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:33:35 [INFO] [E2E_Tests] Running scenario: 1
2025-05-18 22:33:35 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 22:33:35 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:33:35 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:33:35 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:33:35 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:33:35 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:33:35 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:33:35 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:35 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 22:33:35 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:33:35 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:33:35 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:35 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:35 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:33:35 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:35 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:35 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:33:35 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:35 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:33:35 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 22:33:35 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:35 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 22:33:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:35 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 22:33:35 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 22:33:38 [INFO] Loaded token usage data for 3 models
2025-05-18 22:33:38 [INFO] Token counters updated: 2557 input, 355 output
2025-05-18 22:33:38 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:33:38 [INFO] [PDF_Parsing] Extracted 1583 chars from page 1
2025-05-18 22:33:38 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 22:33:41 [INFO] Token counters updated: 5114 input, 833 output
2025-05-18 22:33:41 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 22:33:41 [INFO] [PDF_Parsing] Extracted 2422 chars from page 2
2025-05-18 22:33:41 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 22:33:41 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:33:42 [INFO] Token counters updated: 5687 input, 930 output
2025-05-18 22:33:43 [INFO] Token counters updated: 6243 input, 1055 output
2025-05-18 22:33:44 [INFO] Token counters updated: 6560 input, 1064 output
2025-05-18 22:33:44 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:33:44 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 22:33:44 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:33:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:44 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:33:44 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:44 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:33:44 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 22:33:45 [INFO] Token counters updated: 7356 input, 1184 output
2025-05-18 22:33:45 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:33:45 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, Hydra70, APKWS, CRV7, Zuni...
2025-05-18 22:33:45 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 22:33:45 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 22:33:46 [INFO] Token counters updated: 8271 input, 1314 output
2025-05-18 22:33:46 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 22:33:46 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: RocketLauncher, F16CBlock52, CCIP, AerialWarfare, PrattWhitney...
2025-05-18 22:33:46 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:33:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:46 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:46 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:33:46 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 22:33:46 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:33:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:33:46 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:33:46 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:33:46 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:33:46 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:33:46 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:33:46 [INFO] Use pytorch device_name: mps
2025-05-18 22:33:46 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:33:50 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:33:50 [INFO] [Save_To_LanceDB] Processing completed in 3.62 seconds
2025-05-18 22:33:50 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:33:50 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:33:50 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:33:50 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 22:33:50 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:33:50 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:33:50 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 4009 characters using simplified LLM approach
2025-05-18 22:33:50 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:33:50 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 4009 characters
2025-05-18 22:34:04 [INFO] Token counters updated: 9311 input, 2061 output
2025-05-18 22:34:04 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 6 chunks
2025-05-18 22:34:04 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 6
2025-05-18 22:34:04 [INFO] [Integrated_Chunking] üìä Generated 6 chunks
2025-05-18 22:34:04 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 286/737/570.7
2025-05-18 22:34:04 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 71/184/142.2
2025-05-18 22:34:04 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:34:04 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:34:04 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:34:04 [INFO] Use pytorch device_name: mps
2025-05-18 22:34:04 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:34:08 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (6 chunks) in 0.02s
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:34:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 6
2025-05-18 22:34:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:34:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:34:08 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 6
2025-05-18 22:34:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:34:08 [INFO] [Integrated_Chunking] üìä Deduplication results: 6 new chunks, 0 duplicates, 0 updates
2025-05-18 22:34:08 [INFO] [Integrated_Chunking] üîÑ Adding 6 chunks to LanceDB
2025-05-18 22:34:08 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:34:08 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 6 rows, minimum 256 required
2025-05-18 22:34:08 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 18.64 seconds
2025-05-18 22:34:08 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:34:08 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:34:08 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:08 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:08 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 22:34:08 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 22:34:08 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 33.28 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [E2E_Tests] Pipeline completed in 33.28 seconds
2025-05-18 22:34:08 [INFO] [E2E_Tests] Pipeline completed in 33.28 seconds
2025-05-18 22:34:08 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:34:08 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 22:34:08 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:34:08 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:34:08 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:34:08 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:08 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:08 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:34:08 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 22:34:08 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 22:34:08 [INFO] [E2E_Tests] Pipeline completed in 0.01 seconds
2025-05-18 22:34:08 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 22:34:08 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_223408.json
2025-05-18 22:34:08 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_223408.txt
2025-05-18 22:34:08 [INFO] [E2E_Tests] Scenario 1 PASSED ‚úÖ
2025-05-18 22:34:13 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:34:13 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:34:13 [INFO] [E2E_Tests] Running scenario: 2
2025-05-18 22:34:13 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 22:34:13 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:34:13 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:34:13 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:34:13 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:34:13 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:34:13 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:34:13 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:13 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:34:13 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:34:13 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:34:13 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:13 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:13 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:34:13 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:13 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:13 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:34:13 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:13 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:34:13 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:34:13 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:13 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:34:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:13 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:34:13 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:34:16 [INFO] Loaded token usage data for 3 models
2025-05-18 22:34:16 [INFO] Token counters updated: 2557 input, 397 output
2025-05-18 22:34:16 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:34:16 [INFO] [PDF_Parsing] Extracted 1854 chars from page 1
2025-05-18 22:34:16 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:34:16 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:34:17 [INFO] Token counters updated: 3132 input, 502 output
2025-05-18 22:34:18 [INFO] Token counters updated: 3356 input, 510 output
2025-05-18 22:34:18 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:34:18 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:34:18 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:34:18 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:18 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:34:18 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:18 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:34:18 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:34:19 [INFO] Token counters updated: 4194 input, 640 output
2025-05-18 22:34:19 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:34:19 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, rocket launcher, fighter jets, technical specifications, performance metrics...
2025-05-18 22:34:19 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:34:19 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:19 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:19 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:34:19 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:34:19 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:34:19 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:19 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:34:19 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:34:19 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:34:19 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:34:19 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:34:19 [INFO] Use pytorch device_name: mps
2025-05-18 22:34:19 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:34:22 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:34:22 [INFO] [Save_To_LanceDB] Processing completed in 3.18 seconds
2025-05-18 22:34:22 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:34:22 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:22 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:34:22 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:34:22 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:34:22 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:22 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1856 characters using simplified LLM approach
2025-05-18 22:34:22 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:34:22 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1856 characters
2025-05-18 22:34:30 [INFO] Token counters updated: 4791 input, 1088 output
2025-05-18 22:34:30 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:34:30 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:34:30 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:34:30 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 381/892/616.7
2025-05-18 22:34:30 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 95/223/154.0
2025-05-18 22:34:30 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:34:30 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:34:30 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:34:30 [INFO] Use pytorch device_name: mps
2025-05-18 22:34:30 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:34:35 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:34:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:34:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:34:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:34:35 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:34:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:34:35 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:34:35 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:34:35 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:34:35 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:34:35 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 12.10 seconds
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:34:35 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:35 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:35 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:35 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:34:35 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 21.25 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:35 [INFO] [E2E_Tests] Pipeline completed in 21.25 seconds
2025-05-18 22:34:35 [INFO] [E2E_Tests] Pipeline completed in 21.25 seconds
2025-05-18 22:34:35 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:34:35 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:35 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 22:34:35 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:35 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:35 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:34:35 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:35 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:35 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:35 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:34:35 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:35 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:34:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:35 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:34:35 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:34:38 [INFO] Token counters updated: 7348 input, 1446 output
2025-05-18 22:34:38 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:34:38 [INFO] [PDF_Parsing] Extracted 1648 chars from page 1
2025-05-18 22:34:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:34:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:34:39 [INFO] Token counters updated: 7919 input, 1537 output
2025-05-18 22:34:39 [INFO] Token counters updated: 8142 input, 1545 output
2025-05-18 22:34:39 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:34:39 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications"
2025-05-18 22:34:39 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:34:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:39 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:34:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:39 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:34:39 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:34:40 [INFO] Token counters updated: 8939 input, 1650 output
2025-05-18 22:34:40 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:34:40 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, Hydra70, APKWS, CRV7, Zuni...
2025-05-18 22:34:40 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:34:40 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:40 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:40 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications
2025-05-18 22:34:40 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:34:40 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:34:40 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:34:40 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:34:40 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:34:40 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:34:40 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:34:40 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:34:40 [INFO] Use pytorch device_name: mps
2025-05-18 22:34:40 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:34:46 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:34:46 [INFO] [Save_To_LanceDB] Processing completed in 5.22 seconds
2025-05-18 22:34:46 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:34:46 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:34:46 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:46 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:34:46 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 22:34:46 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:46 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:46 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:46 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:34:46 [INFO] [Context_Chunking] Retrieved 3 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:46 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:34:46 [INFO] [Context_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 22:34:54 [INFO] Token counters updated: 10101 input, 2054 output
2025-05-18 22:34:54 [INFO] [Context_Chunking] Context-aware chunking produced 3 chunks
2025-05-18 22:34:54 [INFO] [Context_Chunking] Created 3 initial chunks
2025-05-18 22:34:55 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:34:55 [WARNING] [Context_Chunking] Could not find exact position for chunk 1, using approximate position
2025-05-18 22:34:55 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9968 (DUPLICATE)
2025-05-18 22:34:55 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Similarity: 0.9968
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:34:55 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:34:55 [INFO] [Context_Chunking] Skipping duplicate chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001, referencing fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 instead
2025-05-18 22:34:55 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8809 (SIMILAR)
2025-05-18 22:34:55 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Similarity: 0.8809
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:34:55 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:34:55 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0553)
2025-05-18 22:34:55 [WARNING] [Context_Chunking] Could not find exact position for chunk 3, using approximate position
2025-05-18 22:34:55 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8798 (SIMILAR)
2025-05-18 22:34:55 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Similarity: 0.8798
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:34:55 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:34:55 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:34:55 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0229)
2025-05-18 22:34:55 [INFO] [Context_Chunking] üìä CHUNK DEDUPLICATION SUMMARY FOR fighter_jet_rocket_launcher_spec_2_changed_values.pdf (update of fighter_jet_rocket_launcher_spec_2.pdf):
2025-05-18 22:34:55 [INFO] [Context_Chunking]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:34:55 [INFO] [Context_Chunking]   ‚Ä¢ Exact duplicates found: 1
2025-05-18 22:34:55 [INFO] [Context_Chunking]   ‚Ä¢ Similar chunks found: 2
2025-05-18 22:34:55 [INFO] [Context_Chunking]   ‚Ä¢ New unique chunks: 0
2025-05-18 22:34:55 [INFO] [Context_Chunking]   ‚Ä¢ Duplicate/similar chunk rate: 100.0%
2025-05-18 22:34:55 [INFO] [Context_Chunking]   ‚Ä¢ Document is a minor update of fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:34:56 [INFO] [Context_Chunking] Processed 2 chunks in 10.39s (1 duplicates, 2 updated, 0 new)
2025-05-18 22:34:56 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:56 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:34:56 [INFO] [Context_Chunking] Opened existing table: document_chunks
2025-05-18 22:34:56 [INFO] [Context_Chunking] Adding missing columns: {'replaced_by', 'is_duplicate_marker', 'is_replaced'}
2025-05-18 22:34:56 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 to mark as replaced
2025-05-18 22:34:56 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 to mark as replaced
2025-05-18 22:34:56 [INFO] [Context_Chunking] Updated schema with 3 new columns, added 2 new chunks
2025-05-18 22:34:56 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 22:34:56 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:34:56 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:34:56 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:34:56 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:34:56 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:56 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:56 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:34:56 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 22:34:56 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 22:34:56 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:56 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 21.91 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:34:56 [INFO] [E2E_Tests] Pipeline completed in 21.91 seconds
2025-05-18 22:34:56 [INFO] [E2E_Tests] Pipeline completed in 21.91 seconds
2025-05-18 22:34:56 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:34:56 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-18 22:34:56 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_223456.json
2025-05-18 22:34:56 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_223456.txt
2025-05-18 22:34:56 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 22:35:01 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:35:01 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:35:01 [INFO] [E2E_Tests] Running scenario: 3
2025-05-18 22:35:01 [INFO] [E2E_Tests] Starting Scenario 3: Extra End Content
2025-05-18 22:35:01 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:35:01 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:35:01 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:35:01 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:35:01 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:35:01 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:35:01 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:01 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:35:01 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:35:01 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:35:01 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:01 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:01 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:35:01 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:01 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:01 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:35:01 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:01 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:35:01 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:35:01 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:01 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:35:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:01 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:01 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:35:01 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:35:04 [INFO] Loaded token usage data for 3 models
2025-05-18 22:35:04 [INFO] Token counters updated: 2557 input, 399 output
2025-05-18 22:35:04 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:35:04 [INFO] [PDF_Parsing] Extracted 1950 chars from page 1
2025-05-18 22:35:04 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:35:04 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:35:05 [INFO] Token counters updated: 3116 input, 506 output
2025-05-18 22:35:06 [INFO] Token counters updated: 3342 input, 515 output
2025-05-18 22:35:06 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:35:06 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 22:35:06 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:35:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:06 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:35:06 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:06 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:35:06 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:35:07 [INFO] Token counters updated: 4183 input, 626 output
2025-05-18 22:35:07 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:35:07 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 22:35:07 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:35:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:07 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:07 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:35:07 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:35:07 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:35:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:07 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:35:07 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:35:07 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:35:07 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:35:07 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:35:07 [INFO] Use pytorch device_name: mps
2025-05-18 22:35:07 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:35:11 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:35:11 [INFO] [Save_To_LanceDB] Processing completed in 3.98 seconds
2025-05-18 22:35:11 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:35:11 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:11 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:35:11 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:35:11 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:35:11 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:11 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1952 characters using simplified LLM approach
2025-05-18 22:35:11 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:35:11 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1952 characters
2025-05-18 22:35:20 [INFO] Token counters updated: 4782 input, 1076 output
2025-05-18 22:35:20 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:35:20 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:35:20 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 989 characters
2025-05-18 22:35:24 [INFO] Token counters updated: 5164 input, 1291 output
2025-05-18 22:35:24 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:35:24 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:35:24 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 989 characters
2025-05-18 22:35:30 [INFO] Token counters updated: 5546 input, 1506 output
2025-05-18 22:35:30 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:35:30 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:35:30 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 989 characters
2025-05-18 22:35:34 [INFO] Token counters updated: 5928 input, 1721 output
2025-05-18 22:35:34 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:35:34 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:35:34 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 989 characters
2025-05-18 22:35:37 [INFO] Token counters updated: 6310 input, 1929 output
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 15 chunks
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 15 chunks
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 15 chunks
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 15 chunks
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 17 chunks
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 17
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] üìä Generated 17 chunks
2025-05-18 22:35:37 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 28/577/113.4
2025-05-18 22:35:37 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 7/144/27.9
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:35:37 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:35:37 [INFO] Use pytorch device_name: mps
2025-05-18 22:35:37 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:35:41 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_7 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_8 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_9 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_10 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_11 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_12 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_13 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_14 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_15 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_16 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_17 has no similar chunks. Marking as new.
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (17 chunks) in 0.03s
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:35:41 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 17
2025-05-18 22:35:41 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:35:41 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:35:41 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 17
2025-05-18 22:35:41 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:35:41 [INFO] [Integrated_Chunking] üìä Deduplication results: 17 new chunks, 0 duplicates, 0 updates
2025-05-18 22:35:41 [INFO] [Integrated_Chunking] üîÑ Adding 17 chunks to LanceDB
2025-05-18 22:35:41 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:35:41 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 17 rows, minimum 256 required
2025-05-18 22:35:41 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 30.57 seconds
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:35:41 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:41 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:41 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:41 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:35:41 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 40.49 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:35:41 [INFO] [E2E_Tests] Pipeline completed in 40.49 seconds
2025-05-18 22:35:41 [INFO] [E2E_Tests] Pipeline completed in 40.49 seconds
2025-05-18 22:35:41 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:35:41 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:41 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as new
2025-05-18 22:35:41 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:41 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:41 [INFO] [Hash_Deduplication] Calculated hashes: MD5=19f764c8e9fe0b2d9e39c31e28954270, SHA256=7dcc9cb0be2a4acaa028a195ad57c9fd268e8fb8ff5856c7245fe5c2a0ab132a
2025-05-18 22:35:41 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:41 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:41 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:41 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf passed hash-based duplicate check
2025-05-18 22:35:41 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:41 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf' to images...
2025-05-18 22:35:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:41 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_extra_end/page_001.png
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:35:41 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:35:44 [INFO] Token counters updated: 8867 input, 2359 output
2025-05-18 22:35:44 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:35:44 [INFO] [PDF_Parsing] Extracted 1950 chars from page 1
2025-05-18 22:35:44 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf from page summaries...
2025-05-18 22:35:44 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:35:45 [INFO] Token counters updated: 9449 input, 2454 output
2025-05-18 22:35:46 [INFO] Token counters updated: 9676 input, 2463 output
2025-05-18 22:35:46 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:35:46 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Document"
2025-05-18 22:35:46 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:35:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:46 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:35:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:46 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:35:46 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:35:47 [INFO] Token counters updated: 10541 input, 2583 output
2025-05-18 22:35:47 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:35:47 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, Hydra70, APKWs...
2025-05-18 22:35:47 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:35:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:47 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:47 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Document
2025-05-18 22:35:47 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:35:47 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:35:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:35:47 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:35:47 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:35:47 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:35:47 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:35:47 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:35:47 [INFO] Use pytorch device_name: mps
2025-05-18 22:35:47 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:35:51 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:35:51 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:35:51 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:35:51 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:35:51 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:35:51 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:51 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:35:51 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:35:51 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:35:51 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:35:52 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:35:52 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:35:52 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:35:52 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_extra_end_combined is completely new (all 1 pages are new)
2025-05-18 22:35:52 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:35:52 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:52 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:35:52 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:35:52 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:35:52 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:35:52 [INFO] [Save_To_LanceDB] Processing completed in 4.73 seconds
2025-05-18 22:35:52 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:35:52 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:35:52 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:35:52 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:35:52 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:35:52 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:35:52 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:35:52 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1952 characters using simplified LLM approach
2025-05-18 22:35:52 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:35:52 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1952 characters
2025-05-18 22:36:01 [INFO] Token counters updated: 11166 input, 3023 output
2025-05-18 22:36:01 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:36:01 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:36:01 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:36:01 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 99/529/352.0
2025-05-18 22:36:01 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 24/132/87.8
2025-05-18 22:36:01 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:36:01 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:36:01 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:36:01 [INFO] Use pytorch device_name: mps
2025-05-18 22:36:01 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:36:08 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 17 rows, minimum 256 required
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] üìä Found 17 existing chunks to compare against
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_3  (similarity: 0.9425)
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_17  (similarity: 0.8739)
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_16  (similarity: 0.9786)
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_4  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_17  (similarity: 0.8409)
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_5  appears to be new (top similarity: 0.8136 with fighter_jet_rocket_launcher_spec_2.pdf_chunk_15)
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 1 new chunks, 0 duplicate chunks, and 4 similar chunks (total: 5 chunks) in 0.02s
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:36:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:36:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:36:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 4
2025-05-18 22:36:08 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:36:08 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:36:08 [INFO] [Integrated_Chunking] üìä Deduplication results: 1 new chunks, 0 duplicates, 4 updates
2025-05-18 22:36:08 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:36:08 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:36:08 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 22 rows, minimum 256 required
2025-05-18 22:36:08 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 16.31 seconds
2025-05-18 22:36:08 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:36:08 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:36:08 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:36:08 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:08 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:08 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_extra_end.pdf'
2025-05-18 22:36:08 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf not found in database
2025-05-18 22:36:08 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:36:08 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 26.52 seconds for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:36:08 [INFO] [E2E_Tests] Pipeline completed in 26.52 seconds
2025-05-18 22:36:08 [INFO] [E2E_Tests] Pipeline completed in 26.53 seconds
2025-05-18 22:36:08 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 22:36:08 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_223608.json
2025-05-18 22:36:08 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_223608.txt
2025-05-18 22:36:08 [INFO] [E2E_Tests] Scenario 3 PASSED ‚úÖ
2025-05-18 22:36:13 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:36:13 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:36:14 [INFO] [E2E_Tests] Running scenario: 4
2025-05-18 22:36:14 [INFO] [E2E_Tests] Starting Scenario 4: Unique Original vs. Unique Reordered
2025-05-18 22:36:14 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:36:14 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:36:14 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:36:14 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:36:14 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:36:14 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:36:14 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 22:36:14 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 22:36:14 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 22:36:14 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:36:14 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 22:36:14 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:36:14 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 22:36:14 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:14 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:14 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:36:14 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:36:14 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:36:14 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 22:36:14 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 22:36:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:14 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 22:36:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 22:36:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 22:36:14 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:14 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:36:14 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:36:17 [INFO] Loaded token usage data for 3 models
2025-05-18 22:36:17 [INFO] Token counters updated: 2557 input, 398 output
2025-05-18 22:36:17 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:36:17 [INFO] [PDF_Parsing] Extracted 1825 chars from page 1
2025-05-18 22:36:17 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 22:36:17 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 22:36:18 [INFO] Token counters updated: 3138 input, 503 output
2025-05-18 22:36:19 [INFO] Token counters updated: 3362 input, 511 output
2025-05-18 22:36:19 [INFO] [PDF_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher System Specification
2025-05-18 22:36:19 [INFO] [PDF_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher System Specification"
2025-05-18 22:36:19 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:36:19 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:19 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:36:19 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:19 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:36:19 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:36:20 [INFO] Token counters updated: 4201 input, 659 output
2025-05-18 22:36:20 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:36:20 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, FighterJet, GuidanceSystem, LaserGuided...
2025-05-18 22:36:20 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:36:20 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:20 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 22:36:20 [INFO] [PDF_Parsing] Document title: Advanced Fighter Jet Rocket Launcher System Specification
2025-05-18 22:36:20 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:36:20 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 22:36:20 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:20 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:36:20 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:36:20 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:36:20 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:36:20 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:36:20 [INFO] Use pytorch device_name: mps
2025-05-18 22:36:20 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:36:24 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:36:24 [INFO] [Save_To_LanceDB] Processing completed in 3.99 seconds
2025-05-18 22:36:24 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:36:24 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:24 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:36:24 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:36:24 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:36:24 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:36:24 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1827 characters using simplified LLM approach
2025-05-18 22:36:24 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:36:24 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1827 characters
2025-05-18 22:36:31 [INFO] Token counters updated: 4799 input, 1096 output
2025-05-18 22:36:31 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:36:31 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 22:36:31 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 22:36:31 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 254/800/438.5
2025-05-18 22:36:31 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 63/200/109.2
2025-05-18 22:36:31 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:36:31 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:36:31 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:36:31 [INFO] Use pytorch device_name: mps
2025-05-18 22:36:31 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:36:35 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (4 chunks) in 0.01s
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:36:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 22:36:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:36:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:36:35 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 4
2025-05-18 22:36:35 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:36:35 [INFO] [Integrated_Chunking] üìä Deduplication results: 4 new chunks, 0 duplicates, 0 updates
2025-05-18 22:36:35 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 22:36:35 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:36:35 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:36:35 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 10.97 seconds
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:36:35 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:36:35 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:35 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:35 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 22:36:35 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 21.61 seconds for fighter_jet_unique_original.pdf
2025-05-18 22:36:35 [INFO] [E2E_Tests] Pipeline completed in 21.61 seconds
2025-05-18 22:36:35 [INFO] [E2E_Tests] Pipeline completed in 21.61 seconds
2025-05-18 22:36:35 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:36:35 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 22:36:35 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as reordered
2025-05-18 22:36:35 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 22:36:35 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:36:35 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 22:36:35 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:35 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:35 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 22:36:35 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 22:36:35 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 22:36:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:35 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 22:36:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 22:36:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 22:36:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:35 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:36:35 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:36:38 [INFO] Token counters updated: 7356 input, 1430 output
2025-05-18 22:36:38 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:36:38 [INFO] [PDF_Parsing] Extracted 1539 chars from page 1
2025-05-18 22:36:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 22:36:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 22:36:39 [INFO] Token counters updated: 7962 input, 1553 output
2025-05-18 22:36:39 [INFO] Token counters updated: 8204 input, 1562 output
2025-05-18 22:36:39 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:36:39 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Guide"
2025-05-18 22:36:39 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:36:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:39 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:36:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:39 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:36:39 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:36:41 [INFO] Token counters updated: 8977 input, 1686 output
2025-05-18 22:36:41 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:36:41 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX5000, RocketLauncher, ThermalShielding, MultiModeTargeting, LaserGuided...
2025-05-18 22:36:41 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:36:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:41 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 22:36:41 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:36:41 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:36:41 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 22:36:41 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:36:41 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:36:41 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:36:41 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:36:41 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:36:41 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:36:41 [INFO] Use pytorch device_name: mps
2025-05-18 22:36:41 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 22:36:46 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_reordered_combined
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_reordered_combined
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_reordered_combined is completely new (all 1 pages are new)
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:36:46 [INFO] [Save_To_LanceDB] Processing completed in 5.11 seconds
2025-05-18 22:36:46 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:36:46 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:46 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:36:46 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:36:46 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:36:46 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:36:46 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1541 characters using simplified LLM approach
2025-05-18 22:36:46 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:36:46 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1541 characters
2025-05-18 22:36:51 [INFO] Token counters updated: 9505 input, 1997 output
2025-05-18 22:36:51 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:36:51 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:36:51 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:36:51 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 142/542/283.2
2025-05-18 22:36:51 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 35/135/70.2
2025-05-18 22:36:51 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:36:51 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:36:51 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:36:51 [INFO] Use pytorch device_name: mps
2025-05-18 22:36:51 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:36:58 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_reordered.pdf
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_reordered.pdf
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] üìä Found 4 existing chunks to compare against
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_1  is similar to fighter_jet_unique_original.pdf_chunk_3  (similarity: 0.9335)
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_2  is similar to fighter_jet_unique_original.pdf_chunk_2  (similarity: 0.9055)
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_3  is similar to fighter_jet_unique_original.pdf_chunk_1  (similarity: 0.8686)
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_4  is similar to fighter_jet_unique_original.pdf_chunk_1  (similarity: 0.8572)
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_unique_reordered.pdf_chunk_5  is similar to fighter_jet_unique_original.pdf_chunk_1  (similarity: 0.9293)
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 0 new chunks, 0 duplicate chunks, and 5 similar chunks (total: 5 chunks) in 0.02s
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:36:58 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:36:58 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:36:58 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 5
2025-05-18 22:36:58 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 0
2025-05-18 22:36:58 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:36:58 [INFO] [Integrated_Chunking] üìä Deduplication results: 0 new chunks, 0 duplicates, 5 updates
2025-05-18 22:36:58 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:36:58 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:36:58 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 9 rows, minimum 256 required
2025-05-18 22:36:58 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.88 seconds
2025-05-18 22:36:58 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:36:58 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:36:58 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_reordered.pdf
2025-05-18 22:36:58 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:58 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:36:58 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_reordered.pdf'
2025-05-18 22:36:58 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_reordered.pdf not found in database
2025-05-18 22:36:58 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_reordered.pdf
2025-05-18 22:36:58 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.48 seconds for fighter_jet_unique_reordered.pdf
2025-05-18 22:36:58 [INFO] [E2E_Tests] Pipeline completed in 22.48 seconds
2025-05-18 22:36:58 [INFO] [E2E_Tests] Pipeline completed in 22.49 seconds
2025-05-18 22:36:58 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:36:58 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 22:36:58 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_223658.json
2025-05-18 22:36:58 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_223658.txt
2025-05-18 22:36:58 [ERROR] [E2E_Tests] Scenario 4 FAILED ‚ùå
2025-05-18 22:37:03 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:37:03 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:37:03 [INFO] [E2E_Tests] Running scenario: 5
2025-05-18 22:37:03 [INFO] [E2E_Tests] Starting Scenario 5: Language Variant
2025-05-18 22:37:03 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:37:03 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:37:03 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:37:03 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:37:03 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:37:03 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:37:03 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:03 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:37:03 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:37:03 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:37:03 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:03 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:03 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:37:03 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:03 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:03 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:37:03 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:03 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:37:03 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 22:37:03 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:03 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:03 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:03 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 22:37:03 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:03 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:03 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 22:37:03 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 22:37:06 [INFO] Loaded token usage data for 3 models
2025-05-18 22:37:06 [INFO] Token counters updated: 2557 input, 329 output
2025-05-18 22:37:06 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:37:06 [INFO] [PDF_Parsing] Extracted 1401 chars from page 1
2025-05-18 22:37:06 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 22:37:08 [INFO] Token counters updated: 5114 input, 630 output
2025-05-18 22:37:08 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 22:37:08 [INFO] [PDF_Parsing] Extracted 1341 chars from page 2
2025-05-18 22:37:08 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 22:37:08 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:37:09 [INFO] Token counters updated: 5692 input, 727 output
2025-05-18 22:37:10 [INFO] Token counters updated: 6284 input, 843 output
2025-05-18 22:37:11 [INFO] Token counters updated: 6605 input, 852 output
2025-05-18 22:37:11 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:37:11 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Guide"
2025-05-18 22:37:11 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:37:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:11 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:37:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:11 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:37:11 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 22:37:12 [INFO] Token counters updated: 7374 input, 962 output
2025-05-18 22:37:12 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:37:12 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RocketLauncher, FighterJet, TechnicalSpecifications, RLX5000, Hydra70...
2025-05-18 22:37:12 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 22:37:12 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 22:37:13 [INFO] Token counters updated: 8112 input, 1091 output
2025-05-18 22:37:13 [INFO] [PDF_Parsing] Successfully processed page 2
2025-05-18 22:37:13 [INFO] [PDF_Parsing] Page 2: Generated summary and hashtags: RocketLauncher, F16CBlock52, AerialWarfare, ThermalShielding, QuickReload...
2025-05-18 22:37:13 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:37:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:13 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:13 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 22:37:13 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 22:37:13 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:37:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:13 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:37:13 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:37:13 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:37:13 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:37:13 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:37:13 [INFO] Use pytorch device_name: mps
2025-05-18 22:37:13 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:37:17 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:37:17 [INFO] [Save_To_LanceDB] Processing completed in 3.74 seconds
2025-05-18 22:37:17 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:37:17 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:17 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:37:17 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 22:37:17 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:37:17 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:17 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2746 characters using simplified LLM approach
2025-05-18 22:37:17 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:37:17 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2746 characters
2025-05-18 22:37:28 [INFO] Token counters updated: 8941 input, 1678 output
2025-05-18 22:37:28 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:37:28 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 22:37:28 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 22:37:28 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 374/776/605.5
2025-05-18 22:37:28 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 93/194/151.0
2025-05-18 22:37:28 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:37:28 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:37:28 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:37:28 [INFO] Use pytorch device_name: mps
2025-05-18 22:37:28 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:37:32 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (4 chunks) in 0.01s
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:37:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 22:37:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:37:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:37:32 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 4
2025-05-18 22:37:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:37:32 [INFO] [Integrated_Chunking] üìä Deduplication results: 4 new chunks, 0 duplicates, 0 updates
2025-05-18 22:37:32 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 22:37:32 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:37:32 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:37:32 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 15.26 seconds
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:37:32 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:32 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:32 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:32 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 22:37:32 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 29.24 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:37:32 [INFO] [E2E_Tests] Pipeline completed in 29.25 seconds
2025-05-18 22:37:32 [INFO] [E2E_Tests] Pipeline completed in 29.25 seconds
2025-05-18 22:37:32 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:37:32 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:32 [INFO] [E2E_Tests]   Expected: Most chunks should be flagged as similar
2025-05-18 22:37:32 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_3_language_variant.pdf...
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_3_language_variant.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:32 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:32 [INFO] [Hash_Deduplication] Calculated hashes: MD5=a552cdc6b059f526cf6c7fd43ecec9b4, SHA256=c266feb82f0c187faa9d1e3fd0800b9afbb6a5c94a8c7395cd18045025377ad3
2025-05-18 22:37:32 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:32 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:32 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:32 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_3_language_variant.pdf passed hash-based duplicate check
2025-05-18 22:37:32 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:32 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_3_language_variant.pdf' to images...
2025-05-18 22:37:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:32 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_3_language_variant/page_001.png
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:37:32 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:37:35 [INFO] Token counters updated: 11498 input, 2079 output
2025-05-18 22:37:35 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:37:35 [INFO] [PDF_Parsing] Extracted 1852 chars from page 1
2025-05-18 22:37:35 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_3_language_variant.pdf from page summaries...
2025-05-18 22:37:35 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_3_language_variant.pdf...
2025-05-18 22:37:36 [INFO] Token counters updated: 12080 input, 2185 output
2025-05-18 22:37:37 [INFO] Token counters updated: 12305 input, 2194 output
2025-05-18 22:37:37 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:37:37 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher System Specifications Guide"
2025-05-18 22:37:37 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:37:37 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:37 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:37:37 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:37 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:37:37 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:37:38 [INFO] Token counters updated: 13149 input, 2341 output
2025-05-18 22:37:38 [INFO] [PDF_Parsing] Successfully processed page 1
2025-05-18 22:37:38 [INFO] [PDF_Parsing] Page 1: Generated summary and hashtags: RLX-5000, Rocket Launcher, Fighter Jet, Guidance System, Laser Guidance...
2025-05-18 22:37:38 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_3_language_variant/fighter_jet_rocket_launcher_spec_3_language_variant_combined.json
2025-05-18 22:37:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:38 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:38 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher System Specifications Guide
2025-05-18 22:37:38 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:37:38 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_3_language_variant_combined.json
2025-05-18 22:37:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:37:38 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_3_language_variant/fighter_jet_rocket_launcher_spec_3_language_variant_combined.json
2025-05-18 22:37:38 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:37:38 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:37:38 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_3_language_variant/fighter_jet_rocket_launcher_spec_3_language_variant_combined.json
2025-05-18 22:37:38 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:37:38 [INFO] Use pytorch device_name: mps
2025-05-18 22:37:38 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_3_language_variant/fighter_jet_rocket_launcher_spec_3_language_variant_combined.json
2025-05-18 22:37:43 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_3_language_variant_combined
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_3_language_variant_combined
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_3_language_variant_combined is completely new (all 1 pages are new)
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:37:43 [INFO] [Save_To_LanceDB] Processing completed in 4.69 seconds
2025-05-18 22:37:43 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:37:43 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:37:43 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:37:43 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:37:43 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:37:43 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:37:43 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1854 characters using simplified LLM approach
2025-05-18 22:37:43 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:37:43 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1854 characters
2025-05-18 22:37:54 [INFO] Token counters updated: 13749 input, 2793 output
2025-05-18 22:37:54 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:37:54 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:37:54 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:37:54 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 388/882/616.0
2025-05-18 22:37:54 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 97/220/153.7
2025-05-18 22:37:54 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:37:54 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:37:54 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:37:54 [INFO] Use pytorch device_name: mps
2025-05-18 22:37:54 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:38:00 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] üìä Found 4 existing chunks to compare against
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_3_language_variant.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_1  (similarity: 0.9574)
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_3_language_variant.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_2  (similarity: 0.9834)
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_3_language_variant.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_3  (similarity: 0.9744)
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 0 new chunks, 0 duplicate chunks, and 3 similar chunks (total: 3 chunks) in 0.01s
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:38:00 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:38:00 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:38:00 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 3
2025-05-18 22:38:00 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 0
2025-05-18 22:38:00 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:38:00 [INFO] [Integrated_Chunking] üìä Deduplication results: 0 new chunks, 0 duplicates, 3 updates
2025-05-18 22:38:00 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:38:00 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:38:00 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 7 rows, minimum 256 required
2025-05-18 22:38:00 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 17.14 seconds
2025-05-18 22:38:00 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:38:00 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:38:00 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:38:00 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:00 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:00 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_3_language_variant.pdf'
2025-05-18 22:38:00 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_3_language_variant.pdf not found in database
2025-05-18 22:38:00 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:38:00 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 27.59 seconds for fighter_jet_rocket_launcher_spec_3_language_variant.pdf
2025-05-18 22:38:00 [INFO] [E2E_Tests] Pipeline completed in 27.59 seconds
2025-05-18 22:38:00 [INFO] [E2E_Tests] Pipeline completed in 27.60 seconds
2025-05-18 22:38:00 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:38:00 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 22:38:00 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_223800.json
2025-05-18 22:38:00 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_223800.txt
2025-05-18 22:38:00 [ERROR] [E2E_Tests] Scenario 5 FAILED ‚ùå
2025-05-18 22:38:05 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:38:05 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:38:05 [INFO] [E2E_Tests] Running scenario: 6
2025-05-18 22:38:05 [INFO] [E2E_Tests] Starting Scenario 6: Changed vs. Reordered
2025-05-18 22:38:05 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:38:05 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:38:05 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:38:05 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:38:05 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:38:05 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:38:05 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:05 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:38:05 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:38:05 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:38:05 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:05 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:05 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:38:05 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:05 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:05 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:38:05 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:05 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:38:05 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 22:38:05 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:05 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 22:38:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:05 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:05 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 22:38:05 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 22:38:08 [INFO] Loaded token usage data for 3 models
2025-05-18 22:38:08 [INFO] Token counters updated: 2557 input, 338 output
2025-05-18 22:38:08 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:38:08 [INFO] [PDF_Parsing] Extracted 1465 chars from page 1
2025-05-18 22:38:08 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 22:38:10 [INFO] Token counters updated: 5114 input, 730 output
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Extracted 1823 chars from page 2
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:38:10 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 100006, Requested 600. Please try again in 8m44.435999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:10 [ERROR] [PDF_Parsing] Error generating summary for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 100006, Requested 600. Please try again in 8m44.381999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:10 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:38:10 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:10 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:38:10 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 22:38:10 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 100006, Requested 806. Please try again in 11m42.291s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:10 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 100006, Requested 806. Please try again in 11m42.291s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:10 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 22:38:10 [ERROR] [PDF_Parsing] Error processing page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 100006, Requested 895. Please try again in 12m59.11s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:10 [ERROR] [PDF_Parsing] Error processing metadata for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 100006, Requested 895. Please try again in 12m59.11s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:10 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:38:10 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:10 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 22:38:10 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:38:10 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:10 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:38:10 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:38:10 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:38:10 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:38:10 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:38:10 [INFO] Use pytorch device_name: mps
2025-05-18 22:38:10 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:38:14 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:38:14 [INFO] [Save_To_LanceDB] Processing completed in 3.42 seconds
2025-05-18 22:38:14 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:38:14 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:14 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:38:14 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 22:38:14 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:38:14 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:14 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 3292 characters using simplified LLM approach
2025-05-18 22:38:14 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:38:14 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 3292 characters
2025-05-18 22:38:28 [INFO] Token counters updated: 6044 input, 1539 output
2025-05-18 22:38:28 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:38:28 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:38:28 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1326 characters
2025-05-18 22:38:32 [INFO] Token counters updated: 6542 input, 1782 output
2025-05-18 22:38:32 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:38:32 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 7 chunks
2025-05-18 22:38:32 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 7
2025-05-18 22:38:32 [INFO] [Integrated_Chunking] üìä Generated 7 chunks
2025-05-18 22:38:32 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 94/826/430.6
2025-05-18 22:38:32 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 23/206/107.3
2025-05-18 22:38:32 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:38:32 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:38:32 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:38:32 [INFO] Use pytorch device_name: mps
2025-05-18 22:38:32 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:38:36 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_7 has no similar chunks. Marking as new.
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (7 chunks) in 0.01s
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:38:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 7
2025-05-18 22:38:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:38:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:38:36 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 7
2025-05-18 22:38:36 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:38:36 [INFO] [Integrated_Chunking] üìä Deduplication results: 7 new chunks, 0 duplicates, 0 updates
2025-05-18 22:38:36 [INFO] [Integrated_Chunking] üîÑ Adding 7 chunks to LanceDB
2025-05-18 22:38:36 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:38:36 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 7 rows, minimum 256 required
2025-05-18 22:38:36 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 21.87 seconds
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:38:36 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:36 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:36 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:36 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 22:38:36 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 30.84 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:38:36 [INFO] [E2E_Tests] Pipeline completed in 30.84 seconds
2025-05-18 22:38:36 [INFO] [E2E_Tests] Pipeline completed in 30.85 seconds
2025-05-18 22:38:36 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:38:36 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:36 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as changed
2025-05-18 22:38:36 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:36 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:36 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:38:36 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:36 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:36 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:36 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:38:36 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:36 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:38:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:36 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:38:36 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:38:38 [INFO] Token counters updated: 9099 input, 2109 output
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Extracted 1644 chars from page 1
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:38:38 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99975, Requested 600. Please try again in 8m16.437999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:38 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:38:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:38 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:38:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:38:38 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99975, Requested 855. Please try again in 11m56.712s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:38 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99975, Requested 855. Please try again in 11m56.712s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:38:38 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:38:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:38 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:38:38 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:38:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:38:38 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:38:38 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:38:38 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:38:38 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:38:38 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:38:38 [INFO] Use pytorch device_name: mps
2025-05-18 22:38:38 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:38:44 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:38:44 [INFO] [Save_To_LanceDB] Processing completed in 5.26 seconds
2025-05-18 22:38:44 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:38:44 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:38:44 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:38:44 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:38:44 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:38:44 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:38:44 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1646 characters using simplified LLM approach
2025-05-18 22:38:44 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:38:44 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1646 characters
2025-05-18 22:38:50 [INFO] Token counters updated: 9625 input, 2483 output
2025-05-18 22:38:50 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 22:38:50 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:38:50 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1644 characters
2025-05-18 22:38:56 [INFO] Token counters updated: 10150 input, 2855 output
2025-05-18 22:38:56 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 22:38:56 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:38:56 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 932 characters
2025-05-18 22:38:59 [INFO] Token counters updated: 10498 input, 3035 output
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 3 chunks
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 3 chunks
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:38:59 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 309/699/542.7
2025-05-18 22:38:59 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 77/174/135.3
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:38:59 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:38:59 [INFO] Use pytorch device_name: mps
2025-05-18 22:38:59 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:39:04 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 7 rows, minimum 256 required
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] üìä Found 7 existing chunks to compare against
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_1  (similarity: 0.8677)
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_1  (similarity: 0.8805)
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_2  (similarity: 0.9774)
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 0 new chunks, 0 duplicate chunks, and 3 similar chunks (total: 3 chunks) in 0.01s
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:39:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:39:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:39:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 3
2025-05-18 22:39:04 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 0
2025-05-18 22:39:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:39:04 [INFO] [Integrated_Chunking] üìä Deduplication results: 0 new chunks, 0 duplicates, 3 updates
2025-05-18 22:39:04 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:39:04 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:39:04 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 10 rows, minimum 256 required
2025-05-18 22:39:04 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 19.98 seconds
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:39:04 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:39:04 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:04 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:04 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 22:39:04 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 27.78 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:39:04 [INFO] [E2E_Tests] Pipeline completed in 27.78 seconds
2025-05-18 22:39:04 [INFO] [E2E_Tests] Pipeline completed in 27.79 seconds
2025-05-18 22:39:04 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:39:04 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 22:39:04 [INFO] [E2E_Tests]   Step 3: Processing fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:04 [INFO] [E2E_Tests]   Expected: Most chunks as duplicates, new chunks at end
2025-05-18 22:39:04 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:04 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:04 [INFO] [Hash_Deduplication] Calculated hashes: MD5=19f764c8e9fe0b2d9e39c31e28954270, SHA256=7dcc9cb0be2a4acaa028a195ad57c9fd268e8fb8ff5856c7245fe5c2a0ab132a
2025-05-18 22:39:04 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:04 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:04 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:04 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf passed hash-based duplicate check
2025-05-18 22:39:04 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:04 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf' to images...
2025-05-18 22:39:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:04 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:04 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_extra_end/page_001.png
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:39:04 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:39:06 [INFO] Token counters updated: 13055 input, 3466 output
2025-05-18 22:39:06 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:39:06 [INFO] [PDF_Parsing] Extracted 1964 chars from page 1
2025-05-18 22:39:06 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf from page summaries...
2025-05-18 22:39:06 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:39:07 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99942, Requested 600. Please try again in 7m48.095s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:39:07 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:07 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:39:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:07 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:39:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:07 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:39:07 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:39:07 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99942, Requested 933. Please try again in 12m35.767s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:39:07 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99942, Requested 933. Please try again in 12m35.767s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:39:07 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:39:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:07 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:07 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:07 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:39:07 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:39:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:07 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:39:07 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:39:07 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:39:07 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:39:07 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:39:07 [INFO] Use pytorch device_name: mps
2025-05-18 22:39:07 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:39:13 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Not creating index: documents has only 2 rows, minimum 256 required
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Not creating index: documents has only 2 rows, minimum 256 required
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_extra_end_combined is completely new (all 1 pages are new)
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:39:13 [INFO] [Save_To_LanceDB] Processing completed in 6.16 seconds
2025-05-18 22:39:13 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:39:13 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:13 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:39:13 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:39:13 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:39:13 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:13 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1966 characters using simplified LLM approach
2025-05-18 22:39:13 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:39:13 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1966 characters
2025-05-18 22:39:19 [INFO] Token counters updated: 13684 input, 3950 output
2025-05-18 22:39:19 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:39:19 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 22:39:19 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 22:39:19 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 100/888/489.5
2025-05-18 22:39:19 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 25/222/122.2
2025-05-18 22:39:19 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:39:19 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:39:19 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:39:19 [INFO] Use pytorch device_name: mps
2025-05-18 22:39:19 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:39:26 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 10 rows, minimum 256 required
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] üìä Found 10 existing chunks to compare against
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_1  (similarity: 0.9864)
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_3  (similarity: 0.9664)
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_3  (similarity: 0.9516)
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_4  appears to be new (top similarity: 0.7389 with fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_2)
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 1 new chunks, 0 duplicate chunks, and 3 similar chunks (total: 4 chunks) in 0.02s
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:39:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 22:39:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:39:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 3
2025-05-18 22:39:26 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:39:26 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:39:26 [INFO] [Integrated_Chunking] üìä Deduplication results: 1 new chunks, 0 duplicates, 3 updates
2025-05-18 22:39:26 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 22:39:26 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:39:26 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 14 rows, minimum 256 required
2025-05-18 22:39:26 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 13.53 seconds
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:39:26 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:26 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:26 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:26 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_extra_end.pdf'
2025-05-18 22:39:26 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf not found in database
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.78 seconds for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:39:26 [INFO] [E2E_Tests] Pipeline completed in 22.78 seconds
2025-05-18 22:39:26 [INFO] [E2E_Tests] Pipeline completed in 22.79 seconds
2025-05-18 22:39:26 [INFO] [E2E_Tests]   Step 3 PASSED ‚úÖ
2025-05-18 22:39:26 [INFO] [E2E_Tests]   Step 4: Processing fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:26 [INFO] [E2E_Tests]   Expected: Reordered chunks detected as duplicates
2025-05-18 22:39:26 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_5_reordered.pdf...
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_5_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:26 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:26 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2e40c8eeeffd4044504b7f0821943389, SHA256=b6c6d48245c23a4fccaa8afaa279173b8aeee729850d540c1adee8c8f9591ced
2025-05-18 22:39:26 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:26 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:26 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:26 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_5_reordered.pdf passed hash-based duplicate check
2025-05-18 22:39:26 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:26 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_5_reordered.pdf' to images...
2025-05-18 22:39:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:26 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:26 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_5_reordered/page_001.png
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:39:26 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:39:29 [INFO] Token counters updated: 16241 input, 4303 output
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Extracted 1697 chars from page 1
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_5_reordered.pdf from page summaries...
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_5_reordered.pdf...
2025-05-18 22:39:29 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99916, Requested 600. Please try again in 7m25.796999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:39:29 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:39:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:29 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:39:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:39:29 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99916, Requested 867. Please try again in 11m16.445999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:39:29 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99916, Requested 867. Please try again in 11m16.445999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:39:29 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_5_reordered/fighter_jet_rocket_launcher_spec_5_reordered_combined.json
2025-05-18 22:39:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:29 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:39:29 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_5_reordered_combined.json
2025-05-18 22:39:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:39:29 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_5_reordered/fighter_jet_rocket_launcher_spec_5_reordered_combined.json
2025-05-18 22:39:29 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:39:29 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:39:29 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_5_reordered/fighter_jet_rocket_launcher_spec_5_reordered_combined.json
2025-05-18 22:39:29 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:39:29 [INFO] Use pytorch device_name: mps
2025-05-18 22:39:29 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_5_reordered/fighter_jet_rocket_launcher_spec_5_reordered_combined.json
2025-05-18 22:39:33 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_5_reordered_combined
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_5_reordered_combined
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Not creating index: documents has only 3 rows, minimum 256 required
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Not creating index: documents has only 3 rows, minimum 256 required
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_5_reordered_combined is completely new (all 1 pages are new)
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:39:33 [INFO] [Save_To_LanceDB] Processing completed in 4.28 seconds
2025-05-18 22:39:33 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:39:33 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:33 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:39:33 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:39:33 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:39:33 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:33 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1699 characters using simplified LLM approach
2025-05-18 22:39:33 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:39:33 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1699 characters
2025-05-18 22:39:43 [INFO] Token counters updated: 16791 input, 4625 output
2025-05-18 22:39:43 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:39:43 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:39:43 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:39:43 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 139/536/287.6
2025-05-18 22:39:43 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 34/134/71.4
2025-05-18 22:39:43 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:39:43 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:39:43 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:39:43 [INFO] Use pytorch device_name: mps
2025-05-18 22:39:43 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:39:53 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 14 rows, minimum 256 required
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] üìä Found 14 existing chunks to compare against
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_5_reordered.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_3  (similarity: 0.9051)
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_5_reordered.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_2  (similarity: 0.8479)
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_5_reordered.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_2  (similarity: 0.9314)
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_5_reordered.pdf_chunk_4  is similar to fighter_jet_rocket_launcher_spec.pdf_chunk_1  (similarity: 0.9125)
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_5_reordered.pdf_chunk_5  appears to be new (top similarity: 0.7780 with fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_2)
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 1 new chunks, 0 duplicate chunks, and 4 similar chunks (total: 5 chunks) in 0.03s
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:39:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:39:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:39:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 4
2025-05-18 22:39:53 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 1
2025-05-18 22:39:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:39:53 [INFO] [Integrated_Chunking] üìä Deduplication results: 1 new chunks, 0 duplicates, 4 updates
2025-05-18 22:39:53 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:39:53 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:39:53 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 19 rows, minimum 256 required
2025-05-18 22:39:53 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 20.07 seconds
2025-05-18 22:39:53 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:39:53 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:39:53 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:53 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:53 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:39:53 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_5_reordered.pdf'
2025-05-18 22:39:53 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_5_reordered.pdf not found in database
2025-05-18 22:39:53 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:53 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 26.96 seconds for fighter_jet_rocket_launcher_spec_5_reordered.pdf
2025-05-18 22:39:53 [INFO] [E2E_Tests] Pipeline completed in 26.96 seconds
2025-05-18 22:39:53 [INFO] [E2E_Tests] Pipeline completed in 26.96 seconds
2025-05-18 22:39:53 [INFO] [E2E_Tests]   Step 4 PASSED ‚úÖ
2025-05-18 22:39:53 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_223953.json
2025-05-18 22:39:53 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_223953.txt
2025-05-18 22:39:53 [ERROR] [E2E_Tests] Scenario 6 FAILED ‚ùå
2025-05-18 22:41:29 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:41:29 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:41:29 [INFO] [E2E_Tests] Running scenario: 1
2025-05-18 22:41:29 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 22:41:29 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:41:29 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:41:29 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:41:29 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:41:29 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:41:29 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:41:29 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:29 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 22:41:29 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:41:29 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:41:29 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:29 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:29 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:41:29 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:29 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:29 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:41:29 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:29 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:41:29 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 22:41:29 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:29 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:29 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 22:41:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:29 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:29 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:29 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 22:41:30 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 22:41:33 [INFO] Loaded token usage data for 3 models
2025-05-18 22:41:33 [INFO] Token counters updated: 2557 input, 328 output
2025-05-18 22:41:33 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:41:33 [INFO] [PDF_Parsing] Extracted 1403 chars from page 1
2025-05-18 22:41:33 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 22:41:35 [INFO] Token counters updated: 5114 input, 657 output
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Extracted 1572 chars from page 2
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:41:35 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99770, Requested 600. Please try again in 5m19.281s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:41:35 [ERROR] [PDF_Parsing] Error generating summary for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99770, Requested 600. Please try again in 5m19.241999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:41:35 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:41:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:35 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:41:35 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 22:41:35 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99770, Requested 790. Please try again in 8m3.369s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:41:35 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99770, Requested 790. Please try again in 8m3.369s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:41:35 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 22:41:35 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 22:41:36 [ERROR] [PDF_Parsing] Error processing page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99770, Requested 832. Please try again in 8m39.625s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:41:36 [ERROR] [PDF_Parsing] Error processing metadata for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99770, Requested 832. Please try again in 8m39.625s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:41:36 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:41:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:36 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:36 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:36 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 22:41:36 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:41:36 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:41:36 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:41:36 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:41:36 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:41:36 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:41:36 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:41:36 [INFO] Use pytorch device_name: mps
2025-05-18 22:41:36 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 22:41:40 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:41:40 [INFO] [Save_To_LanceDB] Processing completed in 4.93 seconds
2025-05-18 22:41:40 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:41:40 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:41:40 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:41:40 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 22:41:40 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:41:40 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:41:40 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2979 characters using simplified LLM approach
2025-05-18 22:41:40 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:41:40 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2979 characters
2025-05-18 22:41:53 [INFO] Token counters updated: 5977 input, 1266 output
2025-05-18 22:41:53 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:41:53 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:41:53 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1049 characters
2025-05-18 22:41:58 [INFO] Token counters updated: 6409 input, 1519 output
2025-05-18 22:41:58 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:41:58 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 6 chunks
2025-05-18 22:41:58 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 6
2025-05-18 22:41:58 [INFO] [Integrated_Chunking] üìä Generated 6 chunks
2025-05-18 22:41:58 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 247/669/438.0
2025-05-18 22:41:58 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 61/167/109.2
2025-05-18 22:41:58 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:41:58 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:41:58 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:41:58 [INFO] Use pytorch device_name: mps
2025-05-18 22:41:58 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:04 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (6 chunks) in 0.02s
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:42:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 6
2025-05-18 22:42:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:42:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:42:04 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 6
2025-05-18 22:42:04 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:42:04 [INFO] [Integrated_Chunking] üìä Deduplication results: 6 new chunks, 0 duplicates, 0 updates
2025-05-18 22:42:04 [INFO] [Integrated_Chunking] üîÑ Adding 6 chunks to LanceDB
2025-05-18 22:42:04 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:42:04 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 6 rows, minimum 256 required
2025-05-18 22:42:04 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 24.00 seconds
2025-05-18 22:42:04 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:42:04 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:42:04 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:04 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:04 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 22:42:04 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 22:42:04 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 35.09 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [E2E_Tests] Pipeline completed in 35.10 seconds
2025-05-18 22:42:04 [INFO] [E2E_Tests] Pipeline completed in 35.10 seconds
2025-05-18 22:42:04 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:42:04 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 22:42:04 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 22:42:04 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:42:04 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 22:42:04 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:04 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:04 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 22:42:04 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 22:42:04 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 22:42:04 [INFO] [E2E_Tests] Pipeline completed in 0.01 seconds
2025-05-18 22:42:04 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 22:42:04 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_224204.json
2025-05-18 22:42:04 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_224204.txt
2025-05-18 22:42:04 [INFO] [E2E_Tests] Scenario 1 PASSED ‚úÖ
2025-05-18 22:42:09 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:42:09 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:42:09 [INFO] [E2E_Tests] Running scenario: 2
2025-05-18 22:42:09 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 22:42:09 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:42:09 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:42:09 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:42:09 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:42:09 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:42:09 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:42:09 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:09 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:42:09 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:42:09 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:42:09 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:09 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:09 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:42:09 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:09 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:09 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:42:09 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:09 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:42:09 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:42:09 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:09 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:42:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:09 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:09 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:42:09 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:42:12 [INFO] Loaded token usage data for 3 models
2025-05-18 22:42:12 [INFO] Token counters updated: 2557 input, 426 output
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Extracted 1983 chars from page 1
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:42:12 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99728, Requested 600. Please try again in 4m42.562s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:12 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:42:12 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:12 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:42:12 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:42:12 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99727, Requested 936. Please try again in 9m32.819s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:12 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99727, Requested 936. Please try again in 9m32.819s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:12 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:12 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:12 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:42:12 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:12 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:12 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:12 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:42:12 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:42:12 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:12 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:12 [INFO] Use pytorch device_name: mps
2025-05-18 22:42:12 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:17 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:42:17 [INFO] [Save_To_LanceDB] Processing completed in 4.47 seconds
2025-05-18 22:42:17 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:42:17 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:17 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:42:17 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:42:17 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:42:17 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:17 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1985 characters using simplified LLM approach
2025-05-18 22:42:17 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:42:17 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1985 characters
2025-05-18 22:42:23 [INFO] Token counters updated: 3177 input, 844 output
2025-05-18 22:42:23 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:42:23 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:42:23 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:42:23 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 225/694/374.4
2025-05-18 22:42:23 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 56/173/93.2
2025-05-18 22:42:23 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:42:23 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:42:23 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:42:23 [INFO] Use pytorch device_name: mps
2025-05-18 22:42:23 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:28 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (5 chunks) in 0.01s
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:42:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:42:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:42:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:42:28 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 5
2025-05-18 22:42:28 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:42:28 [INFO] [Integrated_Chunking] üìä Deduplication results: 5 new chunks, 0 duplicates, 0 updates
2025-05-18 22:42:28 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:42:28 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:42:28 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 5 rows, minimum 256 required
2025-05-18 22:42:28 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.21 seconds
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:42:28 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:28 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:28 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:28 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:42:28 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 18.69 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:28 [INFO] [E2E_Tests] Pipeline completed in 18.69 seconds
2025-05-18 22:42:28 [INFO] [E2E_Tests] Pipeline completed in 18.69 seconds
2025-05-18 22:42:28 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:42:28 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:28 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 22:42:28 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:28 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:28 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 22:42:28 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:28 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:28 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:28 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 22:42:28 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:28 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 22:42:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:28 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:28 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:42:28 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:42:30 [INFO] Token counters updated: 5734 input, 1195 output
2025-05-18 22:42:30 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:42:30 [INFO] [PDF_Parsing] Extracted 1545 chars from page 1
2025-05-18 22:42:30 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 22:42:30 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 22:42:31 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99706, Requested 600. Please try again in 4m24.136s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:31 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:31 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:42:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:31 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:42:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:31 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:42:31 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:42:31 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99706, Requested 830. Please try again in 7m42.814999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:31 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99706, Requested 830. Please try again in 7m42.814999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:31 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:42:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:31 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:31 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:31 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:42:31 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:42:31 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:31 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:42:31 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:42:31 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:42:31 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:42:31 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:31 [INFO] Use pytorch device_name: mps
2025-05-18 22:42:31 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 22:42:37 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:42:37 [INFO] [Save_To_LanceDB] Processing completed in 6.08 seconds
2025-05-18 22:42:37 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:42:37 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:42:37 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:37 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:42:37 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 22:42:37 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:37 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:37 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:42:37 [INFO] [Context_Chunking] Retrieved 5 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:37 [INFO] [Context_Chunking] Performing context-aware chunking with 5 reference chunks
2025-05-18 22:42:37 [INFO] [Context_Chunking] Performing context-aware chunking with 5 reference chunks
2025-05-18 22:42:44 [INFO] Token counters updated: 6898 input, 1579 output
2025-05-18 22:42:44 [INFO] [Context_Chunking] Context-aware chunking produced 4 chunks
2025-05-18 22:42:44 [INFO] [Context_Chunking] Created 4 initial chunks
2025-05-18 22:42:48 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:48 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 1.0000 (DUPLICATE)
2025-05-18 22:42:48 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:42:48 [INFO] [Context_Chunking]    Similarity: 1.0000
2025-05-18 22:42:48 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:42:48 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:42:48 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:42:48 [INFO] [Context_Chunking] Skipping duplicate chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001, referencing fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 instead
2025-05-18 22:42:48 [WARNING] [Context_Chunking] Could not find exact position for chunk 2, using approximate position
2025-05-18 22:42:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8686 (SIMILAR)
2025-05-18 22:42:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Similarity: 0.8686
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:42:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:42:49 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0174)
2025-05-18 22:42:49 [WARNING] [Context_Chunking] Could not find exact position for chunk 3, using approximate position
2025-05-18 22:42:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8400 (SIMILAR)
2025-05-18 22:42:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Similarity: 0.8400
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:42:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:42:49 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0323)
2025-05-18 22:42:49 [WARNING] [Context_Chunking] Could not find exact position for chunk 4, using approximate position
2025-05-18 22:42:49 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8844 (SIMILAR)
2025-05-18 22:42:49 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Similarity: 0.8844
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 22:42:49 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 22:42:49 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 22:42:49 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0220)
2025-05-18 22:42:49 [INFO] [Context_Chunking] üìä CHUNK DEDUPLICATION SUMMARY FOR fighter_jet_rocket_launcher_spec_2_changed_values.pdf (update of fighter_jet_rocket_launcher_spec_2.pdf):
2025-05-18 22:42:49 [INFO] [Context_Chunking]   ‚Ä¢ Total chunks processed: 4
2025-05-18 22:42:49 [INFO] [Context_Chunking]   ‚Ä¢ Exact duplicates found: 1
2025-05-18 22:42:49 [INFO] [Context_Chunking]   ‚Ä¢ Similar chunks found: 3
2025-05-18 22:42:49 [INFO] [Context_Chunking]   ‚Ä¢ New unique chunks: 0
2025-05-18 22:42:49 [INFO] [Context_Chunking]   ‚Ä¢ Duplicate/similar chunk rate: 100.0%
2025-05-18 22:42:49 [INFO] [Context_Chunking]   ‚Ä¢ Document is a minor update of fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:50 [INFO] [Context_Chunking] Processed 3 chunks in 12.98s (1 duplicates, 3 updated, 0 new)
2025-05-18 22:42:50 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:50 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:42:50 [INFO] [Context_Chunking] Opened existing table: document_chunks
2025-05-18 22:42:50 [INFO] [Context_Chunking] Adding missing columns: {'is_replaced', 'is_duplicate_marker', 'replaced_by'}
2025-05-18 22:42:50 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 to mark as replaced
2025-05-18 22:42:50 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 to mark as replaced
2025-05-18 22:42:50 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 to mark as replaced
2025-05-18 22:42:50 [INFO] [Context_Chunking] Updated schema with 3 new columns, added 3 new chunks
2025-05-18 22:42:50 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 22:42:50 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:42:50 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 22:42:50 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:42:50 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:42:50 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:50 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:50 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:50 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 22:42:50 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 22:42:50 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:50 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.31 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 22:42:50 [INFO] [E2E_Tests] Pipeline completed in 22.31 seconds
2025-05-18 22:42:50 [INFO] [E2E_Tests] Pipeline completed in 22.31 seconds
2025-05-18 22:42:50 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:42:50 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-18 22:42:50 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_224250.json
2025-05-18 22:42:50 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_224250.txt
2025-05-18 22:42:50 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 22:42:54 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:42:54 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:42:54 [INFO] [E2E_Tests] Running scenario: 3
2025-05-18 22:42:54 [INFO] [E2E_Tests] Starting Scenario 3: Extra End Content
2025-05-18 22:42:54 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:42:54 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:42:54 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:42:54 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:42:54 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:42:54 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:42:54 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:54 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:42:54 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:42:54 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:42:54 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:54 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:54 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:42:54 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:54 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:42:54 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:42:54 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:54 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:42:54 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:42:54 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:54 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:54 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:42:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:54 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:54 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:54 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:42:55 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:42:55 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:42:55 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:42:55 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:42:55 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:42:55 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:42:55 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:42:58 [INFO] Loaded token usage data for 3 models
2025-05-18 22:42:58 [INFO] Token counters updated: 2557 input, 367 output
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Extracted 1701 chars from page 1
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:42:58 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99675, Requested 600. Please try again in 3m56.955s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:58 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:42:58 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:58 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:42:58 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:42:58 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99675, Requested 865. Please try again in 7m45.873s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:58 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99675, Requested 865. Please try again in 7m45.873s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:42:58 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:58 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:58 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:42:58 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:58 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:42:58 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:58 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:42:58 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:42:58 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:42:58 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:42:58 [INFO] Use pytorch device_name: mps
2025-05-18 22:42:58 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:43:02 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Duplicate check completed in 0.00s: 1 new, 0 dup, 0 updates
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:43:02 [INFO] [Save_To_LanceDB] Processing completed in 3.82 seconds
2025-05-18 22:43:02 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:43:02 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:02 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:43:02 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:43:02 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:43:02 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:43:02 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1703 characters using simplified LLM approach
2025-05-18 22:43:02 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:43:02 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1703 characters
2025-05-18 22:43:09 [INFO] Token counters updated: 3121 input, 790 output
2025-05-18 22:43:09 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:43:09 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:43:09 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:43:09 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 388/729/565.0
2025-05-18 22:43:09 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 97/182/141.0
2025-05-18 22:43:09 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:43:09 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:43:09 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:43:09 [INFO] Use pytorch device_name: mps
2025-05-18 22:43:09 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:43:13 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:43:13 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:43:13 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:43:13 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:43:13 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:43:13 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:43:13 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:43:13 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:43:13 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:43:13 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:43:13 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.80 seconds
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:43:13 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:43:13 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:13 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:13 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:43:13 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 18.98 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:43:13 [INFO] [E2E_Tests] Pipeline completed in 18.99 seconds
2025-05-18 22:43:13 [INFO] [E2E_Tests] Pipeline completed in 18.99 seconds
2025-05-18 22:43:13 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:43:13 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:13 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as new
2025-05-18 22:43:13 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:13 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:13 [INFO] [Hash_Deduplication] Calculated hashes: MD5=19f764c8e9fe0b2d9e39c31e28954270, SHA256=7dcc9cb0be2a4acaa028a195ad57c9fd268e8fb8ff5856c7245fe5c2a0ab132a
2025-05-18 22:43:13 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:13 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:13 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:13 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf passed hash-based duplicate check
2025-05-18 22:43:13 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:13 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:13 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf' to images...
2025-05-18 22:43:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:13 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:13 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:13 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:43:14 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_extra_end/page_001.png
2025-05-18 22:43:14 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:43:14 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:43:14 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:43:14 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:43:14 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:43:14 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:43:16 [INFO] Token counters updated: 5678 input, 1269 output
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Extracted 2039 chars from page 1
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf from page summaries...
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:43:16 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99653, Requested 600. Please try again in 3m38.466999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:43:16 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:43:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:16 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:43:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:43:16 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99653, Requested 952. Please try again in 8m42.554s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:43:16 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99653, Requested 952. Please try again in 8m42.554s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:43:16 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:43:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:16 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:43:16 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:43:16 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:16 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:43:16 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:43:16 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:43:16 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:43:16 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:43:16 [INFO] Use pytorch device_name: mps
2025-05-18 22:43:16 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:43:22 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_extra_end_combined is completely new (all 1 pages are new)
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:43:22 [INFO] [Save_To_LanceDB] Processing completed in 5.84 seconds
2025-05-18 22:43:22 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:43:22 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:22 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:43:22 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:43:22 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:43:22 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:22 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2041 characters using simplified LLM approach
2025-05-18 22:43:22 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:43:22 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2041 characters
2025-05-18 22:43:31 [INFO] Token counters updated: 6351 input, 1771 output
2025-05-18 22:43:31 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 22:43:31 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 5
2025-05-18 22:43:31 [INFO] [Integrated_Chunking] üìä Generated 5 chunks
2025-05-18 22:43:31 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 317/497/376.8
2025-05-18 22:43:31 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 79/124/94.0
2025-05-18 22:43:31 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:43:31 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:43:31 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:43:31 [INFO] Use pytorch device_name: mps
2025-05-18 22:43:31 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:43:39 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] üìä Found 3 existing chunks to compare against
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  (similarity: 0.9153)
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_2  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_2  (similarity: 0.8911)
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_2  (similarity: 0.9760)
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_4  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_3  (similarity: 0.8388)
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_5  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_3  (similarity: 0.9586)
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 0 new chunks, 0 duplicate chunks, and 5 similar chunks (total: 5 chunks) in 0.03s
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:43:39 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 5
2025-05-18 22:43:39 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:43:39 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 5
2025-05-18 22:43:39 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 0
2025-05-18 22:43:39 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:43:39 [INFO] [Integrated_Chunking] üìä Deduplication results: 0 new chunks, 0 duplicates, 5 updates
2025-05-18 22:43:39 [INFO] [Integrated_Chunking] üîÑ Adding 5 chunks to LanceDB
2025-05-18 22:43:39 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:43:39 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 22:43:39 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 16.62 seconds
2025-05-18 22:43:39 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:43:39 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:43:39 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:39 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:39 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:39 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_extra_end.pdf'
2025-05-18 22:43:39 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf not found in database
2025-05-18 22:43:39 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:39 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 25.33 seconds for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:43:39 [INFO] [E2E_Tests] Pipeline completed in 25.33 seconds
2025-05-18 22:43:39 [INFO] [E2E_Tests] Pipeline completed in 25.34 seconds
2025-05-18 22:43:39 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 22:43:39 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 22:43:39 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_224339.json
2025-05-18 22:43:39 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_224339.txt
2025-05-18 22:43:39 [ERROR] [E2E_Tests] Scenario 3 FAILED ‚ùå
2025-05-18 22:43:45 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:43:46 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:43:46 [INFO] [E2E_Tests] Running scenario: 4
2025-05-18 22:43:46 [INFO] [E2E_Tests] Starting Scenario 4: Unique Original vs. Unique Reordered
2025-05-18 22:43:46 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:43:46 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:43:46 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:43:46 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:43:46 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:43:46 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:43:46 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 22:43:46 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 22:43:46 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 22:43:46 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:43:46 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 22:43:46 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:43:46 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 22:43:46 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:46 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:46 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:43:46 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 22:43:46 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:43:46 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 22:43:46 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 22:43:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:46 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 22:43:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 22:43:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 22:43:46 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:46 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:43:46 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:43:49 [INFO] Loaded token usage data for 3 models
2025-05-18 22:43:49 [INFO] Token counters updated: 2557 input, 406 output
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Extracted 1959 chars from page 1
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 22:43:49 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99616, Requested 600. Please try again in 3m5.782s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:43:49 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_unique_original.pdf
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:43:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:49 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:43:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:43:49 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99615, Requested 928. Please try again in 7m49.136s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:43:49 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99615, Requested 928. Please try again in 7m49.136s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:43:49 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:43:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:49 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Document title: Document fighter_jet_unique_original.pdf
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:43:49 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 22:43:49 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:43:49 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:43:49 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:43:49 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:43:49 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:43:49 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:43:49 [INFO] Use pytorch device_name: mps
2025-05-18 22:43:49 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 22:43:54 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:43:54 [INFO] [Save_To_LanceDB] Processing completed in 4.64 seconds
2025-05-18 22:43:54 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:43:54 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:43:54 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:43:54 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:43:54 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:43:54 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 22:43:54 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1961 characters using simplified LLM approach
2025-05-18 22:43:54 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:43:54 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1961 characters
2025-05-18 22:44:01 [INFO] Token counters updated: 3162 input, 858 output
2025-05-18 22:44:01 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:44:01 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 22:44:01 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 963 characters
2025-05-18 22:44:34 [INFO] PyTorch version 2.6.0 available.
2025-05-18 22:44:34 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 22:44:34 [INFO] [E2E_Tests] Running scenario: 3
2025-05-18 22:44:34 [INFO] [E2E_Tests] Starting Scenario 3: Extra End Content
2025-05-18 22:44:34 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:44:34 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 22:44:34 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 22:44:34 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 22:44:34 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:44:34 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 22:44:34 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:34 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 22:44:34 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:44:34 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:44:34 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:34 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:34 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 22:44:34 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:34 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:34 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 22:44:34 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:34 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:44:34 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 22:44:34 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:34 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:34 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 22:44:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:34 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:34 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:34 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:44:35 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 22:44:35 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:44:35 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:44:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:44:35 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:44:35 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:44:35 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:44:38 [INFO] Loaded token usage data for 3 models
2025-05-18 22:44:38 [INFO] Token counters updated: 2557 input, 398 output
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Extracted 1835 chars from page 1
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 22:44:38 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99559, Requested 600. Please try again in 2m17.052999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:44:38 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:44:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:38 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:44:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:44:38 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99559, Requested 899. Please try again in 6m35.343s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:44:38 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99559, Requested 899. Please try again in 6m35.343s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:44:38 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:44:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:38 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:44:38 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:44:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:38 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:44:38 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:44:38 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:44:38 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:44:38 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:44:38 [INFO] Use pytorch device_name: mps
2025-05-18 22:44:38 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 22:44:42 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:44:42 [INFO] [Save_To_LanceDB] Processing completed in 3.88 seconds
2025-05-18 22:44:42 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:44:42 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:42 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:44:42 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:44:42 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:44:42 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:42 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1837 characters using simplified LLM approach
2025-05-18 22:44:42 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:44:42 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1837 characters
2025-05-18 22:44:48 [INFO] Token counters updated: 3154 input, 756 output
2025-05-18 22:44:48 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 22:44:48 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 22:44:48 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 22:44:48 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 297/688/506.7
2025-05-18 22:44:48 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 74/172/126.3
2025-05-18 22:44:48 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:44:48 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:44:48 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:44:48 [INFO] Use pytorch device_name: mps
2025-05-18 22:44:48 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:44:53 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.09s
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:44:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 22:44:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:44:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 22:44:53 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 22:44:53 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.09 seconds
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:44:53 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 22:44:53 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 22:44:53 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:44:53 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:44:53 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.33 seconds
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:44:53 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:53 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:53 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:53 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 22:44:53 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 18.49 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 22:44:53 [INFO] [E2E_Tests] Pipeline completed in 18.49 seconds
2025-05-18 22:44:53 [INFO] [E2E_Tests] Pipeline completed in 18.49 seconds
2025-05-18 22:44:53 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 22:44:53 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:53 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as new
2025-05-18 22:44:53 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:53 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:53 [INFO] [Hash_Deduplication] Calculated hashes: MD5=19f764c8e9fe0b2d9e39c31e28954270, SHA256=7dcc9cb0be2a4acaa028a195ad57c9fd268e8fb8ff5856c7245fe5c2a0ab132a
2025-05-18 22:44:53 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:53 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:44:53 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:53 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf passed hash-based duplicate check
2025-05-18 22:44:53 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:53 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_extra_end.pdf' to images...
2025-05-18 22:44:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:53 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_extra_end/page_001.png
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 22:44:53 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 22:44:56 [INFO] Token counters updated: 5711 input, 1178 output
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Extracted 1907 chars from page 1
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf from page summaries...
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_extra_end.pdf...
2025-05-18 22:44:56 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99538, Requested 600. Please try again in 1m58.776999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:44:56 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 22:44:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:56 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 22:44:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 22:44:56 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99538, Requested 919. Please try again in 6m34.339s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:44:56 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99538, Requested 919. Please try again in 6m34.339s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 22:44:56 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:44:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:56 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 22:44:56 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:44:56 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 22:44:56 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:44:56 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 22:44:56 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 22:44:56 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:44:56 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 22:44:56 [INFO] Use pytorch device_name: mps
2025-05-18 22:44:56 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_extra_end/fighter_jet_rocket_launcher_spec_2_extra_end_combined.json
2025-05-18 22:45:03 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_extra_end_combined
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_extra_end_combined is completely new (all 1 pages are new)
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 22:45:03 [INFO] [Save_To_LanceDB] Processing completed in 6.58 seconds
2025-05-18 22:45:03 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 22:45:03 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:45:03 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 22:45:03 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 22:45:03 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 22:45:03 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:45:03 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1909 characters using simplified LLM approach
2025-05-18 22:45:03 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 22:45:03 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1909 characters
2025-05-18 22:45:12 [INFO] Token counters updated: 6333 input, 1607 output
2025-05-18 22:45:12 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 22:45:12 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 22:45:12 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 22:45:12 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 163/682/490.5
2025-05-18 22:45:12 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 40/170/122.0
2025-05-18 22:45:12 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 22:45:12 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 22:45:12 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 22:45:12 [INFO] Use pytorch device_name: mps
2025-05-18 22:45:12 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 22:45:18 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] üìä Found 3 existing chunks to compare against
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  (similarity: 0.9787)
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_2  appears to be new (top similarity: 0.8155 with fighter_jet_rocket_launcher_spec_2.pdf_chunk_2)
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_3  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_3  (similarity: 0.9342)
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] üß© Chunk comparison: fighter_jet_rocket_launcher_spec_2_extra_end.pdf_chunk_4  appears to be new (top similarity: 0.8056 with fighter_jet_rocket_launcher_spec_2.pdf_chunk_3)
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: 2 new chunks, 0 duplicate chunks, and 2 similar chunks (total: 4 chunks) in 0.02s
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 22:45:18 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 22:45:18 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 22:45:18 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 2
2025-05-18 22:45:18 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 2
2025-05-18 22:45:18 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 22:45:18 [INFO] [Integrated_Chunking] üìä Deduplication results: 2 new chunks, 0 duplicates, 2 updates
2025-05-18 22:45:18 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 22:45:18 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 22:45:18 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 7 rows, minimum 256 required
2025-05-18 22:45:18 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 15.40 seconds
2025-05-18 22:45:18 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 22:45:18 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 22:45:18 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:45:18 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:45:18 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 22:45:18 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_extra_end.pdf'
2025-05-18 22:45:18 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_extra_end.pdf not found in database
2025-05-18 22:45:18 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:45:18 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 25.04 seconds for fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-18 22:45:18 [INFO] [E2E_Tests] Pipeline completed in 25.05 seconds
2025-05-18 22:45:18 [INFO] [E2E_Tests] Pipeline completed in 25.05 seconds
2025-05-18 22:45:18 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 22:45:18 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_224518.json
2025-05-18 22:45:18 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_224518.txt
2025-05-18 22:45:18 [INFO] [E2E_Tests] Scenario 3 PASSED ‚úÖ
2025-05-18 23:05:39 [INFO] PyTorch version 2.6.0 available.
2025-05-18 23:05:39 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 23:05:39 [INFO] [E2E_Tests] Running scenario: 1
2025-05-18 23:05:39 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 23:05:39 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:05:39 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 23:05:39 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 23:05:39 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 23:05:39 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:05:39 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:05:39 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:39 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 23:05:39 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:05:39 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:05:39 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:39 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:39 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 23:05:39 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:39 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:39 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 23:05:39 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:39 [INFO] [Hash_Deduplication] File hash check completed in 0.05 seconds. File is unique.
2025-05-18 23:05:39 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 23:05:39 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:39 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:39 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 23:05:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:39 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:39 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:39 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 23:05:39 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 23:05:39 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 23:05:39 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:05:40 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 23:05:40 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 23:05:40 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 23:05:40 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 23:05:40 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 23:05:40 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 23:05:40 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 23:05:42 [INFO] Loaded token usage data for 3 models
2025-05-18 23:05:42 [INFO] Token counters updated: 2557 input, 334 output
2025-05-18 23:05:42 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:05:42 [INFO] [PDF_Parsing] Extracted 1459 chars from page 1
2025-05-18 23:05:42 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 23:05:45 [INFO] Token counters updated: 5114 input, 760 output
2025-05-18 23:05:45 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 23:05:45 [INFO] [PDF_Parsing] Extracted 1971 chars from page 2
2025-05-18 23:05:45 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 23:05:45 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:05:46 [INFO] Token counters updated: 5689 input, 848 output
2025-05-18 23:05:47 [INFO] Token counters updated: 6277 input, 971 output
2025-05-18 23:05:47 [INFO] Token counters updated: 6596 input, 980 output
2025-05-18 23:05:47 [INFO] [PDF_Parsing] Generated document title from summaries: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 23:05:47 [INFO] [PDF_Parsing] Generated title: "Fighter Jet Rocket Launcher Technical Specifications Guide"
2025-05-18 23:05:47 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 23:05:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:47 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 23:05:47 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:47 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 23:05:47 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 23:05:48 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99793, Requested 807. Please try again in 8m37.86s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:05:48 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99793, Requested 807. Please try again in 8m37.86s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:05:48 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 23:05:48 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 23:05:48 [ERROR] [PDF_Parsing] Error processing page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99793, Requested 935. Please try again in 10m28.41s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:05:48 [ERROR] [PDF_Parsing] Error processing metadata for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99793, Requested 935. Please try again in 10m28.41s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:05:48 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:05:48 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:48 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:48 [INFO] [PDF_Parsing] Document title: Fighter Jet Rocket Launcher Technical Specifications Guide
2025-05-18 23:05:48 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 23:05:48 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:05:48 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:05:48 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:05:48 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:05:48 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:05:48 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:05:48 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:05:48 [INFO] Use pytorch device_name: mps
2025-05-18 23:05:48 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:05:54 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:05:54 [INFO] [Save_To_LanceDB] Processing completed in 6.16 seconds
2025-05-18 23:05:54 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:05:54 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:05:54 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:05:54 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 23:05:54 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 23:05:54 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:05:54 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 3434 characters using simplified LLM approach
2025-05-18 23:05:54 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 23:05:54 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 3434 characters
2025-05-18 23:06:07 [INFO] Token counters updated: 7560 input, 1851 output
2025-05-18 23:06:07 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 23:06:07 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 2 oversized chunks, re-chunking them
2025-05-18 23:06:07 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1950 characters
2025-05-18 23:06:15 [INFO] Token counters updated: 8177 input, 2317 output
2025-05-18 23:06:15 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 23:06:15 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 23:06:15 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 912 characters
2025-05-18 23:06:19 [INFO] Token counters updated: 8558 input, 2531 output
2025-05-18 23:06:19 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 23:06:19 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 23:06:19 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 912 characters
2025-05-18 23:06:23 [INFO] Token counters updated: 8939 input, 2739 output
2025-05-18 23:06:23 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 23:06:23 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 23:06:23 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 912 characters
2025-05-18 23:06:29 [INFO] Token counters updated: 9320 input, 2953 output
2025-05-18 23:06:29 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 1 chunks
2025-05-18 23:06:29 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 23:06:29 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 912 characters
2025-05-18 23:06:33 [INFO] Token counters updated: 9701 input, 3168 output
2025-05-18 23:06:33 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 23:06:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 2 chunks
2025-05-18 23:06:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 2 chunks
2025-05-18 23:06:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 2 chunks
2025-05-18 23:06:33 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 5 chunks
2025-05-18 23:06:33 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1478 characters
2025-05-18 23:06:40 [INFO] Token counters updated: 10240 input, 3504 output
2025-05-18 23:06:40 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 5 chunks
2025-05-18 23:06:40 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 10 chunks
2025-05-18 23:06:40 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 10
2025-05-18 23:06:40 [INFO] [Integrated_Chunking] üìä Generated 10 chunks
2025-05-18 23:06:40 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 22/624/333.9
2025-05-18 23:06:40 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 5/156/83.1
2025-05-18 23:06:40 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 23:06:40 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 23:06:40 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 23:06:40 [INFO] Use pytorch device_name: mps
2025-05-18 23:06:40 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:06:47 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_7 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_8 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_9 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_10 has no similar chunks. Marking as new.
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (10 chunks) in 0.02s
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 23:06:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 10
2025-05-18 23:06:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 23:06:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 23:06:47 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 10
2025-05-18 23:06:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 23:06:47 [INFO] [Integrated_Chunking] üìä Deduplication results: 10 new chunks, 0 duplicates, 0 updates
2025-05-18 23:06:47 [INFO] [Integrated_Chunking] üîÑ Adding 10 chunks to LanceDB
2025-05-18 23:06:47 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 23:06:47 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 10 rows, minimum 256 required
2025-05-18 23:06:47 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 52.90 seconds
2025-05-18 23:06:47 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:06:47 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:06:47 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:47 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:47 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 23:06:47 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 23:06:47 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 67.50 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [E2E_Tests] Pipeline completed in 67.50 seconds
2025-05-18 23:06:47 [INFO] [E2E_Tests] Pipeline completed in 67.51 seconds
2025-05-18 23:06:47 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 23:06:47 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 23:06:47 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:06:47 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:06:47 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 23:06:47 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:47 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:47 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:06:47 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 23:06:47 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 23:06:47 [INFO] [E2E_Tests] Pipeline completed in 0.01 seconds
2025-05-18 23:06:47 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 23:06:47 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_230647.json
2025-05-18 23:06:47 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_230647.txt
2025-05-18 23:06:47 [INFO] [E2E_Tests] Scenario 1 PASSED ‚úÖ
2025-05-18 23:06:49 [INFO] [TestReporter] Generating test report...
2025-05-18 23:06:49 [INFO] [TestReporter] HTML report generated: /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/reports/test_report_20250518_230649.html
2025-05-18 23:06:49 [INFO] [TestReporter] Test report generated successfully
2025-05-18 23:06:59 [INFO] PyTorch version 2.6.0 available.
2025-05-18 23:06:59 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 23:06:59 [INFO] [E2E_Tests] Running scenario: 2
2025-05-18 23:06:59 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 23:06:59 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:06:59 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 23:06:59 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 23:06:59 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 23:06:59 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:06:59 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:06:59 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:06:59 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 23:06:59 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 23:06:59 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:06:59 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:06:59 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:06:59 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 23:06:59 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:59 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:06:59 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 23:06:59 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:06:59 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 23:06:59 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 23:06:59 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:06:59 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:06:59 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:06:59 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 23:06:59 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:06:59 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:06:59 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:06:59 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 23:07:02 [INFO] Loaded token usage data for 3 models
2025-05-18 23:07:02 [INFO] Token counters updated: 2557 input, 408 output
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Extracted 2042 chars from page 1
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 23:07:02 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99707, Requested 600. Please try again in 4m24.457999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:07:02 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 23:07:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:02 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 23:07:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 23:07:02 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99707, Requested 950. Please try again in 9m26.798s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:07:02 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99707, Requested 950. Please try again in 9m26.798s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:07:02 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:07:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:02 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 23:07:02 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:07:02 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:02 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:07:02 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:07:02 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:07:02 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:07:02 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:07:02 [INFO] Use pytorch device_name: mps
2025-05-18 23:07:02 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:07:06 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:07:06 [INFO] [Save_To_LanceDB] Processing completed in 4.04 seconds
2025-05-18 23:07:06 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:07:06 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:06 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:07:06 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 23:07:06 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 23:07:06 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:06 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2044 characters using simplified LLM approach
2025-05-18 23:07:06 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 23:07:06 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2044 characters
2025-05-18 23:07:16 [INFO] Token counters updated: 3161 input, 864 output
2025-05-18 23:07:16 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 23:07:16 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 23:07:16 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1044 characters
2025-05-18 23:07:20 [INFO] Token counters updated: 3542 input, 1070 output
2025-05-18 23:07:20 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 16 chunks
2025-05-18 23:07:20 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 18 chunks
2025-05-18 23:07:20 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 18
2025-05-18 23:07:20 [INFO] [Integrated_Chunking] üìä Generated 18 chunks
2025-05-18 23:07:20 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 4/577/112.1
2025-05-18 23:07:20 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 1/144/27.7
2025-05-18 23:07:20 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 23:07:20 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 23:07:20 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 23:07:20 [INFO] Use pytorch device_name: mps
2025-05-18 23:07:20 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:07:27 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_7 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_8 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_9 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_10 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_11 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_12 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_13 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_14 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_15 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_16 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_17 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_18 has no similar chunks. Marking as new.
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (18 chunks) in 0.03s
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 23:07:27 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 18
2025-05-18 23:07:27 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 23:07:27 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 23:07:27 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 18
2025-05-18 23:07:27 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.03 seconds
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 23:07:27 [INFO] [Integrated_Chunking] üìä Deduplication results: 18 new chunks, 0 duplicates, 0 updates
2025-05-18 23:07:27 [INFO] [Integrated_Chunking] üîÑ Adding 18 chunks to LanceDB
2025-05-18 23:07:27 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 23:07:27 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 18 rows, minimum 256 required
2025-05-18 23:07:27 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 20.44 seconds
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:07:27 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:27 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:27 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:27 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 23:07:27 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 27.57 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:27 [INFO] [E2E_Tests] Pipeline completed in 27.57 seconds
2025-05-18 23:07:27 [INFO] [E2E_Tests] Pipeline completed in 27.58 seconds
2025-05-18 23:07:27 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 23:07:27 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:27 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 23:07:27 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:27 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:27 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 23:07:27 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:27 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:27 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:27 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 23:07:27 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:27 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:27 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:27 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 23:07:27 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:27 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:27 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:07:27 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 23:07:30 [INFO] Token counters updated: 6099 input, 1426 output
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Extracted 1584 chars from page 1
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 23:07:30 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99674, Requested 600. Please try again in 3m56.66s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:07:30 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 23:07:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:30 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 23:07:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 23:07:30 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99674, Requested 840. Please try again in 7m23.982s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:07:30 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99674, Requested 840. Please try again in 7m23.982s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:07:30 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:07:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:30 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 23:07:30 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:07:30 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:07:30 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:07:30 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:07:30 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:07:30 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:07:30 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:07:30 [INFO] Use pytorch device_name: mps
2025-05-18 23:07:30 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:07:37 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:07:37 [INFO] [Save_To_LanceDB] Processing completed in 7.35 seconds
2025-05-18 23:07:37 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:07:37 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:07:37 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:37 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 23:07:37 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 23:07:37 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:37 [INFO] [Context_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:37 [INFO] [Context_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:37 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:07:37 [INFO] [Context_Chunking] Retrieved 18 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:37 [INFO] [Context_Chunking] Performing context-aware chunking with 18 reference chunks
2025-05-18 23:07:37 [INFO] [Context_Chunking] Performing context-aware chunking with 18 reference chunks
2025-05-18 23:07:46 [INFO] Token counters updated: 7323 input, 1847 output
2025-05-18 23:07:46 [INFO] [Context_Chunking] Context-aware chunking produced 21 chunks
2025-05-18 23:07:46 [INFO] [Context_Chunking] Created 21 initial chunks
2025-05-18 23:07:49 [INFO] [Context_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 1.0000 (DUPLICATE)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 1.0000
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Skipping duplicate chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001, referencing fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 instead
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9652 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.9652
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.4750)
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8930 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8930
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1579)
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8952 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8952
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.5217)
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8861 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8861
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1849)
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8346 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8346
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.2025)
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8310 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0007 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8310
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0007 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0007 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1013)
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8129 (DIFFERENT)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8129
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8069 (DIFFERENT)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8069
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2: evaluating
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7563 (DIFFERENT)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.7563
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3: evaluating
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8379 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_4
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8379
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_4: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_4 - Reason: Chunks are significantly different (similarity: 0.1515)
2025-05-18 23:07:50 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8898 (SIMILAR)
2025-05-18 23:07:50 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0009 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Similarity: 0.8898
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:50 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0009 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:50 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0009 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.3797)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8526 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0010 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8526
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0010 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0010 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.2917)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9001 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0011 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.9001
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0011 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0011 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.4000)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8586 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0012 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8586
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0012 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0012 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.2553)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8619 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0013 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8619
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0013 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0013 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1720)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8723 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0014 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8723
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0014 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0014 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.2906)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8941 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0015 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8941
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0015 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0015 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.2614)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8612 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0016 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8612
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0016 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0016 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1224)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8731 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0017 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8731
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0017 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0017 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1714)
2025-05-18 23:07:51 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8565 (SIMILAR)
2025-05-18 23:07:51 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0018 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Similarity: 0.8565
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:51 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0018 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:51 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0018 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.2041)
2025-05-18 23:07:52 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8385 (SIMILAR)
2025-05-18 23:07:52 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0019 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Similarity: 0.8385
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:52 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0019 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0019 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.1386)
2025-05-18 23:07:52 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8826 (SIMILAR)
2025-05-18 23:07:52 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0020 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Similarity: 0.8826
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:52 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0020 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0020 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0442)
2025-05-18 23:07:52 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8127 (DIFFERENT)
2025-05-18 23:07:52 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Similarity: 0.8127
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:52 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:07:52 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7982 (DIFFERENT)
2025-05-18 23:07:52 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Similarity: 0.7982
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:52 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_2: evaluating
2025-05-18 23:07:52 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.7300 (DIFFERENT)
2025-05-18 23:07:52 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Similarity: 0.7300
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:52 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_3: evaluating
2025-05-18 23:07:52 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.8301 (SIMILAR)
2025-05-18 23:07:52 [INFO] [Context_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_4
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Similarity: 0.8301
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Decision: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:07:52 [INFO] [Context_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_4: evaluating
2025-05-18 23:07:52 [INFO] [Context_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_4 - Reason: Chunks are significantly different (similarity: 0.3158)
2025-05-18 23:07:52 [INFO] [Context_Chunking] üìä CHUNK DEDUPLICATION SUMMARY FOR fighter_jet_rocket_launcher_spec_2_changed_values.pdf (update of fighter_jet_rocket_launcher_spec_2.pdf):
2025-05-18 23:07:52 [INFO] [Context_Chunking]   ‚Ä¢ Total chunks processed: 21
2025-05-18 23:07:52 [INFO] [Context_Chunking]   ‚Ä¢ Exact duplicates found: 1
2025-05-18 23:07:52 [INFO] [Context_Chunking]   ‚Ä¢ Similar chunks found: 20
2025-05-18 23:07:52 [INFO] [Context_Chunking]   ‚Ä¢ New unique chunks: 0
2025-05-18 23:07:52 [INFO] [Context_Chunking]   ‚Ä¢ Duplicate/similar chunk rate: 100.0%
2025-05-18 23:07:52 [INFO] [Context_Chunking]   ‚Ä¢ Document is a minor update of fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:07:53 [INFO] [Context_Chunking] Processed 20 chunks in 15.24s (1 duplicates, 20 updated, 0 new)
2025-05-18 23:07:53 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:53 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:07:53 [INFO] [Context_Chunking] Opened existing table: document_chunks
2025-05-18 23:07:53 [INFO] [Context_Chunking] Adding missing columns: {'is_replaced', 'replaced_by', 'is_duplicate_marker'}
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0002 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0003 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0004 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0005 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0006 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0007 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0008 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0009 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0010 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0011 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0012 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0013 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0014 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0015 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0016 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0017 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0018 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0019 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0020 to mark as replaced
2025-05-18 23:07:53 [WARNING] [Context_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0021 to mark as replaced
2025-05-18 23:07:53 [INFO] [Context_Chunking] Updated schema with 3 new columns, added 20 new chunks
2025-05-18 23:07:53 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 38 rows, minimum 256 required
2025-05-18 23:07:53 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 23:07:53 [INFO] [Context_Chunking] Memory cleaned up
2025-05-18 23:07:53 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:07:53 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:07:53 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:53 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:53 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:07:53 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 23:07:53 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 23:07:53 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:53 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 26.40 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:07:53 [INFO] [E2E_Tests] Pipeline completed in 26.40 seconds
2025-05-18 23:07:53 [INFO] [E2E_Tests] Pipeline completed in 26.40 seconds
2025-05-18 23:07:53 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 23:07:53 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-18 23:07:53 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_230753.json
2025-05-18 23:07:53 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_230753.txt
2025-05-18 23:07:53 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 23:08:07 [INFO] PyTorch version 2.6.0 available.
2025-05-18 23:08:07 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 23:08:07 [INFO] [E2E_Tests] Running scenario: 4
2025-05-18 23:08:07 [INFO] [E2E_Tests] Starting Scenario 4: Unique Original vs. Unique Reordered
2025-05-18 23:08:07 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:08:07 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 23:08:07 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 23:08:07 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 23:08:07 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:08:07 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:08:07 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_unique_original.pdf
2025-05-18 23:08:07 [INFO] [E2E_Tests]   Expected: All chunks new (baseline)
2025-05-18 23:08:07 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_original.pdf...
2025-05-18 23:08:07 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_original.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:08:07 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_original.pdf
2025-05-18 23:08:07 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 23:08:07 [INFO] [Hash_Deduplication] Calculated hashes: MD5=df1bc33972085d4b4d1b16a1908f8083, SHA256=1da17185e3883a55dedc7afd68e2f50bad73193a33cab1fe808465e0a8234d4b
2025-05-18 23:08:07 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:07 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:07 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 23:08:07 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf
2025-05-18 23:08:07 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 23:08:07 [INFO] [Pipeline_Controller] Document fighter_jet_unique_original.pdf passed hash-based duplicate check
2025-05-18 23:08:07 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_original.pdf
2025-05-18 23:08:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:07 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_original.pdf
2025-05-18 23:08:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_original.pdf' to images...
2025-05-18 23:08:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_original.pdf
2025-05-18 23:08:07 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:07 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_original/page_001.png
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:08:07 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 23:08:11 [INFO] Loaded token usage data for 3 models
2025-05-18 23:08:11 [INFO] Token counters updated: 2557 input, 404 output
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Extracted 1932 chars from page 1
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf from page summaries...
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_original.pdf...
2025-05-18 23:08:11 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99627, Requested 600. Please try again in 3m15.282s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:08:11 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_unique_original.pdf
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 23:08:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:11 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 23:08:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 23:08:11 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99626, Requested 921. Please try again in 7m52.59s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:08:11 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99626, Requested 921. Please try again in 7m52.59s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:08:11 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 23:08:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:11 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_original.pdf
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Document title: Document fighter_jet_unique_original.pdf
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 23:08:11 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_original_combined.json
2025-05-18 23:08:11 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:11 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 23:08:11 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:08:11 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:08:11 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 23:08:11 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:08:11 [INFO] Use pytorch device_name: mps
2025-05-18 23:08:11 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_unique_original/fighter_jet_unique_original_combined.json
2025-05-18 23:08:14 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_unique_original_combined
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_unique_original_combined
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Duplicate check completed in 0.00s: 1 new, 0 dup, 0 updates
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_unique_original_combined is completely new (all 1 pages are new)
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:08:14 [INFO] [Save_To_LanceDB] Processing completed in 3.12 seconds
2025-05-18 23:08:14 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:08:14 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:14 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:08:14 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 23:08:14 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 23:08:14 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_unique_original.pdf
2025-05-18 23:08:14 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1934 characters using simplified LLM approach
2025-05-18 23:08:14 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 23:08:14 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1934 characters
2025-05-18 23:08:22 [INFO] Token counters updated: 3160 input, 855 output
2025-05-18 23:08:22 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 23:08:22 [INFO] [Integrated_Chunking] ‚ö†Ô∏è Found 1 oversized chunks, re-chunking them
2025-05-18 23:08:22 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 938 characters
2025-05-18 23:08:27 [INFO] Token counters updated: 3541 input, 1069 output
2025-05-18 23:08:27 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 2 chunks
2025-05-18 23:08:27 [INFO] [Integrated_Chunking] ‚úÖ After re-chunking oversized chunks, we now have 4 chunks
2025-05-18 23:08:27 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 23:08:27 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 23:08:27 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 309/627/475.8
2025-05-18 23:08:27 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 77/156/118.5
2025-05-18 23:08:27 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 23:08:27 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 23:08:27 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 23:08:27 [INFO] Use pytorch device_name: mps
2025-05-18 23:08:27 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:08:32 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_unique_original.pdf
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_unique_original.pdf
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_unique_original.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (4 chunks) in 0.01s
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 23:08:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 23:08:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 23:08:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 23:08:32 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 4
2025-05-18 23:08:32 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 23:08:32 [INFO] [Integrated_Chunking] üìä Deduplication results: 4 new chunks, 0 duplicates, 0 updates
2025-05-18 23:08:32 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 23:08:32 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 23:08:32 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 23:08:32 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 17.37 seconds
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:08:32 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_unique_original.pdf
2025-05-18 23:08:32 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:32 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:32 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_unique_original.pdf'
2025-05-18 23:08:32 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_unique_original.pdf not found in database
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_unique_original.pdf
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 24.63 seconds for fighter_jet_unique_original.pdf
2025-05-18 23:08:32 [INFO] [E2E_Tests] Pipeline completed in 24.63 seconds
2025-05-18 23:08:32 [INFO] [E2E_Tests] Pipeline completed in 24.64 seconds
2025-05-18 23:08:32 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 23:08:32 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_unique_reordered.pdf
2025-05-18 23:08:32 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as reordered
2025-05-18 23:08:32 [INFO] [E2E_Tests] Running pipeline for fighter_jet_unique_reordered.pdf...
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_unique_reordered.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_unique_reordered.pdf
2025-05-18 23:08:32 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 23:08:32 [INFO] [Hash_Deduplication] Calculated hashes: MD5=2f4915c150890c9fe4de215307b1def2, SHA256=489fed28a42f1496d8e54270613b1f3d6be75b392adae85e9bc4384ae8a12463
2025-05-18 23:08:32 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:32 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:08:32 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf
2025-05-18 23:08:32 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] Document fighter_jet_unique_reordered.pdf passed hash-based duplicate check
2025-05-18 23:08:32 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_unique_reordered.pdf
2025-05-18 23:08:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:32 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_unique_reordered.pdf
2025-05-18 23:08:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_unique_reordered.pdf' to images...
2025-05-18 23:08:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_unique_reordered.pdf
2025-05-18 23:08:32 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:32 [INFO] [PDF_Parsing] PDF has 1 pages
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_unique_reordered/page_001.png
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Generated 1 images from PDF
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:08:32 [INFO] [PDF_Parsing] Extracting content from page 1/1
2025-05-18 23:08:38 [INFO] Token counters updated: 6098 input, 1378 output
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Extracted 1380 chars from page 1
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf from page summaries...
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Generating document title for fighter_jet_unique_reordered.pdf...
2025-05-18 23:08:38 [ERROR] [PDF_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99596, Requested 600. Please try again in 2m48.852999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:08:38 [WARNING] [PDF_Parsing] No summaries available for document title generation: fighter_jet_unique_reordered.pdf
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 23:08:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:38 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 23:08:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Processing metadata for page 1/1
2025-05-18 23:08:38 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99596, Requested 783. Please try again in 5m26.929s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:08:38 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99596, Requested 783. Please try again in 5m26.929s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:08:38 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 23:08:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:38 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_unique_reordered.pdf
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Document title: Document fighter_jet_unique_reordered.pdf
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Pages processed: 1
2025-05-18 23:08:38 [INFO] [PDF_Parsing] Output saved to: fighter_jet_unique_reordered_combined.json
2025-05-18 23:08:38 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:08:38 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 23:08:38 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:08:38 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:08:38 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_unique_reordered/fighter_jet_unique_reordered_combined.json
2025-05-18 23:08:38 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:08:38 [INFO] Use pytorch device_name: mps
2025-05-18 23:08:38 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:24:52 [INFO] PyTorch version 2.6.0 available.
2025-05-18 23:24:53 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 23:24:53 [INFO] [E2E_Tests] Running scenario: 1
2025-05-18 23:24:53 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 23:24:53 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:24:53 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 23:24:53 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 23:24:53 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 23:24:53 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:24:53 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:24:53 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:24:53 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 23:24:53 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:24:53 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:24:53 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:24:53 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:24:53 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 23:24:53 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:24:53 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:24:53 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 23:24:53 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:24:53 [INFO] [Hash_Deduplication] File hash check completed in 0.04 seconds. File is unique.
2025-05-18 23:24:53 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 23:24:53 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:24:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:24:53 [INFO] [PDF_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:24:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 23:24:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:24:53 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:24:53 [INFO] [PDF_Parsing] PDF has 2 pages
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Encoded image for page 2 to base64.
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Generated 2 images from PDF
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 23:24:53 [INFO] [PDF_Parsing] Extracting content from page 1/2
2025-05-18 23:24:56 [INFO] Loaded token usage data for 3 models
2025-05-18 23:24:56 [INFO] Token counters updated: 2557 input, 330 output
2025-05-18 23:24:56 [INFO] [PDF_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:24:56 [INFO] [PDF_Parsing] Extracted 1416 chars from page 1
2025-05-18 23:24:56 [INFO] [PDF_Parsing] Extracting content from page 2/2
2025-05-18 23:24:58 [INFO] Token counters updated: 5114 input, 592 output
2025-05-18 23:24:58 [INFO] [PDF_Parsing] Successfully extracted markdown for page_002
2025-05-18 23:24:58 [INFO] [PDF_Parsing] Extracted 1199 chars from page 2
2025-05-18 23:24:58 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 23:24:58 [INFO] [PDF_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:24:59 [INFO] Token counters updated: 5694 input, 700 output
2025-05-18 23:25:00 [INFO] Token counters updated: 6282 input, 815 output
2025-05-18 23:25:00 [ERROR] [PDF_Parsing] Error generating document title: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99851, Requested 363. Please try again in 3m4.359s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:25:00 [INFO] [PDF_Parsing] Processing pages sequentially...
2025-05-18 23:25:00 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:25:00 [INFO] [PDF_Parsing] GENERATING PAGE METADATA
2025-05-18 23:25:00 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:25:00 [INFO] [PDF_Parsing] Processing page 1...
2025-05-18 23:25:00 [INFO] [PDF_Parsing] Processing metadata for page 1/2
2025-05-18 23:25:00 [ERROR] [PDF_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99851, Requested 793. Please try again in 9m15.823s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:25:00 [ERROR] [PDF_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99851, Requested 793. Please try again in 9m15.823s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:25:00 [INFO] [PDF_Parsing] Processing page 2...
2025-05-18 23:25:00 [INFO] [PDF_Parsing] Processing metadata for page 2/2
2025-05-18 23:25:00 [ERROR] [PDF_Parsing] Error processing page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99851, Requested 739. Please try again in 8m29.118s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:25:00 [ERROR] [PDF_Parsing] Error processing metadata for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99851, Requested 739. Please try again in 8m29.118s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:25:00 [INFO] [PDF_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:25:00 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:25:00 [INFO] [PDF_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:00 [INFO] [PDF_Parsing] Document title: Document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:00 [INFO] [PDF_Parsing] Pages processed: 2
2025-05-18 23:25:00 [INFO] [PDF_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:25:00 [INFO] [PDF_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:25:00 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:25:00 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:25:00 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:25:00 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:25:00 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:25:00 [INFO] Use pytorch device_name: mps
2025-05-18 23:25:00 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:25:06 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:25:06 [INFO] [Save_To_LanceDB] Processing completed in 5.99 seconds
2025-05-18 23:25:06 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:25:06 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:25:06 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:25:06 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 23:25:06 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 23:25:06 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:06 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2619 characters using simplified LLM approach
2025-05-18 23:25:06 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 23:25:06 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2619 characters
2025-05-18 23:25:17 [INFO] Token counters updated: 7074 input, 1418 output
2025-05-18 23:25:17 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 8 chunks
2025-05-18 23:25:17 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 8
2025-05-18 23:25:17 [INFO] [Integrated_Chunking] üìä Generated 8 chunks
2025-05-18 23:25:17 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 144/512/297.6
2025-05-18 23:25:17 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 36/128/74.1
2025-05-18 23:25:17 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 23:25:17 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 23:25:17 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 23:25:17 [INFO] Use pytorch device_name: mps
2025-05-18 23:25:17 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:25:23 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_5 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_6 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_7 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_8 has no similar chunks. Marking as new.
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (8 chunks) in 0.02s
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 23:25:23 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 8
2025-05-18 23:25:23 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 23:25:23 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 23:25:23 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 8
2025-05-18 23:25:23 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.02 seconds
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 23:25:23 [INFO] [Integrated_Chunking] üìä Deduplication results: 8 new chunks, 0 duplicates, 0 updates
2025-05-18 23:25:23 [INFO] [Integrated_Chunking] üîÑ Adding 8 chunks to LanceDB
2025-05-18 23:25:23 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 23:25:23 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 8 rows, minimum 256 required
2025-05-18 23:25:23 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 16.65 seconds
2025-05-18 23:25:23 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:25:23 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:25:23 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:25:23 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:25:23 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 23:25:23 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 23:25:23 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 29.92 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [E2E_Tests] Pipeline completed in 29.92 seconds
2025-05-18 23:25:23 [INFO] [E2E_Tests] Pipeline completed in 29.93 seconds
2025-05-18 23:25:23 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 23:25:23 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 23:25:23 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:25:23 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:25:23 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 23:25:23 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:25:23 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:25:23 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:25:23 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 23:25:23 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 23:25:23 [INFO] [E2E_Tests] Pipeline completed in 0.01 seconds
2025-05-18 23:25:23 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 23:25:23 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_232523.json
2025-05-18 23:25:23 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_232523.txt
2025-05-18 23:25:23 [INFO] [E2E_Tests] Scenario 1 PASSED ‚úÖ
2025-05-18 23:33:40 [INFO] PyTorch version 2.6.0 available.
2025-05-18 23:33:40 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 23:33:40 [INFO] [E2E_Tests] Running scenario: 2
2025-05-18 23:33:40 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 23:33:40 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:33:40 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 23:33:40 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 23:33:40 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 23:33:40 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:33:40 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:33:40 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:40 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 23:33:40 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 23:33:40 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:33:40 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:40 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:40 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 23:33:40 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:33:40 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:33:40 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 23:33:40 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:40 [INFO] [Hash_Deduplication] File hash check completed in 0.00 seconds. File is unique.
2025-05-18 23:33:40 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 23:33:40 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:33:40 [INFO] [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-18 23:33:43 [INFO] Loaded token usage data for 3 models
2025-05-18 23:33:43 [INFO] Token counters updated: 2557 input, 400 output
2025-05-18 23:33:43 [INFO] [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:33:43 [INFO] [Stable_Pdf_Parsing] Extracted 1870 chars from page 1
2025-05-18 23:33:43 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 23:33:43 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 23:33:44 [INFO] Token counters updated: 3131 input, 503 output
2025-05-18 23:33:44 [ERROR] [Stable_Pdf_Parsing] Error generating document title: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99922, Requested 245. Please try again in 2m23.748s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Processing page 1...
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-18 23:33:44 [ERROR] [Stable_Pdf_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99922, Requested 907. Please try again in 11m55.656999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:33:44 [ERROR] [Stable_Pdf_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99922, Requested 907. Please try again in 11m55.656999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Pages processed: 1
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:33:44 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:33:44 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:33:44 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:33:44 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:33:44 [ERROR] [Save_To_LanceDB] Error loading embedding model: name 'ScriptLogger' is not defined
2025-05-18 23:33:44 [INFO] [Save_To_LanceDB] Processing completed in 0.00 seconds
2025-05-18 23:33:44 [ERROR] [Pipeline_Controller] ‚ùå Saving to LanceDB failed for fighter_jet_rocket_launcher_spec_2.pdf (deduplication or DB error)
2025-05-18 23:33:44 [INFO] [E2E_Tests] Pipeline completed in 3.83 seconds
2025-05-18 23:33:44 [INFO] [E2E_Tests] Pipeline completed in 3.84 seconds
2025-05-18 23:33:44 [ERROR] [E2E_Tests]   Step 1 FAILED ‚ùå
2025-05-18 23:33:44 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 23:33:44 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:44 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 23:33:44 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 23:33:44 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:33:44 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:44 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:44 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 23:33:44 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:33:44 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:33:44 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:44 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 23:33:44 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 23:33:44 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:33:44 [INFO] [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-18 23:33:46 [INFO] Token counters updated: 5688 input, 854 output
2025-05-18 23:33:46 [INFO] [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:33:46 [INFO] [Stable_Pdf_Parsing] Extracted 1544 chars from page 1
2025-05-18 23:33:46 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 23:33:46 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 23:33:47 [ERROR] [Stable_Pdf_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99919, Requested 600. Please try again in 7m27.938999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:33:47 [WARNING] [Stable_Pdf_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] Processing page 1...
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-18 23:33:47 [ERROR] [Stable_Pdf_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99919, Requested 830. Please try again in 10m46.602s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:33:47 [ERROR] [Stable_Pdf_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99919, Requested 830. Please try again in 10m46.602s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] Pages processed: 1
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:33:47 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:33:47 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:33:47 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:33:47 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:33:47 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:33:47 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:33:47 [ERROR] [Save_To_LanceDB] Error loading embedding model: name 'ScriptLogger' is not defined
2025-05-18 23:33:47 [INFO] [Save_To_LanceDB] Processing completed in 0.00 seconds
2025-05-18 23:33:47 [ERROR] [Pipeline_Controller] ‚ùå Saving to LanceDB failed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf (deduplication or DB error)
2025-05-18 23:33:47 [INFO] [E2E_Tests] Pipeline completed in 2.52 seconds
2025-05-18 23:33:47 [INFO] [E2E_Tests] Pipeline completed in 2.53 seconds
2025-05-18 23:33:47 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 23:33:47 [ERROR] [E2E_Tests]     - Expected new_chunks=True, got False
2025-05-18 23:33:47 [ERROR] [E2E_Tests]     - Expected updated_chunks=True, got False
2025-05-18 23:33:47 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_233347.json
2025-05-18 23:33:47 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_233347.txt
2025-05-18 23:33:47 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 23:34:40 [INFO] PyTorch version 2.6.0 available.
2025-05-18 23:34:40 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 23:34:40 [INFO] [E2E_Tests] Running scenario: 2
2025-05-18 23:34:40 [INFO] [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-18 23:34:40 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:34:40 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 23:34:40 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 23:34:40 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 23:34:40 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:34:40 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:34:40 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:40 [INFO] [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-18 23:34:40 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 23:34:40 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:34:40 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:40 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:40 [INFO] [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-18 23:34:40 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:40 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:40 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 23:34:40 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:40 [INFO] [Hash_Deduplication] File hash check completed in 0.04 seconds. File is unique.
2025-05-18 23:34:40 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-18 23:34:40 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:34:40 [INFO] [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-18 23:34:44 [INFO] Loaded token usage data for 3 models
2025-05-18 23:34:44 [INFO] Token counters updated: 2557 input, 396 output
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Extracted 1833 chars from page 1
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-18 23:34:44 [ERROR] [Stable_Pdf_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99853, Requested 600. Please try again in 6m30.852s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:34:44 [WARNING] [Stable_Pdf_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Processing page 1...
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-18 23:34:44 [ERROR] [Stable_Pdf_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99853, Requested 898. Please try again in 10m48.276999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:34:44 [ERROR] [Stable_Pdf_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99853, Requested 898. Please try again in 10m48.276999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Pages processed: 1
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:34:44 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:34:44 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:34:44 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:34:44 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:34:44 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:34:44 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:34:44 [INFO] Use pytorch device_name: mps
2025-05-18 23:34:44 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-18 23:34:50 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Duplicate check completed in 0.02s: 1 new, 0 dup, 0 updates
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:34:50 [INFO] [Save_To_LanceDB] Processing completed in 6.25 seconds
2025-05-18 23:34:50 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:34:50 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:34:50 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:34:50 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 23:34:50 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 23:34:50 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:34:50 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 1835 characters using simplified LLM approach
2025-05-18 23:34:50 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 23:34:50 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 1835 characters
2025-05-18 23:34:57 [INFO] Token counters updated: 3153 input, 836 output
2025-05-18 23:34:57 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 3 chunks
2025-05-18 23:34:57 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 3
2025-05-18 23:34:57 [INFO] [Integrated_Chunking] üìä Generated 3 chunks
2025-05-18 23:34:57 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 387/820/594.3
2025-05-18 23:34:57 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 96/205/148.3
2025-05-18 23:34:57 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 23:34:57 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 23:34:57 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 23:34:57 [INFO] Use pytorch device_name: mps
2025-05-18 23:34:57 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:35:03 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (3 chunks) in 0.01s
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 23:35:03 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 3
2025-05-18 23:35:03 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 23:35:03 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 23:35:03 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 3
2025-05-18 23:35:03 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 23:35:03 [INFO] [Integrated_Chunking] üìä Deduplication results: 3 new chunks, 0 duplicates, 0 updates
2025-05-18 23:35:03 [INFO] [Integrated_Chunking] üîÑ Adding 3 chunks to LanceDB
2025-05-18 23:35:03 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 23:35:03 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-18 23:35:03 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 12.72 seconds
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:35:03 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:03 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:03 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:03 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-18 23:35:03 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 22.55 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:03 [INFO] [E2E_Tests] Pipeline completed in 22.55 seconds
2025-05-18 23:35:03 [INFO] [E2E_Tests] Pipeline completed in 22.56 seconds
2025-05-18 23:35:03 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 23:35:03 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:03 [INFO] [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-18 23:35:03 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:03 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:03 [INFO] [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-18 23:35:03 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:03 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:03 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:03 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-18 23:35:03 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-18 23:35:03 [INFO] [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-18 23:35:05 [INFO] Token counters updated: 5710 input, 1184 output
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Extracted 1468 chars from page 1
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-18 23:35:05 [ERROR] [Stable_Pdf_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99828, Requested 600. Please try again in 6m9.296999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:35:05 [WARNING] [Stable_Pdf_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Processing page 1...
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-18 23:35:05 [ERROR] [Stable_Pdf_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99828, Requested 811. Please try again in 9m11.562s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:35:05 [ERROR] [Stable_Pdf_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99828, Requested 811. Please try again in 9m11.562s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Document title: Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Pages processed: 1
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:35:05 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:35:05 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:35:05 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:35:05 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:35:05 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:35:05 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:35:05 [INFO] Use pytorch device_name: mps
2025-05-18 23:35:05 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-18 23:35:12 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:35:12 [INFO] [Save_To_LanceDB] Processing completed in 7.07 seconds
2025-05-18 23:35:12 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:35:12 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:35:12 [INFO] [Pipeline_Controller] üìä Test document detected! Using context-aware chunking for test document with reference to fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:12 [INFO] [Pipeline_Controller] üîÑ Processing document with 1 pages for chunking
2025-05-18 23:35:12 [INFO] [Pipeline_Controller] üîÑ Using context-aware chunking with reference document: fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9000)
2025-05-18 23:35:12 [INFO] [Context_Aware_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:12 [INFO] [Context_Aware_Chunking] Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:12 [INFO] [Context_Aware_Chunking] Using chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf as context
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:12 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:35:12 [INFO] [Context_Aware_Chunking] Retrieved 3 chunks from similar document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:12 [INFO] [Context_Aware_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 23:35:12 [INFO] [Context_Aware_Chunking] Performing context-aware chunking with 3 reference chunks
2025-05-18 23:35:23 [INFO] Token counters updated: 6848 input, 1623 output
2025-05-18 23:35:23 [INFO] [Context_Aware_Chunking] Context-aware chunking produced 1 chunks
2025-05-18 23:35:23 [INFO] [Context_Aware_Chunking] Created 1 initial chunks
2025-05-18 23:35:24 [INFO] [Context_Aware_Chunking] Loaded embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:35:24 [WARNING] [Context_Aware_Chunking] Could not find exact position for chunk 1, using approximate position
2025-05-18 23:35:25 [INFO] [Docs_Deduplication] üìè Embedding comparison - Embedding similarity: 0.9433 (SIMILAR)
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking] üîç Chunk Comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]    Similarity: 0.9433
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]    Decision: evaluating
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]    Reason: Comparing chunks for similarity
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking] ‚ùì Undefined decision for fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 vs fighter_jet_rocket_launcher_spec_2.pdf_chunk_1: evaluating
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking] Chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 replaces fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 - Reason: Chunks are significantly different (similarity: 0.0659)
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking] üìä CHUNK DEDUPLICATION SUMMARY FOR fighter_jet_rocket_launcher_spec_2_changed_values.pdf (update of fighter_jet_rocket_launcher_spec_2.pdf):
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]   ‚Ä¢ Total chunks processed: 1
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]   ‚Ä¢ Similar chunks found: 1
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]   ‚Ä¢ New unique chunks: 0
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]   ‚Ä¢ Duplicate/similar chunk rate: 100.0%
2025-05-18 23:35:25 [INFO] [Context_Aware_Chunking]   ‚Ä¢ Document is a minor update of fighter_jet_rocket_launcher_spec_2.pdf
2025-05-18 23:35:26 [INFO] [Context_Aware_Chunking] Processed 1 chunks in 13.29s (0 duplicates, 1 updated, 0 new)
2025-05-18 23:35:26 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:26 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:35:26 [INFO] [Context_Aware_Chunking] Opened existing table: document_chunks
2025-05-18 23:35:26 [INFO] [Context_Aware_Chunking] Adding missing columns: {'is_replaced', 'replaced_by', 'is_duplicate_marker'}
2025-05-18 23:35:26 [WARNING] [Context_Aware_Chunking] Could not find chunk fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_0001 to mark as replaced
2025-05-18 23:35:26 [INFO] [Context_Aware_Chunking] Updated schema with 3 new columns, added 1 new chunks
2025-05-18 23:35:26 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 23:35:26 [INFO] [Context_Aware_Chunking] Memory cleaned up
2025-05-18 23:35:26 [INFO] [Context_Aware_Chunking] Memory cleaned up
2025-05-18 23:35:26 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:35:26 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:35:26 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:26 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:26 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:35:26 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-18 23:35:26 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-18 23:35:26 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:26 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 23.47 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-18 23:35:26 [INFO] [E2E_Tests] Pipeline completed in 23.47 seconds
2025-05-18 23:35:26 [INFO] [E2E_Tests] Pipeline completed in 23.48 seconds
2025-05-18 23:35:26 [ERROR] [E2E_Tests]   Step 2 FAILED ‚ùå
2025-05-18 23:35:26 [ERROR] [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-18 23:35:26 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_233526.json
2025-05-18 23:35:26 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_233526.txt
2025-05-18 23:35:26 [ERROR] [E2E_Tests] Scenario 2 FAILED ‚ùå
2025-05-18 23:37:23 [INFO] PyTorch version 2.6.0 available.
2025-05-18 23:37:23 [WARNING] [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-18 23:37:23 [INFO] [E2E_Tests] Running scenario: 1
2025-05-18 23:37:23 [INFO] [E2E_Tests] Starting Scenario 1: Baseline Document Ingest & Rerun (Identical Duplicate)
2025-05-18 23:37:23 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:37:23 [INFO] [E2E_Tests] Clearing LanceDB database...
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] Dropping table: document_chunks
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] Dropping table: documents
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] Dropping table: file_hashes
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] Dropping table: requirements
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] üîÑ Script started: Initializing LanceDB tables...
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] üîÑ Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ Successfully connected to LanceDB. Current tables: []
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'documents'.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ 'documents' table is ready for use.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'document_chunks'.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ 'document_chunks' table is ready for use.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'requirements'.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ 'requirements' table is ready for use.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ Successfully created table 'file_hashes'.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ 'file_hashes' table is ready for use.
2025-05-18 23:37:23 [INFO] [LanceDB_Admin] ‚úÖ All LanceDB tables initialized successfully.
2025-05-18 23:37:23 [INFO] [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-18 23:37:23 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:37:23 [INFO] [E2E_Tests] Database cleared successfully
2025-05-18 23:37:23 [INFO] [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:23 [INFO] [E2E_Tests]   Expected: All chunks saved as new
2025-05-18 23:37:23 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:37:23 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:37:23 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:23 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:23 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 23:37:23 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:23 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:23 [INFO] [Hash_Deduplication] File hashes table is empty
2025-05-18 23:37:23 [INFO] [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:23 [INFO] [Hash_Deduplication] File hash check completed in 0.01 seconds. File is unique.
2025-05-18 23:37:23 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf passed hash-based duplicate check
2025-05-18 23:37:23 [INFO] [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf' to images...
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] PDF has 2 pages
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] Saved image for page 1 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_001.png
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] Page 1/2: Saved to page_001.png
2025-05-18 23:37:23 [INFO] [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-18 23:37:24 [INFO] [Stable_Pdf_Parsing] Saved image for page 2 to _03_output/pdf_images/fighter_jet_rocket_launcher_spec/page_002.png
2025-05-18 23:37:24 [INFO] [Stable_Pdf_Parsing] Page 2/2: Saved to page_002.png
2025-05-18 23:37:24 [INFO] [Stable_Pdf_Parsing] Encoded image for page 2 to base64.
2025-05-18 23:37:24 [INFO] [Stable_Pdf_Parsing] Generated 2 images from PDF
2025-05-18 23:37:24 [INFO] [Stable_Pdf_Parsing] Generated 2 images from PDF
2025-05-18 23:37:24 [INFO] [Stable_Pdf_Parsing] Successfully converted PDF to 2 images and encoded them.
2025-05-18 23:37:24 [INFO] [Stable_Pdf_Parsing] Extracting content from page 1/2
2025-05-18 23:37:26 [INFO] Loaded token usage data for 3 models
2025-05-18 23:37:26 [INFO] Token counters updated: 2557 input, 334 output
2025-05-18 23:37:26 [INFO] [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-18 23:37:26 [INFO] [Stable_Pdf_Parsing] Extracted 1501 chars from page 1
2025-05-18 23:37:26 [INFO] [Stable_Pdf_Parsing] Extracting content from page 2/2
2025-05-18 23:37:29 [INFO] Token counters updated: 5114 input, 610 output
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Successfully extracted markdown for page_002
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Extracted 1346 chars from page 2
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf from page summaries...
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:37:29 [ERROR] [Stable_Pdf_Parsing] Error generating summary for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99661, Requested 600. Please try again in 3m45.423s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:37:29 [ERROR] [Stable_Pdf_Parsing] Error generating summary for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99661, Requested 600. Please try again in 3m45.386999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:37:29 [WARNING] [Stable_Pdf_Parsing] No summaries available for document title generation: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Processing page 1...
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Processing metadata for page 1/2
2025-05-18 23:37:29 [ERROR] [Stable_Pdf_Parsing] Error processing page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99661, Requested 815. Please try again in 6m51.115s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:37:29 [ERROR] [Stable_Pdf_Parsing] Error processing metadata for page 1: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99661, Requested 815. Please try again in 6m51.115s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Processing page 2...
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Processing metadata for page 2/2
2025-05-18 23:37:29 [ERROR] [Stable_Pdf_Parsing] Error processing page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99661, Requested 776. Please try again in 6m17.383s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:37:29 [ERROR] [Stable_Pdf_Parsing] Error processing metadata for page 2: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jkdszad0fe7sd3013nmqcwx3` service tier `on_demand` on tokens per day (TPD): Limit 100000, Used 99661, Requested 776. Please try again in 6m17.383s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] All extracted page data combined and saved to _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Document title: Document fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Pages processed: 2
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:37:29 [INFO] [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-18 23:37:29 [INFO] [Pipeline_Controller] Document parsing completed: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:37:29 [INFO] [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-18 23:37:29 [INFO] [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-18 23:37:29 [INFO] [Save_To_LanceDB] Processing specified document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:37:29 [INFO] [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-18 23:37:29 [INFO] Use pytorch device_name: mps
2025-05-18 23:37:29 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Model loaded successfully
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Loading document: _03_output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-18 23:37:35 [WARNING] [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Checking for document duplicates
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_combined
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_combined
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] No similar pages found for page 1. It's new.
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Not creating index: documents has only 0 rows, minimum 256 required
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] üìä Document deduplication summary: fighter_jet_rocket_launcher_spec_combined is completely new (all 1 pages are new)
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Connected to LanceDB
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Opening existing table: documents
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] New pages added successfully
2025-05-18 23:37:35 [INFO] [Save_To_LanceDB] Processing completed in 5.75 seconds
2025-05-18 23:37:35 [INFO] [Pipeline_Controller] ‚úÖ Document saved to LanceDB successfully
2025-05-18 23:37:35 [INFO] [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:35 [INFO] [Docs_Deduplication] Successfully connected to LanceDB
2025-05-18 23:37:35 [INFO] [Pipeline_Controller] üîÑ Processing document with 2 pages for chunking
2025-05-18 23:37:35 [INFO] [Pipeline_Controller] üîÑ Using standard chunking for new document
2025-05-18 23:37:35 [INFO] [Integrated_Chunking] üöÄ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:35 [INFO] [Integrated_Chunking] üîÑ Chunking markdown text of 2851 characters using simplified LLM approach
2025-05-18 23:37:35 [INFO] [Integrated_Chunking] üîÑ Processing section 1/1
2025-05-18 23:37:35 [INFO] [Integrated_Chunking] üîÑ Asking LLM to chunk text of 2851 characters
2025-05-18 23:37:42 [INFO] Token counters updated: 5923 input, 1121 output
2025-05-18 23:37:42 [INFO] [Integrated_Chunking] ‚úÖ LLM provided 4 chunks
2025-05-18 23:37:42 [INFO] [Integrated_Chunking] ‚úÖ Completed chunking. Total chunks: 4
2025-05-18 23:37:42 [INFO] [Integrated_Chunking] üìä Generated 4 chunks
2025-05-18 23:37:42 [INFO] [Integrated_Chunking]    Min/Max/Avg chars: 243/830/549.0
2025-05-18 23:37:42 [INFO] [Integrated_Chunking]    Min/Max/Avg tokens: 60/207/136.8
2025-05-18 23:37:42 [INFO] [Integrated_Chunking] üîÑ Connecting to LanceDB at _03_output/lancedb
2025-05-18 23:37:42 [INFO] [Integrated_Chunking] ‚úÖ Opened existing document_chunks table
2025-05-18 23:37:42 [INFO] [Integrated_Chunking] üîÑ Loading embedding model
2025-05-18 23:37:42 [INFO] Use pytorch device_name: mps
2025-05-18 23:37:42 [INFO] Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-18 23:37:47 [INFO] [Integrated_Chunking] üîÑ Performing chunk-level deduplication
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] 
================================================================================
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] ================================================================================
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_2 has no similar chunks. Marking as new.
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_3 has no similar chunks. Marking as new.
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] üÜï Chunk fighter_jet_rocket_launcher_spec.pdf_chunk_4 has no similar chunks. Marking as new.
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] üìä Chunk deduplication summary: all new chunks (4 chunks) in 0.01s
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] 
--------------------------------------------------
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-18 23:37:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Total chunks processed: 4
2025-05-18 23:37:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Exact duplicates found: 0
2025-05-18 23:37:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Similar chunks found: 0
2025-05-18 23:37:47 [INFO] [Docs_Deduplication]   ‚Ä¢ New unique chunks: 4
2025-05-18 23:37:47 [INFO] [Docs_Deduplication]   ‚Ä¢ Processing time: 0.01 seconds
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] --------------------------------------------------

2025-05-18 23:37:47 [INFO] [Integrated_Chunking] üìä Deduplication results: 4 new chunks, 0 duplicates, 0 updates
2025-05-18 23:37:47 [INFO] [Integrated_Chunking] üîÑ Adding 4 chunks to LanceDB
2025-05-18 23:37:47 [INFO] [Integrated_Chunking] ‚úÖ Chunks successfully saved to LanceDB
2025-05-18 23:37:47 [INFO] [Docs_Deduplication] Not creating index: document_chunks has only 4 rows, minimum 256 required
2025-05-18 23:37:47 [INFO] [Integrated_Chunking] ‚úÖ Document processing completed in 11.95 seconds
2025-05-18 23:37:47 [INFO] [Pipeline_Controller] ‚úÖ Chunking completed successfully
2025-05-18 23:37:47 [INFO] [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-18 23:37:47 [INFO] [Extract_Requirements] üîÑ Processing document: fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:47 [INFO] [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:47 [WARNING] [Extract_Requirements] ‚ö†Ô∏è No document info found for 'fighter_jet_rocket_launcher_spec.pdf'
2025-05-18 23:37:47 [ERROR] [Extract_Requirements] ‚ùå Document fighter_jet_rocket_launcher_spec.pdf not found in database
2025-05-18 23:37:47 [INFO] [Pipeline_Controller] ‚úÖ Requirements extraction completed for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Pipeline_Controller] üèÅ Pipeline completed in 23.69 seconds for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [E2E_Tests] Pipeline completed in 23.70 seconds
2025-05-18 23:37:47 [INFO] [E2E_Tests] Pipeline completed in 23.70 seconds
2025-05-18 23:37:47 [INFO] [E2E_Tests]   Step 1 PASSED ‚úÖ
2025-05-18 23:37:47 [INFO] [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [E2E_Tests]   Expected: Detected as duplicate (hash match)
2025-05-18 23:37:47 [INFO] [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec.pdf...
2025-05-18 23:37:47 [INFO] [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-18 23:37:47 [INFO] [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Hash_Deduplication] Calculated hashes: MD5=fbd7bf933f9af28b81a9c7ce07784ecc, SHA256=e63cfc459554cf0dd0a8afed27c45540fecb703374461514ef34d50bff748739
2025-05-18 23:37:47 [INFO] [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:47 [INFO] [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/_03_output/lancedb
2025-05-18 23:37:47 [INFO] [Hash_Deduplication] Found SHA256 hash match: /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Hash_Deduplication] File /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf is a duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf
2025-05-18 23:37:47 [INFO] [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec.pdf is an exact duplicate of /Users/fabio/Agentic_AI/Requify_V2/_01_input/raw/fighter_jet_rocket_launcher_spec.pdf (by hash). Aborting further processing.
2025-05-18 23:37:47 [INFO] [E2E_Tests] Pipeline completed in 0.00 seconds
2025-05-18 23:37:47 [INFO] [E2E_Tests] Pipeline completed in 0.01 seconds
2025-05-18 23:37:47 [INFO] [E2E_Tests]   Step 2 PASSED ‚úÖ
2025-05-18 23:37:47 [INFO] [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_results_20250518_233747.json
2025-05-18 23:37:47 [INFO] [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/e2e_test_summary_20250518_233747.txt
2025-05-18 23:37:47 [INFO] [E2E_Tests] Scenario 1 PASSED ‚úÖ
2025-05-18 23:37:49 [INFO] [TestReporter] Generating test report...
2025-05-18 23:37:49 [INFO] [TestReporter] HTML report generated: /Users/fabio/Agentic_AI/Requify_V2/_03_output/test_results/reports/test_report_20250518_233749.html
2025-05-18 23:37:49 [INFO] [TestReporter] Test report generated successfully
