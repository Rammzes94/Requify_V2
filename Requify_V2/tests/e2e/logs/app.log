2025-05-19 00:07:28 [INFO] 🧠 (stable_pdf_parsing:93) - [Stable_Pdf_Parsing] Using OpenAI models for processing
2025-05-19 00:07:28 [INFO] 🧠 (integrated_chunking:122) - [Integrated_Chunking] Using OpenAI models for chunking
2025-05-19 00:07:32 [INFO] ℹ️ (config:54) - PyTorch version 2.6.0 available.
2025-05-19 00:07:32 [INFO] 🧠 (pre_save_reqs_deduplication:74) - [Reqs_Deduplication] Model provider for requirements deduplication: openai
2025-05-19 00:07:32 [WARNING] ⚠️ (extract_requirements:56) - [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-19 00:07:32 [INFO] 🧠 (extract_requirements:87) - [Extract_Requirements] Using OpenAI models for requirements extraction
2025-05-19 00:07:32 [INFO] 🎯 (test_scenarios:576) - [E2E_Tests] Running scenario: 2
2025-05-19 00:07:32 [INFO] 🚀 (test_scenarios:470) - [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-19 00:07:32 [INFO] 🧹 (test_scenarios:473) - [E2E_Tests] Clearing LanceDB database...
2025-05-19 00:07:32 [INFO] 🧹 (test_scenarios:374) - [E2E_Tests] Clearing LanceDB database...
2025-05-19 00:07:32 [INFO] 🔄 (reset_lancedb:38) - [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:07:32 [INFO] ✅ (reset_lancedb:40) - [Reset_LanceDB] Connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-19 00:07:32 [INFO] 🗑️ (reset_lancedb:45) - [Reset_LanceDB] Dropping table: document_chunks
2025-05-19 00:07:32 [INFO] 🗑️ (reset_lancedb:45) - [Reset_LanceDB] Dropping table: documents
2025-05-19 00:07:32 [INFO] 🗑️ (reset_lancedb:45) - [Reset_LanceDB] Dropping table: file_hashes
2025-05-19 00:07:32 [INFO] 🗑️ (reset_lancedb:45) - [Reset_LanceDB] Dropping table: requirements
2025-05-19 00:07:32 [INFO] ✅ (reset_lancedb:48) - [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-19 00:07:32 [INFO] 📋 (init_lancedb:160) - [LanceDB_Admin] 🔄 Script started: Initializing LanceDB tables...
2025-05-19 00:07:32 [INFO] 🛢️ (init_lancedb:169) - [LanceDB_Admin] ✅ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/tests/e2e/output/lancedb
2025-05-19 00:07:32 [INFO] 🔌 (init_lancedb:174) - [LanceDB_Admin] 🔄 Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/tests/e2e/output/lancedb
2025-05-19 00:07:32 [INFO] 🔌 (init_lancedb:177) - [LanceDB_Admin] ✅ Successfully connected to LanceDB. Current tables: []
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:147) - [LanceDB_Admin] Table 'documents' does not exist. Attempting to create it now...
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:150) - [LanceDB_Admin] ✅ Successfully created table 'documents'.
2025-05-19 00:07:32 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'documents' table is ready for use.
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:147) - [LanceDB_Admin] Table 'document_chunks' does not exist. Attempting to create it now...
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:150) - [LanceDB_Admin] ✅ Successfully created table 'document_chunks'.
2025-05-19 00:07:32 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'document_chunks' table is ready for use.
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:147) - [LanceDB_Admin] Table 'requirements' does not exist. Attempting to create it now...
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:150) - [LanceDB_Admin] ✅ Successfully created table 'requirements'.
2025-05-19 00:07:32 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'requirements' table is ready for use.
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:147) - [LanceDB_Admin] Table 'file_hashes' does not exist. Attempting to create it now...
2025-05-19 00:07:32 [INFO] 📝 (init_lancedb:150) - [LanceDB_Admin] ✅ Successfully created table 'file_hashes'.
2025-05-19 00:07:32 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'file_hashes' table is ready for use.
2025-05-19 00:07:32 [INFO] 📋 (init_lancedb:201) - [LanceDB_Admin] ✅ All LanceDB tables initialized successfully.
2025-05-19 00:07:32 [INFO] ✅ (reset_lancedb:55) - [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-19 00:07:32 [INFO] ✅ (test_scenarios:376) - [E2E_Tests] Database cleared successfully
2025-05-19 00:07:32 [INFO] ✅ (test_scenarios:475) - [E2E_Tests] Database cleared successfully
2025-05-19 00:07:32 [INFO] 📄 (test_scenarios:484) - [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:07:32 [INFO] 🎯 (test_scenarios:485) - [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-19 00:07:32 [INFO] 🚀 (test_scenarios:398) - [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-19 00:07:32 [INFO] 🚀 (pipeline_controller:103) - [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-19 00:07:32 [INFO] 🔐 (pipeline_controller:107) - [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:07:32 [INFO] 🔍 (file_hash_deduplication:215) - [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:07:32 [INFO] 🔢 (file_hash_deduplication:220) - [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-19 00:07:32 [INFO] 🔄 (file_hash_deduplication:56) - [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:07:32 [INFO] ✅ (file_hash_deduplication:59) - [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:07:32 [ERROR] ❌ (file_hash_deduplication:225) - [Hash_Deduplication] Failed to connect to LanceDB database
2025-05-19 00:07:32 [INFO] ✅ (pipeline_controller:114) - [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-19 00:07:32 [INFO] 📑 (pipeline_controller:122) - [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:07:32 [INFO] 🔍 (stable_pdf_parsing:298) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:07:32 [INFO] 🔍 (stable_pdf_parsing:299) - [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:07:32 [INFO] 🔍 (stable_pdf_parsing:300) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:07:32 [INFO] 🔄 (stable_pdf_parsing:177) - [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-19 00:07:32 [INFO] 📄 (stable_pdf_parsing:179) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:07:32 [INFO] 📄 (stable_pdf_parsing:180) - [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:07:32 [INFO] 📄 (stable_pdf_parsing:181) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:07:32 [INFO] 📄 (stable_pdf_parsing:196) - [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-19 00:07:32 [INFO] ✈️ (stable_pdf_parsing:207) - [Stable_Pdf_Parsing] Saved image for page 1 to output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-19 00:07:32 [INFO] 📄 (stable_pdf_parsing:209) - [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-19 00:07:32 [INFO] 📑 (stable_pdf_parsing:214) - [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-19 00:07:32 [INFO] ✅ (stable_pdf_parsing:220) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:07:32 [INFO] ✅ (stable_pdf_parsing:222) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:07:32 [INFO] ✅ (stable_pdf_parsing:306) - [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-19 00:07:32 [INFO] 🔍 (stable_pdf_parsing:321) - [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-19 00:07:43 [INFO] 📊 (_00_utils:724) - Loaded token usage data for 3 models
2025-05-19 00:07:43 [INFO] 🔢 (_00_utils:108) - Token counters updated: 1335 input, 360 output
2025-05-19 00:07:43 [INFO] 📊 (_00_utils:1149) - Generated token usage text report: /Users/fabio/Agentic_AI/Requify_V2/output/token_tracking/reports/token_report_2025-05-19.txt
2025-05-19 00:07:43 [INFO] 📊 (_00_utils:1150) - Generated token summary HTML: /Users/fabio/Agentic_AI/Requify_V2/output/token_tracking/reports/token_summary_2025-05-19.html
2025-05-19 00:07:43 [INFO] ✅ (stable_pdf_parsing:342) - [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-19 00:07:43 [INFO] ✅ (stable_pdf_parsing:345) - [Stable_Pdf_Parsing] Extracted 1664 chars from page 1
2025-05-19 00:07:43 [INFO] 🔤 (stable_pdf_parsing:231) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-19 00:07:43 [INFO] 🔤 (stable_pdf_parsing:233) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-19 00:09:44 [INFO] 🔢 (_00_utils:108) - Token counters updated: 1898 input, 463 output
2025-05-19 00:09:45 [INFO] 🔢 (_00_utils:108) - Token counters updated: 2109 input, 469 output
2025-05-19 00:09:45 [INFO] ✈️ (stable_pdf_parsing:275) - [Stable_Pdf_Parsing] Generated document title from summaries: Advanced Fighter Jet Rocket Launcher Specifications
2025-05-19 00:09:45 [INFO] ✅ (stable_pdf_parsing:278) - [Stable_Pdf_Parsing] Generated title: "Advanced Fighter Jet Rocket Launcher Specifications"
2025-05-19 00:09:45 [INFO] ⚙️ (stable_pdf_parsing:366) - [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-19 00:09:45 [INFO] 🔄 (stable_pdf_parsing:370) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:09:45 [INFO] 🔄 (stable_pdf_parsing:371) - [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-19 00:09:45 [INFO] 🔄 (stable_pdf_parsing:372) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:09:45 [INFO] ⚙️ (stable_pdf_parsing:387) - [Stable_Pdf_Parsing] Processing page 1...
2025-05-19 00:09:45 [INFO] 🔄 (stable_pdf_parsing:390) - [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-19 00:09:48 [INFO] 🔢 (_00_utils:108) - Token counters updated: 2863 input, 615 output
2025-05-19 00:09:48 [INFO] ⚙️ (stable_pdf_parsing:442) - [Stable_Pdf_Parsing] Successfully processed page 1
2025-05-19 00:09:48 [INFO] ✅ (stable_pdf_parsing:447) - [Stable_Pdf_Parsing] Page 1: Generated summary and hashtags: rocket_launcher, fighter_jet, specifications, performance_metrics, operational_features...
2025-05-19 00:09:48 [INFO] ✈️ (stable_pdf_parsing:479) - [Stable_Pdf_Parsing] All extracted page data combined and saved to output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:09:48 [INFO] ✅ (stable_pdf_parsing:482) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:09:48 [INFO] ✅ (stable_pdf_parsing:483) - [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:09:48 [INFO] 📄 (stable_pdf_parsing:484) - [Stable_Pdf_Parsing] Document title: Advanced Fighter Jet Rocket Launcher Specifications
2025-05-19 00:09:48 [INFO] 📄 (stable_pdf_parsing:485) - [Stable_Pdf_Parsing] Pages processed: 1
2025-05-19 00:09:48 [INFO] 📄 (stable_pdf_parsing:486) - [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:09:48 [INFO] ✅ (stable_pdf_parsing:487) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:09:48 [INFO] ✅ (pipeline_controller:135) - [Pipeline_Controller] Document parsing completed: output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:09:48 [INFO] 🔍 (pipeline_controller:143) - [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-19 00:09:48 [INFO] 💾 (pipeline_controller:264) - [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-19 00:09:48 [INFO] 📄 (stable_save_to_lancedb:381) - [Save_To_LanceDB] Processing specified document: output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:09:48 [INFO] 🧠 (stable_save_to_lancedb:271) - [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-19 00:09:48 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:09:48 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:09:54 [INFO] ✅ (stable_save_to_lancedb:283) - [Save_To_LanceDB] Model loaded successfully
2025-05-19 00:09:54 [INFO] 🔄 (stable_save_to_lancedb:86) - [Save_To_LanceDB] Loading document: output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:09:54 [WARNING] ⚠️ (stable_save_to_lancedb:112) - [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-19 00:09:54 [INFO] ✅ (stable_save_to_lancedb:169) - [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-19 00:09:54 [INFO] 🔄 (stable_save_to_lancedb:172) - [Save_To_LanceDB] Checking for document duplicates
2025-05-19 00:09:54 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:09:54 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:09:54 [INFO] 🔍 (pre_save_deduplication:813) - [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-19 00:09:54 [INFO] 🔄 (pre_save_deduplication:606) - [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-19 00:09:54 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:09:54 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:09:54 [INFO] ✅ (pre_save_deduplication:614) - [Docs_Deduplication] No existing database or table found. All 1 pages are new.
2025-05-19 00:09:54 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:09:54 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:09:54 [INFO] 🆕 (pre_save_deduplication:193) - [Docs_Deduplication] 📊 Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-19 00:09:54 [INFO] 📊 (stable_save_to_lancedb:210) - [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-19 00:09:54 [INFO] 🔌 (stable_save_to_lancedb:303) - [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:09:54 [INFO] ✅ (stable_save_to_lancedb:305) - [Save_To_LanceDB] Connected to LanceDB
2025-05-19 00:09:54 [INFO] 🆕 (stable_save_to_lancedb:252) - [Save_To_LanceDB] Creating new table: documents
2025-05-19 00:09:54 [INFO] ➕ (stable_save_to_lancedb:316) - [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-19 00:09:54 [INFO] ✅ (stable_save_to_lancedb:318) - [Save_To_LanceDB] New pages added successfully
2025-05-19 00:09:54 [INFO] ⏱️ (stable_save_to_lancedb:385) - [Save_To_LanceDB] Processing completed in 5.89 seconds
2025-05-19 00:09:54 [INFO] ✅ (pipeline_controller:277) - [Pipeline_Controller] ✅ Document saved to LanceDB successfully
2025-05-19 00:09:54 [INFO] 🔄 (pipeline_controller:285) - [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-19 00:09:54 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:09:54 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:09:54 [INFO] 🔄 (pipeline_controller:483) - [Pipeline_Controller] 🔄 Processing document with 1 pages for chunking
2025-05-19 00:09:54 [INFO] 🔄 (pipeline_controller:505) - [Pipeline_Controller] 🔄 Using standard chunking for new document
2025-05-19 00:09:54 [INFO] ✈️ (integrated_chunking:341) - [Integrated_Chunking] 🚀 Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:09:54 [INFO] 🧩 (integrated_chunking:291) - [Integrated_Chunking] 🔄 Chunking markdown text of 1666 characters using simplified LLM approach
2025-05-19 00:09:54 [INFO] ⚙️ (integrated_chunking:298) - [Integrated_Chunking] 🔄 Processing section 1/1
2025-05-19 00:09:54 [INFO] 🧩 (integrated_chunking:193) - [Integrated_Chunking] 🔄 Asking LLM to chunk text of 1666 characters
2025-05-19 00:10:05 [INFO] 🔢 (_00_utils:108) - Token counters updated: 3419 input, 1028 output
2025-05-19 00:10:05 [INFO] 🧩 (integrated_chunking:266) - [Integrated_Chunking] ✅ LLM provided 1 chunks
2025-05-19 00:10:05 [INFO] ✅ (integrated_chunking:302) - [Integrated_Chunking] ✅ Completed chunking. Total chunks: 1
2025-05-19 00:10:05 [INFO] 🧩 (integrated_chunking:352) - [Integrated_Chunking] 📊 Generated 1 chunks
2025-05-19 00:10:05 [INFO] 🧩 (integrated_chunking:353) - [Integrated_Chunking]    Min/Max/Avg chars: 1664/1664/1664.0
2025-05-19 00:10:05 [INFO] 🧩 (integrated_chunking:354) - [Integrated_Chunking]    Min/Max/Avg tokens: 416/416/416.0
2025-05-19 00:10:05 [INFO] 🔌 (integrated_chunking:365) - [Integrated_Chunking] 🔄 Connecting to LanceDB at output/lancedb
2025-05-19 00:10:05 [INFO] 🧩 (integrated_chunking:393) - [Integrated_Chunking] ✅ Opened existing document_chunks table
2025-05-19 00:10:05 [INFO] 🧮 (integrated_chunking:402) - [Integrated_Chunking] 🔄 Loading embedding model
2025-05-19 00:10:05 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:10:05 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:10:11 [INFO] 🧩 (integrated_chunking:451) - [Integrated_Chunking] 🔄 Performing chunk-level deduplication
2025-05-19 00:10:11 [INFO] 🧩 (pre_save_deduplication:375) - [Docs_Deduplication] 
================================================================================
2025-05-19 00:10:11 [INFO] 🧩 (pre_save_deduplication:376) - [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:10:11 [INFO] 🧩 (pre_save_deduplication:377) - [Docs_Deduplication] ================================================================================
2025-05-19 00:10:11 [INFO] 🔄 (pre_save_deduplication:379) - [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:10:11 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: document_chunks has only 0 rows, minimum 256 required
2025-05-19 00:10:11 [INFO] 🆕 (pre_save_deduplication:522) - [Docs_Deduplication] 🆕 Chunk fighter_jet_rocket_launcher_spec_2.pdf_chunk_1 has no similar chunks. Marking as new.
2025-05-19 00:10:11 [INFO] 🆕 (pre_save_deduplication:235) - [Docs_Deduplication] 📊 Chunk deduplication summary: all new chunks (1 chunks) in 0.03s
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:575) - [Docs_Deduplication] 
--------------------------------------------------
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:576) - [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:577) - [Docs_Deduplication]   • Total chunks processed: 1
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:578) - [Docs_Deduplication]   • Exact duplicates found: 0
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:579) - [Docs_Deduplication]   • Similar chunks found: 0
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:580) - [Docs_Deduplication]   • New unique chunks: 1
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:581) - [Docs_Deduplication]   • Processing time: 0.03 seconds
2025-05-19 00:10:11 [INFO] 📊 (pre_save_deduplication:582) - [Docs_Deduplication] --------------------------------------------------

2025-05-19 00:10:11 [INFO] ♻️ (integrated_chunking:466) - [Integrated_Chunking] 📊 Deduplication results: 1 new chunks, 0 duplicates, 0 updates
2025-05-19 00:10:11 [INFO] 🛢️ (integrated_chunking:470) - [Integrated_Chunking] 🔄 Adding 1 chunks to LanceDB
2025-05-19 00:10:11 [INFO] 🛢️ (integrated_chunking:472) - [Integrated_Chunking] ✅ Chunks successfully saved to LanceDB
2025-05-19 00:10:11 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: document_chunks has only 1 rows, minimum 256 required
2025-05-19 00:10:11 [INFO] ⚙️ (integrated_chunking:480) - [Integrated_Chunking] ✅ Document processing completed in 16.84 seconds
2025-05-19 00:10:11 [INFO] ✅ (pipeline_controller:513) - [Pipeline_Controller] ✅ Chunking completed successfully
2025-05-19 00:10:11 [INFO] 📚 (pipeline_controller:525) - [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-19 00:10:11 [INFO] ✈️ (extract_requirements:586) - [Extract_Requirements] 🔄 Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:10:11 [INFO] 🔄 (extract_requirements:310) - [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:11 [INFO] ✅ (extract_requirements:312) - [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:11 [WARNING] ✈️ (extract_requirements:523) - [Extract_Requirements] ⚠️ No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-19 00:10:11 [ERROR] ✈️ (extract_requirements:597) - [Extract_Requirements] ❌ Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-19 00:10:11 [INFO] ✅ (pipeline_controller:537) - [Pipeline_Controller] ✅ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:10:11 [INFO] 🏁 (pipeline_controller:543) - [Pipeline_Controller] 🏁 Pipeline completed in 159.29 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:10:11 [INFO] ⏱️ (test_scenarios:442) - [E2E_Tests] Pipeline completed in 159.29 seconds
2025-05-19 00:10:11 [INFO] ⏱️ (test_scenarios:492) - [E2E_Tests] Pipeline completed in 159.29 seconds
2025-05-19 00:10:11 [INFO] ✅ (test_scenarios:498) - [E2E_Tests]   Step 1 PASSED ✅
2025-05-19 00:10:11 [INFO] 📄 (test_scenarios:484) - [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:11 [INFO] 🎯 (test_scenarios:485) - [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-19 00:10:11 [INFO] 🚀 (test_scenarios:398) - [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-19 00:10:11 [INFO] 🚀 (pipeline_controller:103) - [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-19 00:10:11 [INFO] 🔐 (pipeline_controller:107) - [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:11 [INFO] 🔍 (file_hash_deduplication:215) - [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:11 [INFO] 🔢 (file_hash_deduplication:220) - [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-19 00:10:11 [INFO] 🔄 (file_hash_deduplication:56) - [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:11 [INFO] ✅ (file_hash_deduplication:59) - [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:11 [INFO] ℹ️ (file_hash_deduplication:109) - [Hash_Deduplication] File hashes table file_hashes does not exist yet
2025-05-19 00:10:11 [INFO] 🆕 (file_hash_deduplication:161) - [Hash_Deduplication] Creating new file hashes table: file_hashes
2025-05-19 00:10:11 [INFO] ✅ (file_hash_deduplication:190) - [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:11 [INFO] ✅ (file_hash_deduplication:239) - [Hash_Deduplication] File hash check completed in 0.02 seconds. File is unique.
2025-05-19 00:10:11 [INFO] ✅ (pipeline_controller:114) - [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-19 00:10:11 [INFO] 📑 (pipeline_controller:122) - [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:11 [INFO] 🔍 (stable_pdf_parsing:298) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:11 [INFO] 🔍 (stable_pdf_parsing:299) - [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:11 [INFO] 🔍 (stable_pdf_parsing:300) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:11 [INFO] 🔄 (stable_pdf_parsing:177) - [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-19 00:10:11 [INFO] 📄 (stable_pdf_parsing:179) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:11 [INFO] 📄 (stable_pdf_parsing:180) - [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:11 [INFO] 📄 (stable_pdf_parsing:181) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:11 [INFO] 📄 (stable_pdf_parsing:196) - [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-19 00:10:11 [INFO] ✈️ (stable_pdf_parsing:207) - [Stable_Pdf_Parsing] Saved image for page 1 to output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-19 00:10:11 [INFO] 📄 (stable_pdf_parsing:209) - [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-19 00:10:11 [INFO] 📑 (stable_pdf_parsing:214) - [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-19 00:10:11 [INFO] ✅ (stable_pdf_parsing:220) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:10:11 [INFO] ✅ (stable_pdf_parsing:222) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:10:11 [INFO] ✅ (stable_pdf_parsing:306) - [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-19 00:10:11 [INFO] 🔍 (stable_pdf_parsing:321) - [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-19 00:10:24 [INFO] 🔢 (_00_utils:108) - Token counters updated: 4754 input, 1352 output
2025-05-19 00:10:24 [INFO] ✅ (stable_pdf_parsing:342) - [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-19 00:10:24 [INFO] ✅ (stable_pdf_parsing:345) - [Stable_Pdf_Parsing] Extracted 1442 chars from page 1
2025-05-19 00:10:24 [INFO] 🔤 (stable_pdf_parsing:231) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-19 00:10:24 [INFO] 🔤 (stable_pdf_parsing:233) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-19 00:10:27 [INFO] 🔢 (_00_utils:108) - Token counters updated: 5314 input, 1484 output
2025-05-19 00:10:28 [INFO] 🔢 (_00_utils:108) - Token counters updated: 5541 input, 1494 output
2025-05-19 00:10:28 [INFO] ✈️ (stable_pdf_parsing:275) - [Stable_Pdf_Parsing] Generated document title from summaries: RLX-5000 Fighter Jet Rocket Launcher Specifications
2025-05-19 00:10:28 [INFO] ✅ (stable_pdf_parsing:278) - [Stable_Pdf_Parsing] Generated title: "RLX-5000 Fighter Jet Rocket Launcher Specifications"
2025-05-19 00:10:28 [INFO] ⚙️ (stable_pdf_parsing:366) - [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-19 00:10:28 [INFO] 🔄 (stable_pdf_parsing:370) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:28 [INFO] 🔄 (stable_pdf_parsing:371) - [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-19 00:10:28 [INFO] 🔄 (stable_pdf_parsing:372) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:28 [INFO] ⚙️ (stable_pdf_parsing:387) - [Stable_Pdf_Parsing] Processing page 1...
2025-05-19 00:10:28 [INFO] 🔄 (stable_pdf_parsing:390) - [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-19 00:10:31 [INFO] 🔢 (_00_utils:108) - Token counters updated: 6263 input, 1652 output
2025-05-19 00:10:31 [INFO] ⚙️ (stable_pdf_parsing:442) - [Stable_Pdf_Parsing] Successfully processed page 1
2025-05-19 00:10:31 [INFO] ✅ (stable_pdf_parsing:447) - [Stable_Pdf_Parsing] Page 1: Generated summary and hashtags: rocket_launcher, fighter_jet, technical_specifications, performance_metrics, guidance_system...
2025-05-19 00:10:31 [INFO] ✈️ (stable_pdf_parsing:479) - [Stable_Pdf_Parsing] All extracted page data combined and saved to output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:10:31 [INFO] ✅ (stable_pdf_parsing:482) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:31 [INFO] ✅ (stable_pdf_parsing:483) - [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:31 [INFO] 📄 (stable_pdf_parsing:484) - [Stable_Pdf_Parsing] Document title: RLX-5000 Fighter Jet Rocket Launcher Specifications
2025-05-19 00:10:31 [INFO] 📄 (stable_pdf_parsing:485) - [Stable_Pdf_Parsing] Pages processed: 1
2025-05-19 00:10:31 [INFO] 📄 (stable_pdf_parsing:486) - [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:10:31 [INFO] ✅ (stable_pdf_parsing:487) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:10:31 [INFO] ✅ (pipeline_controller:135) - [Pipeline_Controller] Document parsing completed: output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:10:31 [INFO] 🔍 (pipeline_controller:143) - [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-19 00:10:31 [INFO] 💾 (pipeline_controller:264) - [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-19 00:10:31 [INFO] 📄 (stable_save_to_lancedb:381) - [Save_To_LanceDB] Processing specified document: output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:10:31 [INFO] 🧠 (stable_save_to_lancedb:271) - [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-19 00:10:31 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:10:31 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:10:39 [INFO] ✅ (stable_save_to_lancedb:283) - [Save_To_LanceDB] Model loaded successfully
2025-05-19 00:10:39 [INFO] 🔄 (stable_save_to_lancedb:86) - [Save_To_LanceDB] Loading document: output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:10:39 [WARNING] ⚠️ (stable_save_to_lancedb:112) - [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-19 00:10:39 [INFO] ✅ (stable_save_to_lancedb:169) - [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-19 00:10:39 [INFO] 🔄 (stable_save_to_lancedb:172) - [Save_To_LanceDB] Checking for document duplicates
2025-05-19 00:10:39 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:39 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:10:39 [INFO] 🔍 (pre_save_deduplication:813) - [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-19 00:10:39 [INFO] 🔄 (pre_save_deduplication:606) - [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-19 00:10:39 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-19 00:10:39 [INFO] ✅ (pre_save_deduplication:687) - [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-19 00:10:39 [INFO] 📊 (pre_save_deduplication:695) - [Docs_Deduplication] Duplicate check completed in 0.03s: 1 new, 0 dup, 0 updates
2025-05-19 00:10:39 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-19 00:10:39 [INFO] 🆕 (pre_save_deduplication:193) - [Docs_Deduplication] 📊 Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-19 00:10:39 [INFO] 📊 (stable_save_to_lancedb:210) - [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-19 00:10:39 [INFO] 🔌 (stable_save_to_lancedb:303) - [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:39 [INFO] ✅ (stable_save_to_lancedb:305) - [Save_To_LanceDB] Connected to LanceDB
2025-05-19 00:10:39 [INFO] 📂 (stable_save_to_lancedb:249) - [Save_To_LanceDB] Opening existing table: documents
2025-05-19 00:10:39 [INFO] ➕ (stable_save_to_lancedb:316) - [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-19 00:10:39 [INFO] ✅ (stable_save_to_lancedb:318) - [Save_To_LanceDB] New pages added successfully
2025-05-19 00:10:39 [INFO] ⏱️ (stable_save_to_lancedb:385) - [Save_To_LanceDB] Processing completed in 7.68 seconds
2025-05-19 00:10:39 [INFO] ✅ (pipeline_controller:277) - [Pipeline_Controller] ✅ Document saved to LanceDB successfully
2025-05-19 00:10:39 [INFO] 🔄 (pipeline_controller:285) - [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-19 00:10:39 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:39 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:10:39 [INFO] 🔄 (pipeline_controller:483) - [Pipeline_Controller] 🔄 Processing document with 1 pages for chunking
2025-05-19 00:10:39 [INFO] 🔄 (pipeline_controller:505) - [Pipeline_Controller] 🔄 Using standard chunking for new document
2025-05-19 00:10:39 [INFO] ✈️ (integrated_chunking:341) - [Integrated_Chunking] 🚀 Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:39 [INFO] 🧩 (integrated_chunking:291) - [Integrated_Chunking] 🔄 Chunking markdown text of 1444 characters using simplified LLM approach
2025-05-19 00:10:39 [INFO] ⚙️ (integrated_chunking:298) - [Integrated_Chunking] 🔄 Processing section 1/1
2025-05-19 00:10:39 [INFO] 🧩 (integrated_chunking:193) - [Integrated_Chunking] 🔄 Asking LLM to chunk text of 1444 characters
2025-05-19 00:10:45 [INFO] 🔢 (_00_utils:108) - Token counters updated: 6784 input, 2040 output
2025-05-19 00:10:45 [INFO] 🧩 (integrated_chunking:266) - [Integrated_Chunking] ✅ LLM provided 2 chunks
2025-05-19 00:10:45 [INFO] ✅ (integrated_chunking:302) - [Integrated_Chunking] ✅ Completed chunking. Total chunks: 2
2025-05-19 00:10:45 [INFO] 🧩 (integrated_chunking:352) - [Integrated_Chunking] 📊 Generated 2 chunks
2025-05-19 00:10:45 [INFO] 🧩 (integrated_chunking:353) - [Integrated_Chunking]    Min/Max/Avg chars: 340/1110/725.0
2025-05-19 00:10:45 [INFO] 🧩 (integrated_chunking:354) - [Integrated_Chunking]    Min/Max/Avg tokens: 85/277/181.0
2025-05-19 00:10:45 [INFO] 🔌 (integrated_chunking:365) - [Integrated_Chunking] 🔄 Connecting to LanceDB at output/lancedb
2025-05-19 00:10:45 [INFO] 🧩 (integrated_chunking:393) - [Integrated_Chunking] ✅ Opened existing document_chunks table
2025-05-19 00:10:45 [INFO] 🧮 (integrated_chunking:402) - [Integrated_Chunking] 🔄 Loading embedding model
2025-05-19 00:10:45 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:10:45 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:10:51 [INFO] 🧩 (integrated_chunking:451) - [Integrated_Chunking] 🔄 Performing chunk-level deduplication
2025-05-19 00:10:51 [INFO] 🧩 (pre_save_deduplication:375) - [Docs_Deduplication] 
================================================================================
2025-05-19 00:10:51 [INFO] 🧩 (pre_save_deduplication:376) - [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:51 [INFO] 🧩 (pre_save_deduplication:377) - [Docs_Deduplication] ================================================================================
2025-05-19 00:10:51 [INFO] 🔄 (pre_save_deduplication:379) - [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:51 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: document_chunks has only 1 rows, minimum 256 required
2025-05-19 00:10:51 [INFO] 🔍 (pre_save_deduplication:404) - [Docs_Deduplication] 📊 Found 1 existing chunks to compare against
2025-05-19 00:10:51 [INFO] 🔄 (pre_save_deduplication:149) - [Docs_Deduplication] 🧩 Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_1  is similar to fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  (similarity: 0.9812)
2025-05-19 00:10:51 [INFO] 🆕 (pre_save_deduplication:156) - [Docs_Deduplication] 🧩 Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_2  appears to be new (top similarity: 0.7464 with fighter_jet_rocket_launcher_spec_2.pdf_chunk_1)
2025-05-19 00:10:51 [INFO] 🔄 (pre_save_deduplication:227) - [Docs_Deduplication] 📊 Chunk deduplication summary: 1 new chunks, 0 duplicate chunks, and 1 similar chunks (total: 2 chunks) in 0.02s
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:575) - [Docs_Deduplication] 
--------------------------------------------------
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:576) - [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:577) - [Docs_Deduplication]   • Total chunks processed: 2
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:578) - [Docs_Deduplication]   • Exact duplicates found: 0
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:579) - [Docs_Deduplication]   • Similar chunks found: 1
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:580) - [Docs_Deduplication]   • New unique chunks: 1
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:581) - [Docs_Deduplication]   • Processing time: 0.02 seconds
2025-05-19 00:10:51 [INFO] 📊 (pre_save_deduplication:582) - [Docs_Deduplication] --------------------------------------------------

2025-05-19 00:10:51 [INFO] ♻️ (integrated_chunking:466) - [Integrated_Chunking] 📊 Deduplication results: 1 new chunks, 0 duplicates, 1 updates
2025-05-19 00:10:51 [INFO] 🛢️ (integrated_chunking:470) - [Integrated_Chunking] 🔄 Adding 2 chunks to LanceDB
2025-05-19 00:10:51 [INFO] 🛢️ (integrated_chunking:472) - [Integrated_Chunking] ✅ Chunks successfully saved to LanceDB
2025-05-19 00:10:51 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-19 00:10:51 [INFO] ⚙️ (integrated_chunking:480) - [Integrated_Chunking] ✅ Document processing completed in 12.18 seconds
2025-05-19 00:10:51 [INFO] ✅ (pipeline_controller:513) - [Pipeline_Controller] ✅ Chunking completed successfully
2025-05-19 00:10:51 [INFO] 📚 (pipeline_controller:525) - [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-19 00:10:51 [INFO] ✈️ (extract_requirements:586) - [Extract_Requirements] 🔄 Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:51 [INFO] 🔄 (extract_requirements:310) - [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:51 [INFO] ✅ (extract_requirements:312) - [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:10:51 [WARNING] ✈️ (extract_requirements:523) - [Extract_Requirements] ⚠️ No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-19 00:10:51 [ERROR] ✈️ (extract_requirements:597) - [Extract_Requirements] ❌ Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-19 00:10:51 [INFO] ✅ (pipeline_controller:537) - [Pipeline_Controller] ✅ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:51 [INFO] 🏁 (pipeline_controller:543) - [Pipeline_Controller] 🏁 Pipeline completed in 39.56 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:10:51 [INFO] ⏱️ (test_scenarios:442) - [E2E_Tests] Pipeline completed in 39.56 seconds
2025-05-19 00:10:51 [INFO] ⏱️ (test_scenarios:492) - [E2E_Tests] Pipeline completed in 39.56 seconds
2025-05-19 00:10:51 [ERROR] ❌ (test_scenarios:501) - [E2E_Tests]   Step 2 FAILED ❌
2025-05-19 00:10:51 [ERROR] ❗ (test_scenarios:505) - [E2E_Tests]     - Expected duplicate_chunks=False, got True
2025-05-19 00:10:51 [INFO] 💾 (test_scenarios:552) - [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/output/test_results/e2e_test_results_20250519_001051.json
2025-05-19 00:10:51 [INFO] 📝 (test_scenarios:553) - [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/output/test_results/e2e_test_summary_20250519_001051.txt
2025-05-19 00:10:51 [ERROR] ❌ (test_scenarios:559) - [E2E_Tests] Scenario 2 FAILED ❌
2025-05-19 00:12:21 [INFO] 🧠 (stable_pdf_parsing:93) - [Stable_Pdf_Parsing] Using OpenAI models for processing
2025-05-19 00:12:21 [INFO] 🧠 (integrated_chunking:122) - [Integrated_Chunking] Using OpenAI models for chunking
2025-05-19 00:12:24 [INFO] ℹ️ (config:54) - PyTorch version 2.6.0 available.
2025-05-19 00:12:24 [INFO] 🧠 (pre_save_reqs_deduplication:74) - [Reqs_Deduplication] Model provider for requirements deduplication: openai
2025-05-19 00:12:24 [WARNING] ⚠️ (extract_requirements:56) - [Extract_Requirements] Could not import pre_save_reqs_deduplication module. Duplicate detection will be disabled.
2025-05-19 00:12:24 [INFO] 🧠 (extract_requirements:87) - [Extract_Requirements] Using OpenAI models for requirements extraction
2025-05-19 00:12:24 [INFO] 🎯 (test_scenarios:576) - [E2E_Tests] Running scenario: 2
2025-05-19 00:12:24 [INFO] 🚀 (test_scenarios:470) - [E2E_Tests] Starting Scenario 2: Value Change Variant
2025-05-19 00:12:24 [INFO] 🧹 (test_scenarios:473) - [E2E_Tests] Clearing LanceDB database...
2025-05-19 00:12:24 [INFO] 🧹 (test_scenarios:374) - [E2E_Tests] Clearing LanceDB database...
2025-05-19 00:12:24 [INFO] 🔄 (reset_lancedb:38) - [Reset_LanceDB] Connecting to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:24 [INFO] ✅ (reset_lancedb:40) - [Reset_LanceDB] Connected to LanceDB. Current tables: ['documents', 'file_hashes']
2025-05-19 00:12:24 [INFO] 🗑️ (reset_lancedb:45) - [Reset_LanceDB] Dropping table: documents
2025-05-19 00:12:24 [INFO] 🗑️ (reset_lancedb:45) - [Reset_LanceDB] Dropping table: file_hashes
2025-05-19 00:12:24 [INFO] ✅ (reset_lancedb:48) - [Reset_LanceDB] All tables dropped. Running initialization to create fresh tables.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:160) - [LanceDB_Admin] 🔄 Script started: Initializing LanceDB tables...
2025-05-19 00:12:24 [INFO] 🛢️ (init_lancedb:169) - [LanceDB_Admin] ✅ LanceDB directory ensured at: /Users/fabio/Agentic_AI/Requify_V2/tests/e2e/output/lancedb
2025-05-19 00:12:24 [INFO] 🔌 (init_lancedb:174) - [LanceDB_Admin] 🔄 Attempting to connect to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/tests/e2e/output/lancedb
2025-05-19 00:12:24 [INFO] 🔌 (init_lancedb:177) - [LanceDB_Admin] ✅ Successfully connected to LanceDB. Current tables: ['document_chunks', 'documents', 'file_hashes', 'requirements']
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:123) - [LanceDB_Admin] Table 'documents' already exists in LanceDB. Verifying schema...
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:133) - [LanceDB_Admin] ✅ Schema for table 'documents' matches defined schema. No action needed.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'documents' table is ready for use.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:123) - [LanceDB_Admin] Table 'document_chunks' already exists in LanceDB. Verifying schema...
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:133) - [LanceDB_Admin] ✅ Schema for table 'document_chunks' matches defined schema. No action needed.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'document_chunks' table is ready for use.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:123) - [LanceDB_Admin] Table 'requirements' already exists in LanceDB. Verifying schema...
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:133) - [LanceDB_Admin] ✅ Schema for table 'requirements' matches defined schema. No action needed.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'requirements' table is ready for use.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:123) - [LanceDB_Admin] Table 'file_hashes' already exists in LanceDB. Verifying schema...
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:133) - [LanceDB_Admin] ✅ Schema for table 'file_hashes' matches defined schema. No action needed.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:194) - [LanceDB_Admin] ✅ 'file_hashes' table is ready for use.
2025-05-19 00:12:24 [INFO] 📋 (init_lancedb:201) - [LanceDB_Admin] ✅ All LanceDB tables initialized successfully.
2025-05-19 00:12:24 [INFO] ✅ (reset_lancedb:55) - [Reset_LanceDB] LanceDB tables reinitialized with consistent schemas.
2025-05-19 00:12:24 [INFO] ✅ (test_scenarios:376) - [E2E_Tests] Database cleared successfully
2025-05-19 00:12:24 [INFO] ✅ (test_scenarios:475) - [E2E_Tests] Database cleared successfully
2025-05-19 00:12:24 [INFO] 📄 (test_scenarios:484) - [E2E_Tests]   Step 1: Processing fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:24 [INFO] 🎯 (test_scenarios:485) - [E2E_Tests]   Expected: Baseline, all chunks new
2025-05-19 00:12:24 [INFO] 🚀 (test_scenarios:398) - [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-19 00:12:24 [INFO] 🚀 (pipeline_controller:103) - [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-19 00:12:24 [INFO] 🔐 (pipeline_controller:107) - [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:24 [INFO] 🔍 (file_hash_deduplication:215) - [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:24 [INFO] 🔢 (file_hash_deduplication:220) - [Hash_Deduplication] Calculated hashes: MD5=ef3e394175eb34bcc1a081face8c7bda, SHA256=43f6165ea7a177ef9d0e3b4c831a9810844537887e74a5fd455373aed015fa93
2025-05-19 00:12:24 [INFO] 🔄 (file_hash_deduplication:56) - [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:24 [INFO] ✅ (file_hash_deduplication:59) - [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:24 [ERROR] ❌ (file_hash_deduplication:225) - [Hash_Deduplication] Failed to connect to LanceDB database
2025-05-19 00:12:24 [INFO] ✅ (pipeline_controller:114) - [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2.pdf passed hash-based duplicate check
2025-05-19 00:12:24 [INFO] 📑 (pipeline_controller:122) - [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:24 [INFO] 🔍 (stable_pdf_parsing:298) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:24 [INFO] 🔍 (stable_pdf_parsing:299) - [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:24 [INFO] 🔍 (stable_pdf_parsing:300) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:24 [INFO] 🔄 (stable_pdf_parsing:177) - [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2.pdf' to images...
2025-05-19 00:12:24 [INFO] 📄 (stable_pdf_parsing:179) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:24 [INFO] 📄 (stable_pdf_parsing:180) - [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:24 [INFO] 📄 (stable_pdf_parsing:181) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:24 [INFO] 📄 (stable_pdf_parsing:196) - [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-19 00:12:24 [INFO] ✈️ (stable_pdf_parsing:207) - [Stable_Pdf_Parsing] Saved image for page 1 to output/pdf_images/fighter_jet_rocket_launcher_spec_2/page_001.png
2025-05-19 00:12:24 [INFO] 📄 (stable_pdf_parsing:209) - [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-19 00:12:24 [INFO] 📑 (stable_pdf_parsing:214) - [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-19 00:12:24 [INFO] ✅ (stable_pdf_parsing:220) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:12:24 [INFO] ✅ (stable_pdf_parsing:222) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:12:24 [INFO] ✅ (stable_pdf_parsing:306) - [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-19 00:12:24 [INFO] 🔍 (stable_pdf_parsing:321) - [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-19 00:12:33 [INFO] 📊 (_00_utils:724) - Loaded token usage data for 3 models
2025-05-19 00:12:33 [INFO] 🔢 (_00_utils:108) - Token counters updated: 1335 input, 364 output
2025-05-19 00:12:33 [INFO] ✅ (stable_pdf_parsing:342) - [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-19 00:12:33 [INFO] ✅ (stable_pdf_parsing:345) - [Stable_Pdf_Parsing] Extracted 1707 chars from page 1
2025-05-19 00:12:33 [INFO] 🔤 (stable_pdf_parsing:231) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf from page summaries...
2025-05-19 00:12:33 [INFO] 🔤 (stable_pdf_parsing:233) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2.pdf...
2025-05-19 00:12:36 [INFO] 🔢 (_00_utils:108) - Token counters updated: 1887 input, 482 output
2025-05-19 00:12:37 [INFO] 🔢 (_00_utils:108) - Token counters updated: 2113 input, 493 output
2025-05-19 00:12:37 [INFO] ✈️ (stable_pdf_parsing:275) - [Stable_Pdf_Parsing] Generated document title from summaries: Fighter Jet RLX-5000 Rocket Launcher Specifications
2025-05-19 00:12:37 [INFO] ✅ (stable_pdf_parsing:278) - [Stable_Pdf_Parsing] Generated title: "Fighter Jet RLX-5000 Rocket Launcher Specifications"
2025-05-19 00:12:37 [INFO] ⚙️ (stable_pdf_parsing:366) - [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-19 00:12:37 [INFO] 🔄 (stable_pdf_parsing:370) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:37 [INFO] 🔄 (stable_pdf_parsing:371) - [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-19 00:12:37 [INFO] 🔄 (stable_pdf_parsing:372) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:37 [INFO] ⚙️ (stable_pdf_parsing:387) - [Stable_Pdf_Parsing] Processing page 1...
2025-05-19 00:12:37 [INFO] 🔄 (stable_pdf_parsing:390) - [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-19 00:12:40 [INFO] 🔢 (_00_utils:108) - Token counters updated: 2876 input, 659 output
2025-05-19 00:12:40 [INFO] ⚙️ (stable_pdf_parsing:442) - [Stable_Pdf_Parsing] Successfully processed page 1
2025-05-19 00:12:40 [INFO] ✅ (stable_pdf_parsing:447) - [Stable_Pdf_Parsing] Page 1: Generated summary and hashtags: rocket_launcher, RLX5000, fighter_jet, technical_specifications, performance_metrics...
2025-05-19 00:12:40 [INFO] ✈️ (stable_pdf_parsing:479) - [Stable_Pdf_Parsing] All extracted page data combined and saved to output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:12:40 [INFO] ✅ (stable_pdf_parsing:482) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:40 [INFO] ✅ (stable_pdf_parsing:483) - [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:40 [INFO] 📄 (stable_pdf_parsing:484) - [Stable_Pdf_Parsing] Document title: Fighter Jet RLX-5000 Rocket Launcher Specifications
2025-05-19 00:12:40 [INFO] 📄 (stable_pdf_parsing:485) - [Stable_Pdf_Parsing] Pages processed: 1
2025-05-19 00:12:40 [INFO] 📄 (stable_pdf_parsing:486) - [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:12:40 [INFO] ✅ (stable_pdf_parsing:487) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:40 [INFO] ✅ (pipeline_controller:135) - [Pipeline_Controller] Document parsing completed: output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:12:40 [INFO] 🔍 (pipeline_controller:143) - [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-19 00:12:40 [INFO] 💾 (pipeline_controller:264) - [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-19 00:12:40 [INFO] 📄 (stable_save_to_lancedb:381) - [Save_To_LanceDB] Processing specified document: output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:12:40 [INFO] 🧠 (stable_save_to_lancedb:271) - [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-19 00:12:40 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:12:40 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:12:44 [INFO] ✅ (stable_save_to_lancedb:283) - [Save_To_LanceDB] Model loaded successfully
2025-05-19 00:12:44 [INFO] 🔄 (stable_save_to_lancedb:86) - [Save_To_LanceDB] Loading document: output/parsed_content/fighter_jet_rocket_launcher_spec_2/fighter_jet_rocket_launcher_spec_2_combined.json
2025-05-19 00:12:44 [WARNING] ⚠️ (stable_save_to_lancedb:112) - [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-19 00:12:44 [INFO] ✅ (stable_save_to_lancedb:169) - [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-19 00:12:44 [INFO] 🔄 (stable_save_to_lancedb:172) - [Save_To_LanceDB] Checking for document duplicates
2025-05-19 00:12:44 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:44 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:12:44 [INFO] 🔍 (pre_save_deduplication:813) - [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_combined
2025-05-19 00:12:44 [INFO] 🔄 (pre_save_deduplication:606) - [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_combined
2025-05-19 00:12:44 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:44 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:12:44 [INFO] ✅ (pre_save_deduplication:614) - [Docs_Deduplication] No existing database or table found. All 1 pages are new.
2025-05-19 00:12:44 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:44 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:12:44 [INFO] 🆕 (pre_save_deduplication:193) - [Docs_Deduplication] 📊 Document deduplication summary: fighter_jet_rocket_launcher_spec_2_combined is completely new (all 1 pages are new)
2025-05-19 00:12:44 [INFO] 📊 (stable_save_to_lancedb:210) - [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-19 00:12:44 [INFO] 🔌 (stable_save_to_lancedb:303) - [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:44 [INFO] ✅ (stable_save_to_lancedb:305) - [Save_To_LanceDB] Connected to LanceDB
2025-05-19 00:12:44 [INFO] 🆕 (stable_save_to_lancedb:252) - [Save_To_LanceDB] Creating new table: documents
2025-05-19 00:12:44 [INFO] ➕ (stable_save_to_lancedb:316) - [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-19 00:12:44 [INFO] ✅ (stable_save_to_lancedb:318) - [Save_To_LanceDB] New pages added successfully
2025-05-19 00:12:44 [INFO] ⏱️ (stable_save_to_lancedb:385) - [Save_To_LanceDB] Processing completed in 3.76 seconds
2025-05-19 00:12:44 [INFO] ✅ (pipeline_controller:277) - [Pipeline_Controller] ✅ Document saved to LanceDB successfully
2025-05-19 00:12:44 [INFO] 🔄 (pipeline_controller:285) - [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-19 00:12:44 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:44 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:12:44 [INFO] 🔄 (pipeline_controller:483) - [Pipeline_Controller] 🔄 Processing document with 1 pages for chunking
2025-05-19 00:12:44 [INFO] 🔄 (pipeline_controller:505) - [Pipeline_Controller] 🔄 Using standard chunking for new document
2025-05-19 00:12:44 [INFO] ✈️ (integrated_chunking:341) - [Integrated_Chunking] 🚀 Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:44 [INFO] 🧩 (integrated_chunking:291) - [Integrated_Chunking] 🔄 Chunking markdown text of 1709 characters using simplified LLM approach
2025-05-19 00:12:44 [INFO] ⚙️ (integrated_chunking:298) - [Integrated_Chunking] 🔄 Processing section 1/1
2025-05-19 00:12:44 [INFO] 🧩 (integrated_chunking:193) - [Integrated_Chunking] 🔄 Asking LLM to chunk text of 1709 characters
2025-05-19 00:12:52 [INFO] 🔢 (_00_utils:108) - Token counters updated: 3436 input, 1072 output
2025-05-19 00:12:52 [INFO] 🧩 (integrated_chunking:266) - [Integrated_Chunking] ✅ LLM provided 1 chunks
2025-05-19 00:12:52 [INFO] ✅ (integrated_chunking:302) - [Integrated_Chunking] ✅ Completed chunking. Total chunks: 1
2025-05-19 00:12:52 [INFO] 🧩 (integrated_chunking:352) - [Integrated_Chunking] 📊 Generated 1 chunks
2025-05-19 00:12:52 [INFO] 🧩 (integrated_chunking:353) - [Integrated_Chunking]    Min/Max/Avg chars: 1707/1707/1707.0
2025-05-19 00:12:52 [INFO] 🧩 (integrated_chunking:354) - [Integrated_Chunking]    Min/Max/Avg tokens: 426/426/426.0
2025-05-19 00:12:52 [INFO] 🔌 (integrated_chunking:365) - [Integrated_Chunking] 🔄 Connecting to LanceDB at output/lancedb
2025-05-19 00:12:52 [INFO] 🧩 (integrated_chunking:393) - [Integrated_Chunking] ✅ Opened existing document_chunks table
2025-05-19 00:12:52 [INFO] 🧮 (integrated_chunking:402) - [Integrated_Chunking] 🔄 Loading embedding model
2025-05-19 00:12:52 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:12:52 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:12:56 [INFO] 🧩 (integrated_chunking:451) - [Integrated_Chunking] 🔄 Performing chunk-level deduplication
2025-05-19 00:12:56 [INFO] 🧩 (pre_save_deduplication:375) - [Docs_Deduplication] 
================================================================================
2025-05-19 00:12:56 [INFO] 🧩 (pre_save_deduplication:376) - [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:56 [INFO] 🧩 (pre_save_deduplication:377) - [Docs_Deduplication] ================================================================================
2025-05-19 00:12:56 [INFO] 🔄 (pre_save_deduplication:379) - [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:56 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-19 00:12:56 [INFO] 🔍 (pre_save_deduplication:404) - [Docs_Deduplication] 📊 Found 3 existing chunks to compare against
2025-05-19 00:12:56 [INFO] ♻️ (pre_save_deduplication:142) - [Docs_Deduplication] 🧩 Chunk comparison: fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  is a duplicate of fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  (similarity: 1.0000)
2025-05-19 00:12:56 [INFO] ♻️ (pre_save_deduplication:220) - [Docs_Deduplication] 📊 Chunk deduplication summary: only duplicate chunks (all 1 chunks are duplicates) in 0.02s
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:575) - [Docs_Deduplication] 
--------------------------------------------------
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:576) - [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:577) - [Docs_Deduplication]   • Total chunks processed: 1
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:578) - [Docs_Deduplication]   • Exact duplicates found: 1
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:579) - [Docs_Deduplication]   • Similar chunks found: 0
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:580) - [Docs_Deduplication]   • New unique chunks: 0
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:581) - [Docs_Deduplication]   • Processing time: 0.02 seconds
2025-05-19 00:12:56 [INFO] 📊 (pre_save_deduplication:582) - [Docs_Deduplication] --------------------------------------------------

2025-05-19 00:12:56 [INFO] ♻️ (integrated_chunking:466) - [Integrated_Chunking] 📊 Deduplication results: 0 new chunks, 1 duplicates, 0 updates
2025-05-19 00:12:56 [INFO] ⚠️ (integrated_chunking:477) - [Integrated_Chunking] ⚠️ No new chunks to save after deduplication
2025-05-19 00:12:56 [INFO] ⚙️ (integrated_chunking:480) - [Integrated_Chunking] ✅ Document processing completed in 12.28 seconds
2025-05-19 00:12:56 [INFO] ✅ (pipeline_controller:513) - [Pipeline_Controller] ✅ Chunking completed successfully
2025-05-19 00:12:56 [INFO] 📚 (pipeline_controller:525) - [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-19 00:12:56 [INFO] ✈️ (extract_requirements:586) - [Extract_Requirements] 🔄 Processing document: fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:56 [INFO] 🔄 (extract_requirements:310) - [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:56 [INFO] ✅ (extract_requirements:312) - [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:56 [WARNING] ✈️ (extract_requirements:523) - [Extract_Requirements] ⚠️ No document info found for 'fighter_jet_rocket_launcher_spec_2.pdf'
2025-05-19 00:12:56 [ERROR] ✈️ (extract_requirements:597) - [Extract_Requirements] ❌ Document fighter_jet_rocket_launcher_spec_2.pdf not found in database
2025-05-19 00:12:56 [INFO] ✅ (pipeline_controller:537) - [Pipeline_Controller] ✅ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:56 [INFO] 🏁 (pipeline_controller:543) - [Pipeline_Controller] 🏁 Pipeline completed in 32.46 seconds for fighter_jet_rocket_launcher_spec_2.pdf
2025-05-19 00:12:56 [INFO] ⏱️ (test_scenarios:442) - [E2E_Tests] Pipeline completed in 32.46 seconds
2025-05-19 00:12:56 [INFO] ⏱️ (test_scenarios:492) - [E2E_Tests] Pipeline completed in 32.46 seconds
2025-05-19 00:12:56 [INFO] ✅ (test_scenarios:498) - [E2E_Tests]   Step 1 PASSED ✅
2025-05-19 00:12:56 [INFO] 📄 (test_scenarios:484) - [E2E_Tests]   Step 2: Processing fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:12:56 [INFO] 🎯 (test_scenarios:485) - [E2E_Tests]   Expected: Some chunks as duplicates, some as updates
2025-05-19 00:12:56 [INFO] 🚀 (test_scenarios:398) - [E2E_Tests] Running pipeline for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-19 00:12:56 [INFO] 🚀 (pipeline_controller:103) - [Pipeline_Controller] Starting pipeline for document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf (max_step=6, dry_run=False, skip_hash_check=False)
2025-05-19 00:12:56 [INFO] 🔐 (pipeline_controller:107) - [Pipeline_Controller] Step 1: Performing hash-based duplicate check for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:12:56 [INFO] 🔍 (file_hash_deduplication:215) - [Hash_Deduplication] Checking for duplicate of file: /Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:12:56 [INFO] 🔢 (file_hash_deduplication:220) - [Hash_Deduplication] Calculated hashes: MD5=18dc4d423a774bd216a0a7e2a0ab3018, SHA256=6689b49c25c69cfc03b167422fad04b602b064be5abc00e1e749d7ac3142879b
2025-05-19 00:12:56 [INFO] 🔄 (file_hash_deduplication:56) - [Hash_Deduplication] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:56 [INFO] ✅ (file_hash_deduplication:59) - [Hash_Deduplication] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:12:56 [INFO] ℹ️ (file_hash_deduplication:109) - [Hash_Deduplication] File hashes table file_hashes does not exist yet
2025-05-19 00:12:56 [INFO] 🆕 (file_hash_deduplication:161) - [Hash_Deduplication] Creating new file hashes table: file_hashes
2025-05-19 00:12:56 [INFO] ✅ (file_hash_deduplication:190) - [Hash_Deduplication] Successfully saved file hash information for /Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:12:56 [INFO] ✅ (file_hash_deduplication:239) - [Hash_Deduplication] File hash check completed in 0.02 seconds. File is unique.
2025-05-19 00:12:56 [INFO] ✅ (pipeline_controller:114) - [Pipeline_Controller] Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf passed hash-based duplicate check
2025-05-19 00:12:56 [INFO] 📑 (pipeline_controller:122) - [Pipeline_Controller] Step 2: Parsing document fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:12:56 [INFO] 🔍 (stable_pdf_parsing:298) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:56 [INFO] 🔍 (stable_pdf_parsing:299) - [Stable_Pdf_Parsing] PARSING PDF: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:12:56 [INFO] 🔍 (stable_pdf_parsing:300) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:56 [INFO] 🔄 (stable_pdf_parsing:177) - [Stable_Pdf_Parsing] Processing '/Users/fabio/Agentic_AI/Requify_V2/input/raw/fighter_jet_rocket_launcher_spec_2_changed_values.pdf' to images...
2025-05-19 00:12:56 [INFO] 📄 (stable_pdf_parsing:179) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:56 [INFO] 📄 (stable_pdf_parsing:180) - [Stable_Pdf_Parsing] Converting PDF to images: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:12:56 [INFO] 📄 (stable_pdf_parsing:181) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:12:56 [INFO] 📄 (stable_pdf_parsing:196) - [Stable_Pdf_Parsing] PDF has 1 pages
2025-05-19 00:12:57 [INFO] ✈️ (stable_pdf_parsing:207) - [Stable_Pdf_Parsing] Saved image for page 1 to output/pdf_images/fighter_jet_rocket_launcher_spec_2_changed_values/page_001.png
2025-05-19 00:12:57 [INFO] 📄 (stable_pdf_parsing:209) - [Stable_Pdf_Parsing] Page 1/1: Saved to page_001.png
2025-05-19 00:12:57 [INFO] 📑 (stable_pdf_parsing:214) - [Stable_Pdf_Parsing] Encoded image for page 1 to base64.
2025-05-19 00:12:57 [INFO] ✅ (stable_pdf_parsing:220) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:12:57 [INFO] ✅ (stable_pdf_parsing:222) - [Stable_Pdf_Parsing] Generated 1 images from PDF
2025-05-19 00:12:57 [INFO] ✅ (stable_pdf_parsing:306) - [Stable_Pdf_Parsing] Successfully converted PDF to 1 images and encoded them.
2025-05-19 00:12:57 [INFO] 🔍 (stable_pdf_parsing:321) - [Stable_Pdf_Parsing] Extracting content from page 1/1
2025-05-19 00:13:04 [INFO] 🔢 (_00_utils:108) - Token counters updated: 4771 input, 1401 output
2025-05-19 00:13:04 [INFO] ✅ (stable_pdf_parsing:342) - [Stable_Pdf_Parsing] Successfully extracted markdown for page_001
2025-05-19 00:13:04 [INFO] ✅ (stable_pdf_parsing:345) - [Stable_Pdf_Parsing] Extracted 1495 chars from page 1
2025-05-19 00:13:04 [INFO] 🔤 (stable_pdf_parsing:231) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf from page summaries...
2025-05-19 00:13:04 [INFO] 🔤 (stable_pdf_parsing:233) - [Stable_Pdf_Parsing] Generating document title for fighter_jet_rocket_launcher_spec_2_changed_values.pdf...
2025-05-19 00:13:08 [INFO] 🔢 (_00_utils:108) - Token counters updated: 5325 input, 1550 output
2025-05-19 00:13:09 [INFO] 🔢 (_00_utils:108) - Token counters updated: 5569 input, 1560 output
2025-05-19 00:13:09 [INFO] ✈️ (stable_pdf_parsing:275) - [Stable_Pdf_Parsing] Generated document title from summaries: RLX-5000 Fighter Jet Rocket Launcher Specifications
2025-05-19 00:13:09 [INFO] ✅ (stable_pdf_parsing:278) - [Stable_Pdf_Parsing] Generated title: "RLX-5000 Fighter Jet Rocket Launcher Specifications"
2025-05-19 00:13:09 [INFO] ⚙️ (stable_pdf_parsing:366) - [Stable_Pdf_Parsing] Processing pages sequentially...
2025-05-19 00:13:09 [INFO] 🔄 (stable_pdf_parsing:370) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:13:09 [INFO] 🔄 (stable_pdf_parsing:371) - [Stable_Pdf_Parsing] GENERATING PAGE METADATA
2025-05-19 00:13:09 [INFO] 🔄 (stable_pdf_parsing:372) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:13:09 [INFO] ⚙️ (stable_pdf_parsing:387) - [Stable_Pdf_Parsing] Processing page 1...
2025-05-19 00:13:09 [INFO] 🔄 (stable_pdf_parsing:390) - [Stable_Pdf_Parsing] Processing metadata for page 1/1
2025-05-19 00:13:12 [INFO] 🔢 (_00_utils:108) - Token counters updated: 6296 input, 1703 output
2025-05-19 00:13:12 [INFO] ⚙️ (stable_pdf_parsing:442) - [Stable_Pdf_Parsing] Successfully processed page 1
2025-05-19 00:13:12 [INFO] ✅ (stable_pdf_parsing:447) - [Stable_Pdf_Parsing] Page 1: Generated summary and hashtags: rocket_launcher, fighter_jet, RLX_5000, technical_specifications, performance_metrics...
2025-05-19 00:13:12 [INFO] ✈️ (stable_pdf_parsing:479) - [Stable_Pdf_Parsing] All extracted page data combined and saved to output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:13:12 [INFO] ✅ (stable_pdf_parsing:482) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:13:12 [INFO] ✅ (stable_pdf_parsing:483) - [Stable_Pdf_Parsing] PARSING COMPLETED: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:13:12 [INFO] 📄 (stable_pdf_parsing:484) - [Stable_Pdf_Parsing] Document title: RLX-5000 Fighter Jet Rocket Launcher Specifications
2025-05-19 00:13:12 [INFO] 📄 (stable_pdf_parsing:485) - [Stable_Pdf_Parsing] Pages processed: 1
2025-05-19 00:13:12 [INFO] 📄 (stable_pdf_parsing:486) - [Stable_Pdf_Parsing] Output saved to: fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:13:12 [INFO] ✅ (stable_pdf_parsing:487) - [Stable_Pdf_Parsing] --------------------------------------------------------------------------------
2025-05-19 00:13:12 [INFO] ✅ (pipeline_controller:135) - [Pipeline_Controller] Document parsing completed: output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:13:12 [INFO] 🔍 (pipeline_controller:143) - [Pipeline_Controller] Step 3: Checking document for duplicates
2025-05-19 00:13:12 [INFO] 💾 (pipeline_controller:264) - [Pipeline_Controller] Step 4: Saving document to LanceDB with deduplication
2025-05-19 00:13:12 [INFO] 📄 (stable_save_to_lancedb:381) - [Save_To_LanceDB] Processing specified document: output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:13:12 [INFO] 🧠 (stable_save_to_lancedb:271) - [Save_To_LanceDB] Loading embedding model: intfloat/multilingual-e5-large-instruct
2025-05-19 00:13:12 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:13:12 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:13:18 [INFO] ✅ (stable_save_to_lancedb:283) - [Save_To_LanceDB] Model loaded successfully
2025-05-19 00:13:18 [INFO] 🔄 (stable_save_to_lancedb:86) - [Save_To_LanceDB] Loading document: output/parsed_content/fighter_jet_rocket_launcher_spec_2_changed_values/fighter_jet_rocket_launcher_spec_2_changed_values_combined.json
2025-05-19 00:13:18 [WARNING] ⚠️ (stable_save_to_lancedb:112) - [Save_To_LanceDB] Could not find explicit page structure, treating document as single page
2025-05-19 00:13:18 [INFO] ✅ (stable_save_to_lancedb:169) - [Save_To_LanceDB] Successfully extracted 1 pages from document
2025-05-19 00:13:18 [INFO] 🔄 (stable_save_to_lancedb:172) - [Save_To_LanceDB] Checking for document duplicates
2025-05-19 00:13:18 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:13:18 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:13:18 [INFO] 🔍 (pre_save_deduplication:813) - [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-19 00:13:18 [INFO] 🔄 (pre_save_deduplication:606) - [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_changed_values_combined
2025-05-19 00:13:18 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-19 00:13:18 [INFO] ✅ (pre_save_deduplication:687) - [Docs_Deduplication] Page 1 has no close matches. It's new.
2025-05-19 00:13:18 [INFO] 📊 (pre_save_deduplication:695) - [Docs_Deduplication] Duplicate check completed in 0.01s: 1 new, 0 dup, 0 updates
2025-05-19 00:13:18 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: documents has only 1 rows, minimum 256 required
2025-05-19 00:13:18 [INFO] 🆕 (pre_save_deduplication:193) - [Docs_Deduplication] 📊 Document deduplication summary: fighter_jet_rocket_launcher_spec_2_changed_values_combined is completely new (all 1 pages are new)
2025-05-19 00:13:18 [INFO] 📊 (stable_save_to_lancedb:210) - [Save_To_LanceDB] Document has 1 new pages, 0 updated pages
2025-05-19 00:13:18 [INFO] 🔌 (stable_save_to_lancedb:303) - [Save_To_LanceDB] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:13:18 [INFO] ✅ (stable_save_to_lancedb:305) - [Save_To_LanceDB] Connected to LanceDB
2025-05-19 00:13:18 [INFO] 📂 (stable_save_to_lancedb:249) - [Save_To_LanceDB] Opening existing table: documents
2025-05-19 00:13:18 [INFO] ➕ (stable_save_to_lancedb:316) - [Save_To_LanceDB] Adding 1 new pages to LanceDB
2025-05-19 00:13:18 [INFO] ✅ (stable_save_to_lancedb:318) - [Save_To_LanceDB] New pages added successfully
2025-05-19 00:13:18 [INFO] ⏱️ (stable_save_to_lancedb:385) - [Save_To_LanceDB] Processing completed in 5.37 seconds
2025-05-19 00:13:18 [INFO] ✅ (pipeline_controller:277) - [Pipeline_Controller] ✅ Document saved to LanceDB successfully
2025-05-19 00:13:18 [INFO] 🔄 (pipeline_controller:285) - [Pipeline_Controller] Step 5: Chunking document and checking for duplicate chunks
2025-05-19 00:13:18 [INFO] 🔄 (pre_save_deduplication:265) - [Docs_Deduplication] Connecting to LanceDB at: /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:13:18 [INFO] ✅ (pre_save_deduplication:275) - [Docs_Deduplication] Successfully connected to LanceDB
2025-05-19 00:13:18 [INFO] 🔄 (pipeline_controller:483) - [Pipeline_Controller] 🔄 Processing document with 1 pages for chunking
2025-05-19 00:13:18 [INFO] 🔄 (pipeline_controller:505) - [Pipeline_Controller] 🔄 Using standard chunking for new document
2025-05-19 00:13:18 [INFO] ✈️ (integrated_chunking:341) - [Integrated_Chunking] 🚀 Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:13:18 [INFO] 🧩 (integrated_chunking:291) - [Integrated_Chunking] 🔄 Chunking markdown text of 1497 characters using simplified LLM approach
2025-05-19 00:13:18 [INFO] ⚙️ (integrated_chunking:298) - [Integrated_Chunking] 🔄 Processing section 1/1
2025-05-19 00:13:18 [INFO] 🧩 (integrated_chunking:193) - [Integrated_Chunking] 🔄 Asking LLM to chunk text of 1497 characters
2025-05-19 00:13:25 [INFO] 🔢 (_00_utils:108) - Token counters updated: 6822 input, 2065 output
2025-05-19 00:13:25 [INFO] 🧩 (integrated_chunking:266) - [Integrated_Chunking] ✅ LLM provided 1 chunks
2025-05-19 00:13:25 [INFO] ✅ (integrated_chunking:302) - [Integrated_Chunking] ✅ Completed chunking. Total chunks: 1
2025-05-19 00:13:25 [INFO] 🧩 (integrated_chunking:352) - [Integrated_Chunking] 📊 Generated 1 chunks
2025-05-19 00:13:25 [INFO] 🧩 (integrated_chunking:353) - [Integrated_Chunking]    Min/Max/Avg chars: 1495/1495/1495.0
2025-05-19 00:13:25 [INFO] 🧩 (integrated_chunking:354) - [Integrated_Chunking]    Min/Max/Avg tokens: 373/373/373.0
2025-05-19 00:13:25 [INFO] 🔌 (integrated_chunking:365) - [Integrated_Chunking] 🔄 Connecting to LanceDB at output/lancedb
2025-05-19 00:13:25 [INFO] 🧩 (integrated_chunking:393) - [Integrated_Chunking] ✅ Opened existing document_chunks table
2025-05-19 00:13:25 [INFO] 🧮 (integrated_chunking:402) - [Integrated_Chunking] 🔄 Loading embedding model
2025-05-19 00:13:25 [INFO] ℹ️ (SentenceTransformer:211) - Use pytorch device_name: mps
2025-05-19 00:13:25 [INFO] ℹ️ (SentenceTransformer:219) - Load pretrained SentenceTransformer: intfloat/multilingual-e5-large-instruct
2025-05-19 00:13:30 [INFO] 🧩 (integrated_chunking:451) - [Integrated_Chunking] 🔄 Performing chunk-level deduplication
2025-05-19 00:13:30 [INFO] 🧩 (pre_save_deduplication:375) - [Docs_Deduplication] 
================================================================================
2025-05-19 00:13:30 [INFO] 🧩 (pre_save_deduplication:376) - [Docs_Deduplication] CHUNK DEDUPLICATION PROCESS FOR DOCUMENT: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:13:30 [INFO] 🧩 (pre_save_deduplication:377) - [Docs_Deduplication] ================================================================================
2025-05-19 00:13:30 [INFO] 🔄 (pre_save_deduplication:379) - [Docs_Deduplication] Checking for duplicate chunks in document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:13:30 [INFO] ⚠️ (pre_save_deduplication:338) - [Docs_Deduplication] Not creating index: document_chunks has only 3 rows, minimum 256 required
2025-05-19 00:13:30 [INFO] 🔍 (pre_save_deduplication:404) - [Docs_Deduplication] 📊 Found 3 existing chunks to compare against
2025-05-19 00:13:30 [INFO] ♻️ (pre_save_deduplication:142) - [Docs_Deduplication] 🧩 Chunk comparison: fighter_jet_rocket_launcher_spec_2_changed_values.pdf_chunk_1  is a duplicate of fighter_jet_rocket_launcher_spec_2.pdf_chunk_1  (similarity: 0.9953)
2025-05-19 00:13:30 [INFO] ♻️ (pre_save_deduplication:220) - [Docs_Deduplication] 📊 Chunk deduplication summary: only duplicate chunks (all 1 chunks are duplicates) in 0.01s
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:575) - [Docs_Deduplication] 
--------------------------------------------------
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:576) - [Docs_Deduplication] CHUNK DEDUPLICATION SUMMARY:
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:577) - [Docs_Deduplication]   • Total chunks processed: 1
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:578) - [Docs_Deduplication]   • Exact duplicates found: 1
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:579) - [Docs_Deduplication]   • Similar chunks found: 0
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:580) - [Docs_Deduplication]   • New unique chunks: 0
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:581) - [Docs_Deduplication]   • Processing time: 0.01 seconds
2025-05-19 00:13:30 [INFO] 📊 (pre_save_deduplication:582) - [Docs_Deduplication] --------------------------------------------------

2025-05-19 00:13:30 [INFO] ♻️ (integrated_chunking:466) - [Integrated_Chunking] 📊 Deduplication results: 0 new chunks, 1 duplicates, 0 updates
2025-05-19 00:13:30 [INFO] ⚠️ (integrated_chunking:477) - [Integrated_Chunking] ⚠️ No new chunks to save after deduplication
2025-05-19 00:13:30 [INFO] ⚙️ (integrated_chunking:480) - [Integrated_Chunking] ✅ Document processing completed in 12.46 seconds
2025-05-19 00:13:30 [INFO] ✅ (pipeline_controller:513) - [Pipeline_Controller] ✅ Chunking completed successfully
2025-05-19 00:13:30 [INFO] 📚 (pipeline_controller:525) - [Pipeline_Controller] Step 6: Extracting requirements from document chunks
2025-05-19 00:13:30 [INFO] ✈️ (extract_requirements:586) - [Extract_Requirements] 🔄 Processing document: fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:13:30 [INFO] 🔄 (extract_requirements:310) - [Extract_Requirements] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:13:30 [INFO] ✅ (extract_requirements:312) - [Extract_Requirements] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-19 00:13:30 [WARNING] ✈️ (extract_requirements:523) - [Extract_Requirements] ⚠️ No document info found for 'fighter_jet_rocket_launcher_spec_2_changed_values.pdf'
2025-05-19 00:13:30 [ERROR] ✈️ (extract_requirements:597) - [Extract_Requirements] ❌ Document fighter_jet_rocket_launcher_spec_2_changed_values.pdf not found in database
2025-05-19 00:13:30 [INFO] ✅ (pipeline_controller:537) - [Pipeline_Controller] ✅ Requirements extraction completed for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:13:30 [INFO] 🏁 (pipeline_controller:543) - [Pipeline_Controller] 🏁 Pipeline completed in 33.70 seconds for fighter_jet_rocket_launcher_spec_2_changed_values.pdf
2025-05-19 00:13:30 [INFO] ⏱️ (test_scenarios:442) - [E2E_Tests] Pipeline completed in 33.70 seconds
2025-05-19 00:13:30 [INFO] ⏱️ (test_scenarios:492) - [E2E_Tests] Pipeline completed in 33.71 seconds
2025-05-19 00:13:30 [INFO] ✅ (test_scenarios:498) - [E2E_Tests]   Step 2 PASSED ✅
2025-05-19 00:13:30 [INFO] 💾 (test_scenarios:552) - [E2E_Tests] Test results saved to /Users/fabio/Agentic_AI/Requify_V2/output/test_results/e2e_test_results_20250519_001330.json
2025-05-19 00:13:30 [INFO] 📝 (test_scenarios:553) - [E2E_Tests] Test summary saved to /Users/fabio/Agentic_AI/Requify_V2/output/test_results/e2e_test_summary_20250519_001330.txt
2025-05-19 00:13:30 [INFO] ✅ (test_scenarios:557) - [E2E_Tests] Scenario 2 PASSED ✅
