2025-05-21 16:12:10 [INFO] 🔍 - [DedupTester] Testing deduplication
2025-05-21 16:12:10 [INFO] 🔄 - [DedupTester] Document fighter_jet_rocket_launcher_spec.pdf has no embeddings. Adding them now.
2025-05-21 16:12:10 [INFO] 🔄 - [DedupTester] Adding embeddings to document: ../output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-21 16:12:10 [INFO] 🔄 - [DedupTester] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-21 16:12:10 [INFO] ✅ - [DedupTester] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-21 16:12:10 [INFO] ✅ - [DedupTester] Added embeddings to document: ../output/parsed_content/fighter_jet_rocket_launcher_spec/fighter_jet_rocket_launcher_spec_combined.json
2025-05-21 16:12:10 [INFO] 🔄 - [DedupTester] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-21 16:12:10 [INFO] ✅ - [DedupTester] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-21 16:12:10 [INFO] 💾 - [DedupTester] Saving first document fighter_jet_rocket_launcher_spec.pdf to database
2025-05-21 16:12:10 [INFO] 🔍 - [DedupTester] Now testing deduplication for second document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-21 16:12:10 [INFO] 🔍 - [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-21 16:12:10 [INFO] 🔄 - [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-21 16:12:10 [INFO] ⚠️ - [Docs_Deduplication] Not creating index: documents has only 6 rows, minimum 256 required
2025-05-21 16:12:10 [INFO] 🧬 - [Docs_Deduplication] Querying with embedding for page 1 (first 5: [0.03380770097224484, 0.03466089894224694, 0.027642546998523972, 0.035413132290063716, 0.0309585219077351], last 5: [0.028076617658347246, 0.03100043788309644, 0.036845641233733906, 0.025121225453142538, 0.028371853663022435]). All zeros: False, Has NaNs: False
2025-05-21 16:12:10 [INFO] 🔍 - [Docs_Deduplication] 🔍 Closest match for page 1: fighter_jet_rocket_launcher_spec_2.pdf page 1 (cosine ≈ 0.9873)
2025-05-21 16:12:10 [INFO] 📊 - [Docs_Deduplication] Duplicate check done in 0.02s → 1 new, 0 dup, 0 updates
2025-05-21 16:12:10 [INFO] ⚠️ - [Docs_Deduplication] Not creating index: documents has only 6 rows, minimum 256 required
2025-05-21 16:12:10 [INFO] 🔍 - [Docs_Deduplication] Comparing fighter_jet_rocket_launcher_spec_2_extra_end.pdf with 2 existing documents
2025-05-21 16:12:10 [INFO] 📊 - [Docs_Deduplication] Using 1 page embeddings from fighter_jet_rocket_launcher_spec_2_extra_end.pdf for document comparison
2025-05-21 16:12:10 [INFO] 📏 - [Docs_Deduplication] Document similarity: fighter_jet_rocket_launcher_spec_2_extra_end.pdf ↔ fighter_jet_rocket_launcher_spec_2.pdf: 0.9873
2025-05-21 16:12:10 [INFO] 📏 - [Docs_Deduplication] Document similarity: fighter_jet_rocket_launcher_spec_2_extra_end.pdf ↔ fighter_jet_rocket_launcher_spec.pdf: 0.9870
2025-05-21 16:12:10 [INFO] 🔄 - [Docs_Deduplication] 📚 DOCUMENT MATCH: fighter_jet_rocket_launcher_spec_2_extra_end.pdf is a NEW VERSION of fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9873)
2025-05-21 16:12:10 [INFO] 🔄 - [Docs_Deduplication] 📊 Document deduplication summary: fighter_jet_rocket_launcher_spec_2_extra_end.pdf is a new version of fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9873)
2025-05-21 16:12:10 [INFO] 📊 - [DedupTester] Deduplication results for fighter_jet_rocket_launcher_spec_2_extra_end.pdf:
2025-05-21 16:12:10 [INFO] 🆕 - [DedupTester] - New pages: 1
2025-05-21 16:12:10 [INFO] ♻️ - [DedupTester] - Duplicate pages: 0
2025-05-21 16:12:10 [INFO] 🔄 - [DedupTester] - Pages to update: 0
2025-05-21 16:12:10 [INFO] 🔄 - [DedupTester] - Document is a new version of fighter_jet_rocket_launcher_spec_2.pdf with similarity 0.9873
2025-05-21 16:13:11 [INFO] 🔍 - [DedupTester] Testing deduplication
2025-05-21 16:13:11 [INFO] 🔄 - [DedupTester] Connecting to LanceDB database at output/lancedb
2025-05-21 16:13:11 [INFO] ✅ - [DedupTester] Connected to LanceDB at output/lancedb
2025-05-21 16:13:11 [ERROR] ❌ - [DedupTester] Failed to connect to LanceDB. Aborting test.
2025-05-21 16:14:12 [INFO] 🔍 - [DedupTester] Testing deduplication
2025-05-21 16:14:12 [INFO] 🔄 - [DedupTester] Connecting to LanceDB database at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-21 16:14:12 [INFO] ✅ - [DedupTester] Connected to LanceDB at /Users/fabio/Agentic_AI/Requify_V2/output/lancedb
2025-05-21 16:14:12 [INFO] 💾 - [DedupTester] Saving first document fighter_jet_rocket_launcher_spec.pdf to database
2025-05-21 16:14:12 [INFO] 🔍 - [DedupTester] Now testing deduplication for second document fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-21 16:14:12 [INFO] 🔍 - [Docs_Deduplication] Checking for duplicate/similar documents: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-21 16:14:12 [INFO] 🔄 - [Docs_Deduplication] Checking for duplicates of document: fighter_jet_rocket_launcher_spec_2_extra_end.pdf
2025-05-21 16:14:12 [INFO] ⚠️ - [Docs_Deduplication] Not creating index: documents has only 9 rows, minimum 256 required
2025-05-21 16:14:12 [INFO] 🧬 - [Docs_Deduplication] Querying with embedding for page 1 (first 5: [0.03380770097224484, 0.03466089894224694, 0.027642546998523972, 0.035413132290063716, 0.0309585219077351], last 5: [0.028076617658347246, 0.03100043788309644, 0.036845641233733906, 0.025121225453142538, 0.028371853663022435]). All zeros: False, Has NaNs: False
2025-05-21 16:14:12 [INFO] 🔍 - [Docs_Deduplication] 🔍 Closest match for page 1: fighter_jet_rocket_launcher_spec_2.pdf page 1 (cosine ≈ 0.9873)
2025-05-21 16:14:12 [INFO] 📊 - [Docs_Deduplication] Duplicate check done in 0.06s → 1 new, 0 dup, 0 updates
2025-05-21 16:14:12 [INFO] ⚠️ - [Docs_Deduplication] Not creating index: documents has only 9 rows, minimum 256 required
2025-05-21 16:14:12 [INFO] 🔍 - [Docs_Deduplication] Comparing fighter_jet_rocket_launcher_spec_2_extra_end.pdf with 3 existing documents
2025-05-21 16:14:12 [INFO] 📊 - [Docs_Deduplication] Using 1 page embeddings from fighter_jet_rocket_launcher_spec_2_extra_end.pdf for document comparison
2025-05-21 16:14:12 [INFO] 📏 - [Docs_Deduplication] Document similarity: fighter_jet_rocket_launcher_spec_2_extra_end.pdf ↔ fighter_jet_rocket_launcher_spec_2.pdf: 0.9873
2025-05-21 16:14:12 [INFO] 📏 - [Docs_Deduplication] Document similarity: fighter_jet_rocket_launcher_spec_2_extra_end.pdf ↔ fighter_jet_unique_original.pdf: 0.9872
2025-05-21 16:14:12 [INFO] 📏 - [Docs_Deduplication] Document similarity: fighter_jet_rocket_launcher_spec_2_extra_end.pdf ↔ fighter_jet_rocket_launcher_spec.pdf: 0.9870
2025-05-21 16:14:12 [INFO] 🔄 - [Docs_Deduplication] 📚 DOCUMENT MATCH: fighter_jet_rocket_launcher_spec_2_extra_end.pdf is a NEW VERSION of fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9873)
2025-05-21 16:14:12 [INFO] 🔄 - [Docs_Deduplication] 📊 Document deduplication summary: fighter_jet_rocket_launcher_spec_2_extra_end.pdf is a new version of fighter_jet_rocket_launcher_spec_2.pdf (similarity: 0.9873)
2025-05-21 16:14:12 [INFO] 📊 - [DedupTester] Deduplication results for fighter_jet_rocket_launcher_spec_2_extra_end.pdf:
2025-05-21 16:14:12 [INFO] 🆕 - [DedupTester] - New pages: 1
2025-05-21 16:14:12 [INFO] ♻️ - [DedupTester] - Duplicate pages: 0
2025-05-21 16:14:12 [INFO] 🔄 - [DedupTester] - Pages to update: 0
2025-05-21 16:14:12 [INFO] 🔄 - [DedupTester] - Document is a new version of fighter_jet_rocket_launcher_spec_2.pdf with similarity 0.9873
